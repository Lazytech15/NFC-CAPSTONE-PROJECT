(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function At(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b_={exports:{}},hf={},E_={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP;function uq(){if(yP)return Ge;yP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function v(z,Y,le){this.props=z,this.context=Y,this.refs=E,this.updater=le||_}v.prototype.isReactComponent={},v.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function I(){}I.prototype=v.prototype;function A(z,Y,le){this.props=z,this.context=Y,this.refs=E,this.updater=le||_}var R=A.prototype=new I;R.constructor=A,w(R,v.prototype),R.isPureReactComponent=!0;var j=Array.isArray,O=Object.prototype.hasOwnProperty,D={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function k(z,Y,le){var be,xe={},Ne=null,De=null;if(Y!=null)for(be in Y.ref!==void 0&&(De=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)O.call(Y,be)&&!P.hasOwnProperty(be)&&(xe[be]=Y[be]);var ce=arguments.length-2;if(ce===1)xe.children=le;else if(1<ce){for(var oe=Array(ce),ye=0;ye<ce;ye++)oe[ye]=arguments[ye+2];xe.children=oe}if(z&&z.defaultProps)for(be in ce=z.defaultProps,ce)xe[be]===void 0&&(xe[be]=ce[be]);return{$$typeof:t,type:z,key:Ne,ref:De,props:xe,_owner:D.current}}function M(z,Y){return{$$typeof:t,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return Y[le]})}var V=/\/+/g;function C(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):Y.toString(36)}function W(z,Y,le,be,xe){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var De=!1;if(z===null)De=!0;else switch(Ne){case"string":case"number":De=!0;break;case"object":switch(z.$$typeof){case t:case e:De=!0}}if(De)return De=z,xe=xe(De),z=be===""?"."+C(De,0):be,j(xe)?(le="",z!=null&&(le=z.replace(V,"$&/")+"/"),W(xe,Y,le,"",function(ye){return ye})):xe!=null&&(F(xe)&&(xe=M(xe,le+(!xe.key||De&&De.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+z)),Y.push(xe)),1;if(De=0,be=be===""?".":be+":",j(z))for(var ce=0;ce<z.length;ce++){Ne=z[ce];var oe=be+C(Ne,ce);De+=W(Ne,Y,le,oe,xe)}else if(oe=y(z),typeof oe=="function")for(z=oe.call(z),ce=0;!(Ne=z.next()).done;)Ne=Ne.value,oe=be+C(Ne,ce++),De+=W(Ne,Y,le,oe,xe);else if(Ne==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return De}function K(z,Y,le){if(z==null)return z;var be=[],xe=0;return W(z,be,"","",function(Ne){return Y.call(le,Ne,xe++)}),be}function Z(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var re={current:null},Q={transition:null},X={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Q,ReactCurrentOwner:D};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:K,forEach:function(z,Y,le){K(z,function(){Y.apply(this,arguments)},le)},count:function(z){var Y=0;return K(z,function(){Y++}),Y},toArray:function(z){return K(z,function(Y){return Y})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ge.Component=v,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=A,Ge.StrictMode=r,Ge.Suspense=c,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ge.act=J,Ge.cloneElement=function(z,Y,le){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var be=w({},z.props),xe=z.key,Ne=z.ref,De=z._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,De=D.current),Y.key!==void 0&&(xe=""+Y.key),z.type&&z.type.defaultProps)var ce=z.type.defaultProps;for(oe in Y)O.call(Y,oe)&&!P.hasOwnProperty(oe)&&(be[oe]=Y[oe]===void 0&&ce!==void 0?ce[oe]:Y[oe])}var oe=arguments.length-2;if(oe===1)be.children=le;else if(1<oe){ce=Array(oe);for(var ye=0;ye<oe;ye++)ce[ye]=arguments[ye+2];be.children=ce}return{$$typeof:t,type:z.type,key:xe,ref:Ne,props:be,_owner:De}},Ge.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Ge.createElement=k,Ge.createFactory=function(z){var Y=k.bind(null,z);return Y.type=z,Y},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(z){return{$$typeof:l,render:z}},Ge.isValidElement=F,Ge.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Z}},Ge.memo=function(z,Y){return{$$typeof:f,type:z,compare:Y===void 0?null:Y}},Ge.startTransition=function(z){var Y=Q.transition;Q.transition={};try{z()}finally{Q.transition=Y}},Ge.unstable_act=J,Ge.useCallback=function(z,Y){return re.current.useCallback(z,Y)},Ge.useContext=function(z){return re.current.useContext(z)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(z){return re.current.useDeferredValue(z)},Ge.useEffect=function(z,Y){return re.current.useEffect(z,Y)},Ge.useId=function(){return re.current.useId()},Ge.useImperativeHandle=function(z,Y,le){return re.current.useImperativeHandle(z,Y,le)},Ge.useInsertionEffect=function(z,Y){return re.current.useInsertionEffect(z,Y)},Ge.useLayoutEffect=function(z,Y){return re.current.useLayoutEffect(z,Y)},Ge.useMemo=function(z,Y){return re.current.useMemo(z,Y)},Ge.useReducer=function(z,Y,le){return re.current.useReducer(z,Y,le)},Ge.useRef=function(z){return re.current.useRef(z)},Ge.useState=function(z){return re.current.useState(z)},Ge.useSyncExternalStore=function(z,Y,le){return re.current.useSyncExternalStore(z,Y,le)},Ge.useTransition=function(){return re.current.useTransition()},Ge.version="18.3.1",Ge}var vP;function zS(){return vP||(vP=1,E_.exports=uq()),E_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P;function lq(){if(_P)return hf;_P=1;var t=zS(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,f){var h,p={},y=null,_=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(_=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:l,key:y,ref:_,props:p,_owner:i.current}}return hf.Fragment=n,hf.jsx=a,hf.jsxs=a,hf}var wP;function cq(){return wP||(wP=1,b_.exports=lq()),b_.exports}var S=cq(),U=zS();const ee=At(U);var Mp={},S_={exports:{}},dr={},x_={exports:{}},T_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP;function fq(){return bP||(bP=1,function(t){function e(Q,X){var J=Q.length;Q.push(X);e:for(;0<J;){var z=J-1>>>1,Y=Q[z];if(0<i(Y,X))Q[z]=X,Q[J]=Y,J=z;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var X=Q[0],J=Q.pop();if(J!==X){Q[0]=J;e:for(var z=0,Y=Q.length,le=Y>>>1;z<le;){var be=2*(z+1)-1,xe=Q[be],Ne=be+1,De=Q[Ne];if(0>i(xe,J))Ne<Y&&0>i(De,xe)?(Q[z]=De,Q[Ne]=J,z=Ne):(Q[z]=xe,Q[be]=J,z=be);else if(Ne<Y&&0>i(De,J))Q[z]=De,Q[Ne]=J,z=Ne;else break e}}return X}function i(Q,X){var J=Q.sortIndex-X.sortIndex;return J!==0?J:Q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],f=[],h=1,p=null,y=3,_=!1,w=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Q){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=Q)r(f),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(f)}}function j(Q){if(E=!1,R(Q),!w)if(n(c)!==null)w=!0,Z(O);else{var X=n(f);X!==null&&re(j,X.startTime-Q)}}function O(Q,X){w=!1,E&&(E=!1,I(k),k=-1),_=!0;var J=y;try{for(R(X),p=n(c);p!==null&&(!(p.expirationTime>X)||Q&&!L());){var z=p.callback;if(typeof z=="function"){p.callback=null,y=p.priorityLevel;var Y=z(p.expirationTime<=X);X=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(c)&&r(c),R(X)}else r(c);p=n(c)}if(p!==null)var le=!0;else{var be=n(f);be!==null&&re(j,be.startTime-X),le=!1}return le}finally{p=null,y=J,_=!1}}var D=!1,P=null,k=-1,M=5,F=-1;function L(){return!(t.unstable_now()-F<M)}function V(){if(P!==null){var Q=t.unstable_now();F=Q;var X=!0;try{X=P(!0,Q)}finally{X?C():(D=!1,P=null)}}else D=!1}var C;if(typeof A=="function")C=function(){A(V)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=V,C=function(){K.postMessage(null)}}else C=function(){v(V,0)};function Z(Q){P=Q,D||(D=!0,C())}function re(Q,X){k=v(function(){Q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){w||_||(w=!0,Z(O))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var J=y;y=X;try{return Q()}finally{y=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var J=y;y=Q;try{return X()}finally{y=J}},t.unstable_scheduleCallback=function(Q,X,J){var z=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?z+J:z):J=z,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=J+Y,Q={id:h++,callback:X,priorityLevel:Q,startTime:J,expirationTime:Y,sortIndex:-1},J>z?(Q.sortIndex=J,e(f,Q),n(c)===null&&Q===n(f)&&(E?(I(k),k=-1):E=!0,re(j,J-z))):(Q.sortIndex=Y,e(c,Q),w||_||(w=!0,Z(O))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var X=y;return function(){var J=y;y=X;try{return Q.apply(this,arguments)}finally{y=J}}}}(T_)),T_}var EP;function dq(){return EP||(EP=1,x_.exports=fq()),x_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function hq(){if(SP)return dr;SP=1;var t=zS(),e=dq();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,u){a(s,u),a(s+"Capture",u)}function a(s,u){for(i[s]=u,s=0;s<u.length;s++)r.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function y(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function _(s,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,u,d,g){if(u===null||typeof u>"u"||_(s,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function E(s,u,d,g,b,T,$){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=s,this.type=u,this.sanitizeURL=T,this.removeEmptyString=$}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){v[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];v[u]=new E(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){v[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){v[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){v[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){v[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){v[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){v[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){v[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(I,A);v[u]=new E(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(I,A);v[u]=new E(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(I,A);v[u]=new E(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){v[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),v.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){v[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,u,d,g){var b=v.hasOwnProperty(u)?v[u]:null;(b!==null?b.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,d,b,g)&&(d=null),g||b===null?y(u)&&(d===null?s.removeAttribute(u):s.setAttribute(u,""+d)):b.mustUseProperty?s[b.propertyName]=d===null?b.type===3?!1:"":d:(u=b.attributeName,g=b.attributeNamespace,d===null?s.removeAttribute(u):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,g?s.setAttributeNS(g,u,d):s.setAttribute(u,d))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Q=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var J=Object.assign,z;function Y(s){if(z===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||""}return`
`+z+s}var le=!1;function be(s,u){if(!s||le)return"";le=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ae){var g=ae}Reflect.construct(s,[],u)}else{try{u.call()}catch(ae){g=ae}s.call(u.prototype)}else{try{throw Error()}catch(ae){g=ae}s()}}catch(ae){if(ae&&g&&typeof ae.stack=="string"){for(var b=ae.stack.split(`
`),T=g.stack.split(`
`),$=b.length-1,q=T.length-1;1<=$&&0<=q&&b[$]!==T[q];)q--;for(;1<=$&&0<=q;$--,q--)if(b[$]!==T[q]){if($!==1||q!==1)do if($--,q--,0>q||b[$]!==T[q]){var H=`
`+b[$].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=$&&0<=q);break}}}finally{le=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?Y(s):""}function xe(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case D:return"Portal";case M:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case V:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return u=s.displayName||null,u!==null?u:Ne(s.type)||"Memo";case Z:u=s._payload,s=s._init;try{return Ne(s(u))}catch{}}return null}function De(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(u);case 8:return u===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oe(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ye(s){var u=oe(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),g=""+s[u];if(!s.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,T=d.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return b.call(this)},set:function($){g=""+$,T.call(this,$)}}),Object.defineProperty(s,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Ie(s){s._valueTracker||(s._valueTracker=ye(s))}function he(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return s&&(g=oe(s)?s.checked?"true":"false":s.value),s=g,s!==d?(u.setValue(s),!0):!1}function We(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function je(s,u){var d=u.checked;return J({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function mt(s,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=ce(u.value!=null?u.value:d),s._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function wt(s,u){u=u.checked,u!=null&&R(s,"checked",u,!1)}function Ut(s,u){wt(s,u);var d=ce(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?br(s,u.type,d):u.hasOwnProperty("defaultValue")&&br(s,u.type,ce(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function wr(s,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,d||u===s.value||(s.value=u),s.defaultValue=u}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function br(s,u,d){(u!=="number"||We(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var ir=Array.isArray;function Tn(s,u,d,g){if(s=s.options,u){u={};for(var b=0;b<d.length;b++)u["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=u.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&g&&(s[d].defaultSelected=!0)}else{for(d=""+ce(d),u=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}u!==null||s[b].disabled||(u=s[b])}u!==null&&(u.selected=!0)}}function Er(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Bi(s,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(n(92));if(ir(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),d=u}s._wrapperState={initialValue:ce(d)}}function co(s,u){var d=ce(u.value),g=ce(u.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),u.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),g!=null&&(s.defaultValue=""+g)}function oa(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function an(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sn(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?an(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var fo,Ec=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,b){MSApp.execUnsafeLocalFunction(function(){return s(u,d,g,b)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=fo.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function aa(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(s){hs.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),ds[u]=ds[s]})});function Sc(s,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||ds.hasOwnProperty(s)&&ds[s]?(""+u).trim():u+"px"}function xc(s,u){s=s.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,b=Sc(d,u[d],g);d==="float"&&(d="cssFloat"),g?s.setProperty(d,b):s[d]=b}}var Tc=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ac(s,u){if(u){if(Tc[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Ic(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function bu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Eu=null,Fr=null,qi=null;function Su(s){if(s=Qc(s)){if(typeof Eu!="function")throw Error(n(280));var u=s.stateNode;u&&(u=Gh(u),Eu(s.stateNode,s.type,u))}}function zi(s){Fr?qi?qi.push(s):qi=[s]:Fr=s}function Pc(){if(Fr){var s=Fr,u=qi;if(qi=Fr=null,Su(s),u)for(s=0;s<u.length;s++)Su(u[s])}}function ms(s,u){return s(u)}function Cc(){}var ho=!1;function Oc(s,u,d){if(ho)return s(u,d);ho=!0;try{return ms(s,u,d)}finally{ho=!1,(Fr!==null||qi!==null)&&(Cc(),Pc())}}function Kt(s,u){var d=s.stateNode;if(d===null)return null;var g=Gh(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var xu=!1;if(l)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){xu=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{xu=!1}function gs(s,u,d,g,b,T,$,q,H){var ae=Array.prototype.slice.call(arguments,3);try{u.apply(d,ae)}catch(me){this.onError(me)}}var ys=!1,Tu=null,fi=!1,kc=null,Yy={onError:function(s){ys=!0,Tu=s}};function Au(s,u,d,g,b,T,$,q,H){ys=!1,Tu=null,gs.apply(Yy,arguments)}function _h(s,u,d,g,b,T,$,q,H){if(Au.apply(this,arguments),ys){if(ys){var ae=Tu;ys=!1,Tu=null}else throw Error(n(198));fi||(fi=!0,kc=ae)}}function di(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,u.flags&4098&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function vs(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function hi(s){if(di(s)!==s)throw Error(n(188))}function wh(s){var u=s.alternate;if(!u){if(u=di(s),u===null)throw Error(n(188));return u!==s?null:s}for(var d=s,g=u;;){var b=d.return;if(b===null)break;var T=b.alternate;if(T===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===d)return hi(b),s;if(T===g)return hi(b),u;T=T.sibling}throw Error(n(188))}if(d.return!==g.return)d=b,g=T;else{for(var $=!1,q=b.child;q;){if(q===d){$=!0,d=b,g=T;break}if(q===g){$=!0,g=b,d=T;break}q=q.sibling}if(!$){for(q=T.child;q;){if(q===d){$=!0,d=T,g=b;break}if(q===g){$=!0,g=T,d=b;break}q=q.sibling}if(!$)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:u}function Rc(s){return s=wh(s),s!==null?Iu(s):null}function Iu(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=Iu(s);if(u!==null)return u;s=s.sibling}return null}var Pu=e.unstable_scheduleCallback,Nc=e.unstable_cancelCallback,bh=e.unstable_shouldYield,Xy=e.unstable_requestPaint,St=e.unstable_now,Eh=e.unstable_getCurrentPriorityLevel,_s=e.unstable_ImmediatePriority,sa=e.unstable_UserBlockingPriority,Vr=e.unstable_NormalPriority,Mc=e.unstable_LowPriority,Sh=e.unstable_IdlePriority,ws=null,Sr=null;function xh(s){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(ws,s,void 0,(s.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:Ah,Dc=Math.log,Th=Math.LN2;function Ah(s){return s>>>=0,s===0?32:31-(Dc(s)/Th|0)|0}var Cu=64,Ou=4194304;function ua(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function bs(s,u){var d=s.pendingLanes;if(d===0)return 0;var g=0,b=s.suspendedLanes,T=s.pingedLanes,$=d&268435455;if($!==0){var q=$&~b;q!==0?g=ua(q):(T&=$,T!==0&&(g=ua(T)))}else $=d&~b,$!==0?g=ua($):T!==0&&(g=ua(T));if(g===0)return 0;if(u!==0&&u!==g&&!(u&b)&&(b=g&-g,T=u&-u,b>=T||b===16&&(T&4194240)!==0))return u;if(g&4&&(g|=d&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=g;0<u;)d=31-Yn(u),b=1<<d,g|=s[d],u&=~b;return g}function Qy(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(s,u){for(var d=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,T=s.pendingLanes;0<T;){var $=31-Yn(T),q=1<<$,H=b[$];H===-1?(!(q&d)||q&g)&&(b[$]=Qy(q,u)):H<=u&&(s.expiredLanes|=q),T&=~q}}function xr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Es(){var s=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),s}function la(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function ca(s,u,d){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-Yn(u),s[u]=d}function bt(s,u){var d=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<d;){var b=31-Yn(d),T=1<<b;u[b]=0,g[b]=-1,s[b]=-1,d&=~T}}function fa(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var g=31-Yn(d),b=1<<g;b&u|s[g]&u&&(s[g]|=u),d&=~b}}var et=0;function da(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ih,ku,Ph,Ch,Oh,jc=!1,Wi=[],An=null,pi=null,mi=null,ha=new Map,Ur=new Map,Hi=[],Jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kh(s,u){switch(s){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":ha.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(u.pointerId)}}function or(s,u,d,g,b,T){return s===null||s.nativeEvent!==T?(s={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[b]},u!==null&&(u=Qc(u),u!==null&&ku(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),s)}function Zy(s,u,d,g,b){switch(u){case"focusin":return An=or(An,s,u,d,g,b),!0;case"dragenter":return pi=or(pi,s,u,d,g,b),!0;case"mouseover":return mi=or(mi,s,u,d,g,b),!0;case"pointerover":var T=b.pointerId;return ha.set(T,or(ha.get(T)||null,s,u,d,g,b)),!0;case"gotpointercapture":return T=b.pointerId,Ur.set(T,or(Ur.get(T)||null,s,u,d,g,b)),!0}return!1}function Rh(s){var u=Is(s.target);if(u!==null){var d=di(u);if(d!==null){if(u=d.tag,u===13){if(u=vs(d),u!==null){s.blockedOn=u,Oh(s.priority,function(){Ph(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mo(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=Ru(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);ps=g,d.target.dispatchEvent(g),ps=null}else return u=Qc(d),u!==null&&ku(u),s.blockedOn=d,!1;u.shift()}return!0}function Ss(s,u,d){mo(s)&&d.delete(u)}function Nh(){jc=!1,An!==null&&mo(An)&&(An=null),pi!==null&&mo(pi)&&(pi=null),mi!==null&&mo(mi)&&(mi=null),ha.forEach(Ss),Ur.forEach(Ss)}function gi(s,u){s.blockedOn===u&&(s.blockedOn=null,jc||(jc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nh)))}function yi(s){function u(b){return gi(b,s)}if(0<Wi.length){gi(Wi[0],s);for(var d=1;d<Wi.length;d++){var g=Wi[d];g.blockedOn===s&&(g.blockedOn=null)}}for(An!==null&&gi(An,s),pi!==null&&gi(pi,s),mi!==null&&gi(mi,s),ha.forEach(u),Ur.forEach(u),d=0;d<Hi.length;d++)g=Hi[d],g.blockedOn===s&&(g.blockedOn=null);for(;0<Hi.length&&(d=Hi[0],d.blockedOn===null);)Rh(d),d.blockedOn===null&&Hi.shift()}var go=j.ReactCurrentBatchConfig,pa=!0;function Rt(s,u,d,g){var b=et,T=go.transition;go.transition=null;try{et=1,Lc(s,u,d,g)}finally{et=b,go.transition=T}}function ev(s,u,d,g){var b=et,T=go.transition;go.transition=null;try{et=4,Lc(s,u,d,g)}finally{et=b,go.transition=T}}function Lc(s,u,d,g){if(pa){var b=Ru(s,u,d,g);if(b===null)fv(s,u,g,xs,d),kh(s,g);else if(Zy(b,s,u,d,g))g.stopPropagation();else if(kh(s,g),u&4&&-1<Jy.indexOf(s)){for(;b!==null;){var T=Qc(b);if(T!==null&&Ih(T),T=Ru(s,u,d,g),T===null&&fv(s,u,g,xs,d),T===b)break;b=T}b!==null&&g.stopPropagation()}else fv(s,u,g,null,d)}}var xs=null;function Ru(s,u,d,g){if(xs=null,s=bu(g),s=Is(s),s!==null)if(u=di(s),u===null)s=null;else if(d=u.tag,d===13){if(s=vs(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return xs=s,null}function $c(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eh()){case _s:return 1;case sa:return 4;case Vr:case Mc:return 16;case Sh:return 536870912;default:return 16}default:return 16}}var Tr=null,Nu=null,ar=null;function Fc(){if(ar)return ar;var s,u=Nu,d=u.length,g,b="value"in Tr?Tr.value:Tr.textContent,T=b.length;for(s=0;s<d&&u[s]===b[s];s++);var $=d-s;for(g=1;g<=$&&u[d-g]===b[T-g];g++);return ar=b.slice(s,1<g?1-g:void 0)}function Mu(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Ki(){return!0}function Vc(){return!1}function In(s){function u(d,g,b,T,$){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=T,this.target=$,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(d=s[q],this[q]=d?d(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ki:Vc,this.isPropagationStopped=Vc,this}return J(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),u}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=In(vi),Gi=J({},vi,{view:0,detail:0}),tv=In(Gi),ju,yo,ma,Ts=J({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ma&&(ma&&s.type==="mousemove"?(ju=s.screenX-ma.screenX,yo=s.screenY-ma.screenY):yo=ju=0,ma=s),ju)},movementY:function(s){return"movementY"in s?s.movementY:yo}}),Lu=In(Ts),Uc=J({},Ts,{dataTransfer:0}),Mh=In(Uc),$u=J({},Gi,{relatedTarget:0}),Fu=In($u),Dh=J({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),vo=In(Dh),jh=J({},vi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Lh=In(jh),$h=J({},vi,{data:0}),Bc=In($h),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=Fh[s])?!!u[s]:!1}function Yi(){return Vh}var m=J({},Gi,{key:function(s){if(s.key){var u=Vu[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Mu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(s){return s.type==="keypress"?Mu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=In(m),N=J({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=In(N),te=J({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),se=In(te),we=J({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gt=In(we),un=J({},Ts,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=In(un),gn=[9,13,27,32],Qt=l&&"CompositionEvent"in window,Br=null;l&&"documentMode"in document&&(Br=document.documentMode);var Ar=l&&"TextEvent"in window&&!Br,As=l&&(!Qt||Br&&8<Br&&11>=Br),Uu=" ",fA=!1;function dA(s,u){switch(s){case"keyup":return gn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bu=!1;function oB(s,u){switch(s){case"compositionend":return hA(u);case"keypress":return u.which!==32?null:(fA=!0,Uu);case"textInput":return s=u.data,s===Uu&&fA?null:s;default:return null}}function aB(s,u){if(Bu)return s==="compositionend"||!Qt&&dA(s,u)?(s=Fc(),ar=Nu=Tr=null,Bu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return As&&u.locale!=="ko"?null:u.data;default:return null}}var sB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pA(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!sB[s.type]:u==="textarea"}function mA(s,u,d,g){zi(g),u=Wh(u,"onChange"),0<u.length&&(d=new Du("onChange","change",null,d,g),s.push({event:d,listeners:u}))}var qc=null,zc=null;function uB(s){NA(s,0)}function Uh(s){var u=Ku(s);if(he(u))return s}function lB(s,u){if(s==="change")return u}var gA=!1;if(l){var nv;if(l){var rv="oninput"in document;if(!rv){var yA=document.createElement("div");yA.setAttribute("oninput","return;"),rv=typeof yA.oninput=="function"}nv=rv}else nv=!1;gA=nv&&(!document.documentMode||9<document.documentMode)}function vA(){qc&&(qc.detachEvent("onpropertychange",_A),zc=qc=null)}function _A(s){if(s.propertyName==="value"&&Uh(zc)){var u=[];mA(u,zc,s,bu(s)),Oc(uB,u)}}function cB(s,u,d){s==="focusin"?(vA(),qc=u,zc=d,qc.attachEvent("onpropertychange",_A)):s==="focusout"&&vA()}function fB(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Uh(zc)}function dB(s,u){if(s==="click")return Uh(u)}function hB(s,u){if(s==="input"||s==="change")return Uh(u)}function pB(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var _i=typeof Object.is=="function"?Object.is:pB;function Wc(s,u){if(_i(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!c.call(u,b)||!_i(s[b],u[b]))return!1}return!0}function wA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bA(s,u){var d=wA(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=u&&g>=u)return{node:d,offset:u-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=wA(d)}}function EA(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?EA(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function SA(){for(var s=window,u=We();u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=We(s.document)}return u}function iv(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function mB(s){var u=SA(),d=s.focusedElem,g=s.selectionRange;if(u!==d&&d&&d.ownerDocument&&EA(d.ownerDocument.documentElement,d)){if(g!==null&&iv(d)){if(u=g.start,s=g.end,s===void 0&&(s=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(s,d.value.length);else if(s=(u=d.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var b=d.textContent.length,T=Math.min(g.start,b);g=g.end===void 0?T:Math.min(g.end,b),!s.extend&&T>g&&(b=g,g=T,T=b),b=bA(d,T);var $=bA(d,g);b&&$&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(u=u.createRange(),u.setStart(b.node,b.offset),s.removeAllRanges(),T>g?(s.addRange(u),s.extend($.node,$.offset)):(u.setEnd($.node,$.offset),s.addRange(u)))}}for(u=[],s=d;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)s=u[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var gB=l&&"documentMode"in document&&11>=document.documentMode,qu=null,ov=null,Hc=null,av=!1;function xA(s,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;av||qu==null||qu!==We(g)||(g=qu,"selectionStart"in g&&iv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Hc&&Wc(Hc,g)||(Hc=g,g=Wh(ov,"onSelect"),0<g.length&&(u=new Du("onSelect","select",null,u,d),s.push({event:u,listeners:g}),u.target=qu)))}function Bh(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var zu={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},sv={},TA={};l&&(TA=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function qh(s){if(sv[s])return sv[s];if(!zu[s])return s;var u=zu[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in TA)return sv[s]=u[d];return s}var AA=qh("animationend"),IA=qh("animationiteration"),PA=qh("animationstart"),CA=qh("transitionend"),OA=new Map,kA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(s,u){OA.set(s,u),o(u,[s])}for(var uv=0;uv<kA.length;uv++){var lv=kA[uv],yB=lv.toLowerCase(),vB=lv[0].toUpperCase()+lv.slice(1);ga(yB,"on"+vB)}ga(AA,"onAnimationEnd"),ga(IA,"onAnimationIteration"),ga(PA,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(CA,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_B=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kc));function RA(s,u,d){var g=s.type||"unknown-event";s.currentTarget=d,_h(g,u,void 0,s),s.currentTarget=null}function NA(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],b=g.event;g=g.listeners;e:{var T=void 0;if(u)for(var $=g.length-1;0<=$;$--){var q=g[$],H=q.instance,ae=q.currentTarget;if(q=q.listener,H!==T&&b.isPropagationStopped())break e;RA(b,q,ae),T=H}else for($=0;$<g.length;$++){if(q=g[$],H=q.instance,ae=q.currentTarget,q=q.listener,H!==T&&b.isPropagationStopped())break e;RA(b,q,ae),T=H}}}if(fi)throw s=kc,fi=!1,kc=null,s}function It(s,u){var d=u[yv];d===void 0&&(d=u[yv]=new Set);var g=s+"__bubble";d.has(g)||(MA(u,s,2,!1),d.add(g))}function cv(s,u,d){var g=0;u&&(g|=4),MA(d,s,g,u)}var zh="_reactListening"+Math.random().toString(36).slice(2);function Gc(s){if(!s[zh]){s[zh]=!0,r.forEach(function(d){d!=="selectionchange"&&(_B.has(d)||cv(d,!1,s),cv(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[zh]||(u[zh]=!0,cv("selectionchange",!1,u))}}function MA(s,u,d,g){switch($c(u)){case 1:var b=Rt;break;case 4:b=ev;break;default:b=Lc}d=b.bind(null,u,d,s),b=void 0,!xu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(u,d,{capture:!0,passive:b}):s.addEventListener(u,d,!0):b!==void 0?s.addEventListener(u,d,{passive:b}):s.addEventListener(u,d,!1)}function fv(s,u,d,g,b){var T=g;if(!(u&1)&&!(u&2)&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var q=g.stateNode.containerInfo;if(q===b||q.nodeType===8&&q.parentNode===b)break;if($===4)for($=g.return;$!==null;){var H=$.tag;if((H===3||H===4)&&(H=$.stateNode.containerInfo,H===b||H.nodeType===8&&H.parentNode===b))return;$=$.return}for(;q!==null;){if($=Is(q),$===null)return;if(H=$.tag,H===5||H===6){g=T=$;continue e}q=q.parentNode}}g=g.return}Oc(function(){var ae=T,me=bu(d),ge=[];e:{var pe=OA.get(s);if(pe!==void 0){var Ee=Du,Oe=s;switch(s){case"keypress":if(Mu(d)===0)break e;case"keydown":case"keyup":Ee=x;break;case"focusin":Oe="focus",Ee=Fu;break;case"focusout":Oe="blur",Ee=Fu;break;case"beforeblur":case"afterblur":Ee=Fu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=se;break;case AA:case IA:case PA:Ee=vo;break;case CA:Ee=gt;break;case"scroll":Ee=tv;break;case"wheel":Ee=nt;break;case"copy":case"cut":case"paste":Ee=Lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=B}var ke=(u&4)!==0,Gt=!ke&&s==="scroll",ne=ke?pe!==null?pe+"Capture":null:pe;ke=[];for(var G=ae,ie;G!==null;){ie=G;var ve=ie.stateNode;if(ie.tag===5&&ve!==null&&(ie=ve,ne!==null&&(ve=Kt(G,ne),ve!=null&&ke.push(Yc(G,ve,ie)))),Gt)break;G=G.return}0<ke.length&&(pe=new Ee(pe,Oe,null,d,me),ge.push({event:pe,listeners:ke}))}}if(!(u&7)){e:{if(pe=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",pe&&d!==ps&&(Oe=d.relatedTarget||d.fromElement)&&(Is(Oe)||Oe[_o]))break e;if((Ee||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ee?(Oe=d.relatedTarget||d.toElement,Ee=ae,Oe=Oe?Is(Oe):null,Oe!==null&&(Gt=di(Oe),Oe!==Gt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ee=null,Oe=ae),Ee!==Oe)){if(ke=Lu,ve="onMouseLeave",ne="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(ke=B,ve="onPointerLeave",ne="onPointerEnter",G="pointer"),Gt=Ee==null?pe:Ku(Ee),ie=Oe==null?pe:Ku(Oe),pe=new ke(ve,G+"leave",Ee,d,me),pe.target=Gt,pe.relatedTarget=ie,ve=null,Is(me)===ae&&(ke=new ke(ne,G+"enter",Oe,d,me),ke.target=ie,ke.relatedTarget=Gt,ve=ke),Gt=ve,Ee&&Oe)t:{for(ke=Ee,ne=Oe,G=0,ie=ke;ie;ie=Wu(ie))G++;for(ie=0,ve=ne;ve;ve=Wu(ve))ie++;for(;0<G-ie;)ke=Wu(ke),G--;for(;0<ie-G;)ne=Wu(ne),ie--;for(;G--;){if(ke===ne||ne!==null&&ke===ne.alternate)break t;ke=Wu(ke),ne=Wu(ne)}ke=null}else ke=null;Ee!==null&&DA(ge,pe,Ee,ke,!1),Oe!==null&&Gt!==null&&DA(ge,Gt,Oe,ke,!0)}}e:{if(pe=ae?Ku(ae):window,Ee=pe.nodeName&&pe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&pe.type==="file")var Re=lB;else if(pA(pe))if(gA)Re=hB;else{Re=fB;var Le=cB}else(Ee=pe.nodeName)&&Ee.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Re=dB);if(Re&&(Re=Re(s,ae))){mA(ge,Re,d,me);break e}Le&&Le(s,pe,ae),s==="focusout"&&(Le=pe._wrapperState)&&Le.controlled&&pe.type==="number"&&br(pe,"number",pe.value)}switch(Le=ae?Ku(ae):window,s){case"focusin":(pA(Le)||Le.contentEditable==="true")&&(qu=Le,ov=ae,Hc=null);break;case"focusout":Hc=ov=qu=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,xA(ge,d,me);break;case"selectionchange":if(gB)break;case"keydown":case"keyup":xA(ge,d,me)}var $e;if(Qt)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Bu?dA(s,d)&&(Be="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Be="onCompositionStart");Be&&(As&&d.locale!=="ko"&&(Bu||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Bu&&($e=Fc()):(Tr=me,Nu="value"in Tr?Tr.value:Tr.textContent,Bu=!0)),Le=Wh(ae,Be),0<Le.length&&(Be=new Bc(Be,s,null,d,me),ge.push({event:Be,listeners:Le}),$e?Be.data=$e:($e=hA(d),$e!==null&&(Be.data=$e)))),($e=Ar?oB(s,d):aB(s,d))&&(ae=Wh(ae,"onBeforeInput"),0<ae.length&&(me=new Bc("onBeforeInput","beforeinput",null,d,me),ge.push({event:me,listeners:ae}),me.data=$e))}NA(ge,u)})}function Yc(s,u,d){return{instance:s,listener:u,currentTarget:d}}function Wh(s,u){for(var d=u+"Capture",g=[];s!==null;){var b=s,T=b.stateNode;b.tag===5&&T!==null&&(b=T,T=Kt(s,d),T!=null&&g.unshift(Yc(s,T,b)),T=Kt(s,u),T!=null&&g.push(Yc(s,T,b))),s=s.return}return g}function Wu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function DA(s,u,d,g,b){for(var T=u._reactName,$=[];d!==null&&d!==g;){var q=d,H=q.alternate,ae=q.stateNode;if(H!==null&&H===g)break;q.tag===5&&ae!==null&&(q=ae,b?(H=Kt(d,T),H!=null&&$.unshift(Yc(d,H,q))):b||(H=Kt(d,T),H!=null&&$.push(Yc(d,H,q)))),d=d.return}$.length!==0&&s.push({event:u,listeners:$})}var wB=/\r\n?/g,bB=/\u0000|\uFFFD/g;function jA(s){return(typeof s=="string"?s:""+s).replace(wB,`
`).replace(bB,"")}function Hh(s,u,d){if(u=jA(u),jA(s)!==u&&d)throw Error(n(425))}function Kh(){}var dv=null,hv=null;function pv(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var mv=typeof setTimeout=="function"?setTimeout:void 0,EB=typeof clearTimeout=="function"?clearTimeout:void 0,LA=typeof Promise=="function"?Promise:void 0,SB=typeof queueMicrotask=="function"?queueMicrotask:typeof LA<"u"?function(s){return LA.resolve(null).then(s).catch(xB)}:mv;function xB(s){setTimeout(function(){throw s})}function gv(s,u){var d=u,g=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(g===0){s.removeChild(b),yi(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=b}while(d);yi(u)}function ya(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function $A(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return s;u--}else d==="/$"&&u++}s=s.previousSibling}return null}var Hu=Math.random().toString(36).slice(2),Xi="__reactFiber$"+Hu,Xc="__reactProps$"+Hu,_o="__reactContainer$"+Hu,yv="__reactEvents$"+Hu,TB="__reactListeners$"+Hu,AB="__reactHandles$"+Hu;function Is(s){var u=s[Xi];if(u)return u;for(var d=s.parentNode;d;){if(u=d[_o]||d[Xi]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=$A(s);s!==null;){if(d=s[Xi])return d;s=$A(s)}return u}s=d,d=s.parentNode}return null}function Qc(s){return s=s[Xi]||s[_o],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ku(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Gh(s){return s[Xc]||null}var vv=[],Gu=-1;function va(s){return{current:s}}function Pt(s){0>Gu||(s.current=vv[Gu],vv[Gu]=null,Gu--)}function xt(s,u){Gu++,vv[Gu]=s.current,s.current=u}var _a={},jn=va(_a),sr=va(!1),Ps=_a;function Yu(s,u){var d=s.type.contextTypes;if(!d)return _a;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var b={},T;for(T in d)b[T]=u[T];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=b),b}function ur(s){return s=s.childContextTypes,s!=null}function Yh(){Pt(sr),Pt(jn)}function FA(s,u,d){if(jn.current!==_a)throw Error(n(168));xt(jn,u),xt(sr,d)}function VA(s,u,d){var g=s.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var b in g)if(!(b in u))throw Error(n(108,De(s)||"Unknown",b));return J({},d,g)}function Xh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||_a,Ps=jn.current,xt(jn,s),xt(sr,sr.current),!0}function UA(s,u,d){var g=s.stateNode;if(!g)throw Error(n(169));d?(s=VA(s,u,Ps),g.__reactInternalMemoizedMergedChildContext=s,Pt(sr),Pt(jn),xt(jn,s)):Pt(sr),xt(sr,d)}var wo=null,Qh=!1,_v=!1;function BA(s){wo===null?wo=[s]:wo.push(s)}function IB(s){Qh=!0,BA(s)}function wa(){if(!_v&&wo!==null){_v=!0;var s=0,u=et;try{var d=wo;for(et=1;s<d.length;s++){var g=d[s];do g=g(!0);while(g!==null)}wo=null,Qh=!1}catch(b){throw wo!==null&&(wo=wo.slice(s+1)),Pu(_s,wa),b}finally{et=u,_v=!1}}return null}var Xu=[],Qu=0,Jh=null,Zh=0,qr=[],zr=0,Cs=null,bo=1,Eo="";function Os(s,u){Xu[Qu++]=Zh,Xu[Qu++]=Jh,Jh=s,Zh=u}function qA(s,u,d){qr[zr++]=bo,qr[zr++]=Eo,qr[zr++]=Cs,Cs=s;var g=bo;s=Eo;var b=32-Yn(g)-1;g&=~(1<<b),d+=1;var T=32-Yn(u)+b;if(30<T){var $=b-b%5;T=(g&(1<<$)-1).toString(32),g>>=$,b-=$,bo=1<<32-Yn(u)+b|d<<b|g,Eo=T+s}else bo=1<<T|d<<b|g,Eo=s}function wv(s){s.return!==null&&(Os(s,1),qA(s,1,0))}function bv(s){for(;s===Jh;)Jh=Xu[--Qu],Xu[Qu]=null,Zh=Xu[--Qu],Xu[Qu]=null;for(;s===Cs;)Cs=qr[--zr],qr[zr]=null,Eo=qr[--zr],qr[zr]=null,bo=qr[--zr],qr[zr]=null}var Ir=null,Pr=null,Nt=!1,wi=null;function zA(s,u){var d=Gr(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=s,u=s.deletions,u===null?(s.deletions=[d],s.flags|=16):u.push(d)}function WA(s,u){switch(s.tag){case 5:var d=s.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,Ir=s,Pr=ya(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,Ir=s,Pr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=Cs!==null?{id:bo,overflow:Eo}:null,s.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=Gr(18,null,null,0),d.stateNode=u,d.return=s,s.child=d,Ir=s,Pr=null,!0):!1;default:return!1}}function Ev(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sv(s){if(Nt){var u=Pr;if(u){var d=u;if(!WA(s,u)){if(Ev(s))throw Error(n(418));u=ya(d.nextSibling);var g=Ir;u&&WA(s,u)?zA(g,d):(s.flags=s.flags&-4097|2,Nt=!1,Ir=s)}}else{if(Ev(s))throw Error(n(418));s.flags=s.flags&-4097|2,Nt=!1,Ir=s}}}function HA(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ir=s}function ep(s){if(s!==Ir)return!1;if(!Nt)return HA(s),Nt=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!pv(s.type,s.memoizedProps)),u&&(u=Pr)){if(Ev(s))throw KA(),Error(n(418));for(;u;)zA(s,u),u=ya(u.nextSibling)}if(HA(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(u===0){Pr=ya(s.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}s=s.nextSibling}Pr=null}}else Pr=Ir?ya(s.stateNode.nextSibling):null;return!0}function KA(){for(var s=Pr;s;)s=ya(s.nextSibling)}function Ju(){Pr=Ir=null,Nt=!1}function xv(s){wi===null?wi=[s]:wi.push(s)}var PB=j.ReactCurrentBatchConfig;function Jc(s,u,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,s));var b=g,T=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function($){var q=b.refs;$===null?delete q[T]:q[T]=$},u._stringRef=T,u)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function tp(s,u){throw s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function GA(s){var u=s._init;return u(s._payload)}function YA(s){function u(ne,G){if(s){var ie=ne.deletions;ie===null?(ne.deletions=[G],ne.flags|=16):ie.push(G)}}function d(ne,G){if(!s)return null;for(;G!==null;)u(ne,G),G=G.sibling;return null}function g(ne,G){for(ne=new Map;G!==null;)G.key!==null?ne.set(G.key,G):ne.set(G.index,G),G=G.sibling;return ne}function b(ne,G){return ne=Pa(ne,G),ne.index=0,ne.sibling=null,ne}function T(ne,G,ie){return ne.index=ie,s?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<G?(ne.flags|=2,G):ie):(ne.flags|=2,G)):(ne.flags|=1048576,G)}function $(ne){return s&&ne.alternate===null&&(ne.flags|=2),ne}function q(ne,G,ie,ve){return G===null||G.tag!==6?(G=m_(ie,ne.mode,ve),G.return=ne,G):(G=b(G,ie),G.return=ne,G)}function H(ne,G,ie,ve){var Re=ie.type;return Re===P?me(ne,G,ie.props.children,ve,ie.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Z&&GA(Re)===G.type)?(ve=b(G,ie.props),ve.ref=Jc(ne,G,ie),ve.return=ne,ve):(ve=Tp(ie.type,ie.key,ie.props,null,ne.mode,ve),ve.ref=Jc(ne,G,ie),ve.return=ne,ve)}function ae(ne,G,ie,ve){return G===null||G.tag!==4||G.stateNode.containerInfo!==ie.containerInfo||G.stateNode.implementation!==ie.implementation?(G=g_(ie,ne.mode,ve),G.return=ne,G):(G=b(G,ie.children||[]),G.return=ne,G)}function me(ne,G,ie,ve,Re){return G===null||G.tag!==7?(G=$s(ie,ne.mode,ve,Re),G.return=ne,G):(G=b(G,ie),G.return=ne,G)}function ge(ne,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number")return G=m_(""+G,ne.mode,ie),G.return=ne,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return ie=Tp(G.type,G.key,G.props,null,ne.mode,ie),ie.ref=Jc(ne,null,G),ie.return=ne,ie;case D:return G=g_(G,ne.mode,ie),G.return=ne,G;case Z:var ve=G._init;return ge(ne,ve(G._payload),ie)}if(ir(G)||X(G))return G=$s(G,ne.mode,ie,null),G.return=ne,G;tp(ne,G)}return null}function pe(ne,G,ie,ve){var Re=G!==null?G.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Re!==null?null:q(ne,G,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return ie.key===Re?H(ne,G,ie,ve):null;case D:return ie.key===Re?ae(ne,G,ie,ve):null;case Z:return Re=ie._init,pe(ne,G,Re(ie._payload),ve)}if(ir(ie)||X(ie))return Re!==null?null:me(ne,G,ie,ve,null);tp(ne,ie)}return null}function Ee(ne,G,ie,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ne=ne.get(ie)||null,q(G,ne,""+ve,Re);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case O:return ne=ne.get(ve.key===null?ie:ve.key)||null,H(G,ne,ve,Re);case D:return ne=ne.get(ve.key===null?ie:ve.key)||null,ae(G,ne,ve,Re);case Z:var Le=ve._init;return Ee(ne,G,ie,Le(ve._payload),Re)}if(ir(ve)||X(ve))return ne=ne.get(ie)||null,me(G,ne,ve,Re,null);tp(G,ve)}return null}function Oe(ne,G,ie,ve){for(var Re=null,Le=null,$e=G,Be=G=0,_n=null;$e!==null&&Be<ie.length;Be++){$e.index>Be?(_n=$e,$e=null):_n=$e.sibling;var at=pe(ne,$e,ie[Be],ve);if(at===null){$e===null&&($e=_n);break}s&&$e&&at.alternate===null&&u(ne,$e),G=T(at,G,Be),Le===null?Re=at:Le.sibling=at,Le=at,$e=_n}if(Be===ie.length)return d(ne,$e),Nt&&Os(ne,Be),Re;if($e===null){for(;Be<ie.length;Be++)$e=ge(ne,ie[Be],ve),$e!==null&&(G=T($e,G,Be),Le===null?Re=$e:Le.sibling=$e,Le=$e);return Nt&&Os(ne,Be),Re}for($e=g(ne,$e);Be<ie.length;Be++)_n=Ee($e,ne,Be,ie[Be],ve),_n!==null&&(s&&_n.alternate!==null&&$e.delete(_n.key===null?Be:_n.key),G=T(_n,G,Be),Le===null?Re=_n:Le.sibling=_n,Le=_n);return s&&$e.forEach(function(Ca){return u(ne,Ca)}),Nt&&Os(ne,Be),Re}function ke(ne,G,ie,ve){var Re=X(ie);if(typeof Re!="function")throw Error(n(150));if(ie=Re.call(ie),ie==null)throw Error(n(151));for(var Le=Re=null,$e=G,Be=G=0,_n=null,at=ie.next();$e!==null&&!at.done;Be++,at=ie.next()){$e.index>Be?(_n=$e,$e=null):_n=$e.sibling;var Ca=pe(ne,$e,at.value,ve);if(Ca===null){$e===null&&($e=_n);break}s&&$e&&Ca.alternate===null&&u(ne,$e),G=T(Ca,G,Be),Le===null?Re=Ca:Le.sibling=Ca,Le=Ca,$e=_n}if(at.done)return d(ne,$e),Nt&&Os(ne,Be),Re;if($e===null){for(;!at.done;Be++,at=ie.next())at=ge(ne,at.value,ve),at!==null&&(G=T(at,G,Be),Le===null?Re=at:Le.sibling=at,Le=at);return Nt&&Os(ne,Be),Re}for($e=g(ne,$e);!at.done;Be++,at=ie.next())at=Ee($e,ne,Be,at.value,ve),at!==null&&(s&&at.alternate!==null&&$e.delete(at.key===null?Be:at.key),G=T(at,G,Be),Le===null?Re=at:Le.sibling=at,Le=at);return s&&$e.forEach(function(sq){return u(ne,sq)}),Nt&&Os(ne,Be),Re}function Gt(ne,G,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===P&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:e:{for(var Re=ie.key,Le=G;Le!==null;){if(Le.key===Re){if(Re=ie.type,Re===P){if(Le.tag===7){d(ne,Le.sibling),G=b(Le,ie.props.children),G.return=ne,ne=G;break e}}else if(Le.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Z&&GA(Re)===Le.type){d(ne,Le.sibling),G=b(Le,ie.props),G.ref=Jc(ne,Le,ie),G.return=ne,ne=G;break e}d(ne,Le);break}else u(ne,Le);Le=Le.sibling}ie.type===P?(G=$s(ie.props.children,ne.mode,ve,ie.key),G.return=ne,ne=G):(ve=Tp(ie.type,ie.key,ie.props,null,ne.mode,ve),ve.ref=Jc(ne,G,ie),ve.return=ne,ne=ve)}return $(ne);case D:e:{for(Le=ie.key;G!==null;){if(G.key===Le)if(G.tag===4&&G.stateNode.containerInfo===ie.containerInfo&&G.stateNode.implementation===ie.implementation){d(ne,G.sibling),G=b(G,ie.children||[]),G.return=ne,ne=G;break e}else{d(ne,G);break}else u(ne,G);G=G.sibling}G=g_(ie,ne.mode,ve),G.return=ne,ne=G}return $(ne);case Z:return Le=ie._init,Gt(ne,G,Le(ie._payload),ve)}if(ir(ie))return Oe(ne,G,ie,ve);if(X(ie))return ke(ne,G,ie,ve);tp(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,G!==null&&G.tag===6?(d(ne,G.sibling),G=b(G,ie),G.return=ne,ne=G):(d(ne,G),G=m_(ie,ne.mode,ve),G.return=ne,ne=G),$(ne)):d(ne,G)}return Gt}var Zu=YA(!0),XA=YA(!1),np=va(null),rp=null,el=null,Tv=null;function Av(){Tv=el=rp=null}function Iv(s){var u=np.current;Pt(np),s._currentValue=u}function Pv(s,u,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===d)break;s=s.return}}function tl(s,u){rp=s,Tv=el=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&u&&(lr=!0),s.firstContext=null)}function Wr(s){var u=s._currentValue;if(Tv!==s)if(s={context:s,memoizedValue:u,next:null},el===null){if(rp===null)throw Error(n(308));el=s,rp.dependencies={lanes:0,firstContext:s}}else el=el.next=s;return u}var ks=null;function Cv(s){ks===null?ks=[s]:ks.push(s)}function QA(s,u,d,g){var b=u.interleaved;return b===null?(d.next=d,Cv(u)):(d.next=b.next,b.next=d),u.interleaved=d,So(s,g)}function So(s,u){s.lanes|=u;var d=s.alternate;for(d!==null&&(d.lanes|=u),d=s,s=s.return;s!==null;)s.childLanes|=u,d=s.alternate,d!==null&&(d.childLanes|=u),d=s,s=s.return;return d.tag===3?d.stateNode:null}var ba=!1;function Ov(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JA(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function xo(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function Ea(s,u,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,ot&2){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,So(s,d)}return b=g.interleaved,b===null?(u.next=u,Cv(g)):(u.next=b.next,b.next=u),g.interleaved=u,So(s,d)}function ip(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,fa(s,d)}}function ZA(s,u){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var $={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?b=T=$:T=T.next=$,d=d.next}while(d!==null);T===null?b=T=u:T=T.next=u}else b=T=u;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:g.shared,effects:g.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}function op(s,u,d,g){var b=s.updateQueue;ba=!1;var T=b.firstBaseUpdate,$=b.lastBaseUpdate,q=b.shared.pending;if(q!==null){b.shared.pending=null;var H=q,ae=H.next;H.next=null,$===null?T=ae:$.next=ae,$=H;var me=s.alternate;me!==null&&(me=me.updateQueue,q=me.lastBaseUpdate,q!==$&&(q===null?me.firstBaseUpdate=ae:q.next=ae,me.lastBaseUpdate=H))}if(T!==null){var ge=b.baseState;$=0,me=ae=H=null,q=T;do{var pe=q.lane,Ee=q.eventTime;if((g&pe)===pe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Oe=s,ke=q;switch(pe=u,Ee=d,ke.tag){case 1:if(Oe=ke.payload,typeof Oe=="function"){ge=Oe.call(Ee,ge,pe);break e}ge=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=ke.payload,pe=typeof Oe=="function"?Oe.call(Ee,ge,pe):Oe,pe==null)break e;ge=J({},ge,pe);break e;case 2:ba=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,pe=b.effects,pe===null?b.effects=[q]:pe.push(q))}else Ee={eventTime:Ee,lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},me===null?(ae=me=Ee,H=ge):me=me.next=Ee,$|=pe;if(q=q.next,q===null){if(q=b.shared.pending,q===null)break;pe=q,q=pe.next,pe.next=null,b.lastBaseUpdate=pe,b.shared.pending=null}}while(!0);if(me===null&&(H=ge),b.baseState=H,b.firstBaseUpdate=ae,b.lastBaseUpdate=me,u=b.shared.interleaved,u!==null){b=u;do $|=b.lane,b=b.next;while(b!==u)}else T===null&&(b.shared.lanes=0);Ms|=$,s.lanes=$,s.memoizedState=ge}}function eI(s,u,d){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var g=s[u],b=g.callback;if(b!==null){if(g.callback=null,g=d,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var Zc={},Qi=va(Zc),ef=va(Zc),tf=va(Zc);function Rs(s){if(s===Zc)throw Error(n(174));return s}function kv(s,u){switch(xt(tf,u),xt(ef,s),xt(Qi,Zc),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:sn(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=sn(u,s)}Pt(Qi),xt(Qi,u)}function nl(){Pt(Qi),Pt(ef),Pt(tf)}function tI(s){Rs(tf.current);var u=Rs(Qi.current),d=sn(u,s.type);u!==d&&(xt(ef,s),xt(Qi,d))}function Rv(s){ef.current===s&&(Pt(Qi),Pt(ef))}var jt=va(0);function ap(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Nv=[];function Mv(){for(var s=0;s<Nv.length;s++)Nv[s]._workInProgressVersionPrimary=null;Nv.length=0}var sp=j.ReactCurrentDispatcher,Dv=j.ReactCurrentBatchConfig,Ns=0,Lt=null,ln=null,yn=null,up=!1,nf=!1,rf=0,CB=0;function Ln(){throw Error(n(321))}function jv(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!_i(s[d],u[d]))return!1;return!0}function Lv(s,u,d,g,b,T){if(Ns=T,Lt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,sp.current=s===null||s.memoizedState===null?NB:MB,s=d(g,b),nf){T=0;do{if(nf=!1,rf=0,25<=T)throw Error(n(301));T+=1,yn=ln=null,u.updateQueue=null,sp.current=DB,s=d(g,b)}while(nf)}if(sp.current=fp,u=ln!==null&&ln.next!==null,Ns=0,yn=ln=Lt=null,up=!1,u)throw Error(n(300));return s}function $v(){var s=rf!==0;return rf=0,s}function Ji(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Lt.memoizedState=yn=s:yn=yn.next=s,yn}function Hr(){if(ln===null){var s=Lt.alternate;s=s!==null?s.memoizedState:null}else s=ln.next;var u=yn===null?Lt.memoizedState:yn.next;if(u!==null)yn=u,ln=s;else{if(s===null)throw Error(n(310));ln=s,s={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},yn===null?Lt.memoizedState=yn=s:yn=yn.next=s}return yn}function of(s,u){return typeof u=="function"?u(s):u}function Fv(s){var u=Hr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=ln,b=g.baseQueue,T=d.pending;if(T!==null){if(b!==null){var $=b.next;b.next=T.next,T.next=$}g.baseQueue=b=T,d.pending=null}if(b!==null){T=b.next,g=g.baseState;var q=$=null,H=null,ae=T;do{var me=ae.lane;if((Ns&me)===me)H!==null&&(H=H.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),g=ae.hasEagerState?ae.eagerState:s(g,ae.action);else{var ge={lane:me,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};H===null?(q=H=ge,$=g):H=H.next=ge,Lt.lanes|=me,Ms|=me}ae=ae.next}while(ae!==null&&ae!==T);H===null?$=g:H.next=q,_i(g,u.memoizedState)||(lr=!0),u.memoizedState=g,u.baseState=$,u.baseQueue=H,d.lastRenderedState=g}if(s=d.interleaved,s!==null){b=s;do T=b.lane,Lt.lanes|=T,Ms|=T,b=b.next;while(b!==s)}else b===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Vv(s){var u=Hr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,b=d.pending,T=u.memoizedState;if(b!==null){d.pending=null;var $=b=b.next;do T=s(T,$.action),$=$.next;while($!==b);_i(T,u.memoizedState)||(lr=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),d.lastRenderedState=T}return[T,g]}function nI(){}function rI(s,u){var d=Lt,g=Hr(),b=u(),T=!_i(g.memoizedState,b);if(T&&(g.memoizedState=b,lr=!0),g=g.queue,Uv(aI.bind(null,d,g,s),[s]),g.getSnapshot!==u||T||yn!==null&&yn.memoizedState.tag&1){if(d.flags|=2048,af(9,oI.bind(null,d,g,b,u),void 0,null),vn===null)throw Error(n(349));Ns&30||iI(d,u,b)}return b}function iI(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=Lt.updateQueue,u===null?(u={lastEffect:null,stores:null},Lt.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function oI(s,u,d,g){u.value=d,u.getSnapshot=g,sI(u)&&uI(s)}function aI(s,u,d){return d(function(){sI(u)&&uI(s)})}function sI(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!_i(s,d)}catch{return!0}}function uI(s){var u=So(s,1);u!==null&&xi(u,s,1,-1)}function lI(s){var u=Ji();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:s},u.queue=s,s=s.dispatch=RB.bind(null,Lt,s),[u.memoizedState,s]}function af(s,u,d,g){return s={tag:s,create:u,destroy:d,deps:g,next:null},u=Lt.updateQueue,u===null?(u={lastEffect:null,stores:null},Lt.updateQueue=u,u.lastEffect=s.next=s):(d=u.lastEffect,d===null?u.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,u.lastEffect=s)),s}function cI(){return Hr().memoizedState}function lp(s,u,d,g){var b=Ji();Lt.flags|=s,b.memoizedState=af(1|u,d,void 0,g===void 0?null:g)}function cp(s,u,d,g){var b=Hr();g=g===void 0?null:g;var T=void 0;if(ln!==null){var $=ln.memoizedState;if(T=$.destroy,g!==null&&jv(g,$.deps)){b.memoizedState=af(u,d,T,g);return}}Lt.flags|=s,b.memoizedState=af(1|u,d,T,g)}function fI(s,u){return lp(8390656,8,s,u)}function Uv(s,u){return cp(2048,8,s,u)}function dI(s,u){return cp(4,2,s,u)}function hI(s,u){return cp(4,4,s,u)}function pI(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function mI(s,u,d){return d=d!=null?d.concat([s]):null,cp(4,4,pI.bind(null,u,s),d)}function Bv(){}function gI(s,u){var d=Hr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&jv(u,g[1])?g[0]:(d.memoizedState=[s,u],s)}function yI(s,u){var d=Hr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&jv(u,g[1])?g[0]:(s=s(),d.memoizedState=[s,u],s)}function vI(s,u,d){return Ns&21?(_i(d,u)||(d=Es(),Lt.lanes|=d,Ms|=d,s.baseState=!0),u):(s.baseState&&(s.baseState=!1,lr=!0),s.memoizedState=d)}function OB(s,u){var d=et;et=d!==0&&4>d?d:4,s(!0);var g=Dv.transition;Dv.transition={};try{s(!1),u()}finally{et=d,Dv.transition=g}}function _I(){return Hr().memoizedState}function kB(s,u,d){var g=Aa(s);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},wI(s))bI(u,d);else if(d=QA(s,u,d,g),d!==null){var b=Jn();xi(d,s,g,b),EI(d,u,g)}}function RB(s,u,d){var g=Aa(s),b={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(wI(s))bI(u,b);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var $=u.lastRenderedState,q=T($,d);if(b.hasEagerState=!0,b.eagerState=q,_i(q,$)){var H=u.interleaved;H===null?(b.next=b,Cv(u)):(b.next=H.next,H.next=b),u.interleaved=b;return}}catch{}finally{}d=QA(s,u,b,g),d!==null&&(b=Jn(),xi(d,s,g,b),EI(d,u,g))}}function wI(s){var u=s.alternate;return s===Lt||u!==null&&u===Lt}function bI(s,u){nf=up=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function EI(s,u,d){if(d&4194240){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,fa(s,d)}}var fp={readContext:Wr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},NB={readContext:Wr,useCallback:function(s,u){return Ji().memoizedState=[s,u===void 0?null:u],s},useContext:Wr,useEffect:fI,useImperativeHandle:function(s,u,d){return d=d!=null?d.concat([s]):null,lp(4194308,4,pI.bind(null,u,s),d)},useLayoutEffect:function(s,u){return lp(4194308,4,s,u)},useInsertionEffect:function(s,u){return lp(4,2,s,u)},useMemo:function(s,u){var d=Ji();return u=u===void 0?null:u,s=s(),d.memoizedState=[s,u],s},useReducer:function(s,u,d){var g=Ji();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},g.queue=s,s=s.dispatch=kB.bind(null,Lt,s),[g.memoizedState,s]},useRef:function(s){var u=Ji();return s={current:s},u.memoizedState=s},useState:lI,useDebugValue:Bv,useDeferredValue:function(s){return Ji().memoizedState=s},useTransition:function(){var s=lI(!1),u=s[0];return s=OB.bind(null,s[1]),Ji().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,d){var g=Lt,b=Ji();if(Nt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),vn===null)throw Error(n(349));Ns&30||iI(g,u,d)}b.memoizedState=d;var T={value:d,getSnapshot:u};return b.queue=T,fI(aI.bind(null,g,T,s),[s]),g.flags|=2048,af(9,oI.bind(null,g,T,d,u),void 0,null),d},useId:function(){var s=Ji(),u=vn.identifierPrefix;if(Nt){var d=Eo,g=bo;d=(g&~(1<<32-Yn(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=rf++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=CB++,u=":"+u+"r"+d.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},MB={readContext:Wr,useCallback:gI,useContext:Wr,useEffect:Uv,useImperativeHandle:mI,useInsertionEffect:dI,useLayoutEffect:hI,useMemo:yI,useReducer:Fv,useRef:cI,useState:function(){return Fv(of)},useDebugValue:Bv,useDeferredValue:function(s){var u=Hr();return vI(u,ln.memoizedState,s)},useTransition:function(){var s=Fv(of)[0],u=Hr().memoizedState;return[s,u]},useMutableSource:nI,useSyncExternalStore:rI,useId:_I,unstable_isNewReconciler:!1},DB={readContext:Wr,useCallback:gI,useContext:Wr,useEffect:Uv,useImperativeHandle:mI,useInsertionEffect:dI,useLayoutEffect:hI,useMemo:yI,useReducer:Vv,useRef:cI,useState:function(){return Vv(of)},useDebugValue:Bv,useDeferredValue:function(s){var u=Hr();return ln===null?u.memoizedState=s:vI(u,ln.memoizedState,s)},useTransition:function(){var s=Vv(of)[0],u=Hr().memoizedState;return[s,u]},useMutableSource:nI,useSyncExternalStore:rI,useId:_I,unstable_isNewReconciler:!1};function bi(s,u){if(s&&s.defaultProps){u=J({},u),s=s.defaultProps;for(var d in s)u[d]===void 0&&(u[d]=s[d]);return u}return u}function qv(s,u,d,g){u=s.memoizedState,d=d(g,u),d=d==null?u:J({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var dp={isMounted:function(s){return(s=s._reactInternals)?di(s)===s:!1},enqueueSetState:function(s,u,d){s=s._reactInternals;var g=Jn(),b=Aa(s),T=xo(g,b);T.payload=u,d!=null&&(T.callback=d),u=Ea(s,T,b),u!==null&&(xi(u,s,b,g),ip(u,s,b))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var g=Jn(),b=Aa(s),T=xo(g,b);T.tag=1,T.payload=u,d!=null&&(T.callback=d),u=Ea(s,T,b),u!==null&&(xi(u,s,b,g),ip(u,s,b))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=Jn(),g=Aa(s),b=xo(d,g);b.tag=2,u!=null&&(b.callback=u),u=Ea(s,b,g),u!==null&&(xi(u,s,g,d),ip(u,s,g))}};function SI(s,u,d,g,b,T,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,T,$):u.prototype&&u.prototype.isPureReactComponent?!Wc(d,g)||!Wc(b,T):!0}function xI(s,u,d){var g=!1,b=_a,T=u.contextType;return typeof T=="object"&&T!==null?T=Wr(T):(b=ur(u)?Ps:jn.current,g=u.contextTypes,T=(g=g!=null)?Yu(s,b):_a),u=new u(d,T),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=dp,s.stateNode=u,u._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=T),u}function TI(s,u,d,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==s&&dp.enqueueReplaceState(u,u.state,null)}function zv(s,u,d,g){var b=s.stateNode;b.props=d,b.state=s.memoizedState,b.refs={},Ov(s);var T=u.contextType;typeof T=="object"&&T!==null?b.context=Wr(T):(T=ur(u)?Ps:jn.current,b.context=Yu(s,T)),b.state=s.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(qv(s,u,T,d),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(u=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),u!==b.state&&dp.enqueueReplaceState(b,b.state,null),op(s,d,b,g),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function rl(s,u){try{var d="",g=u;do d+=xe(g),g=g.return;while(g);var b=d}catch(T){b=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:u,stack:b,digest:null}}function Wv(s,u,d){return{value:s,source:null,stack:d??null,digest:u??null}}function Hv(s,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var jB=typeof WeakMap=="function"?WeakMap:Map;function AI(s,u,d){d=xo(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){_p||(_p=!0,s_=g),Hv(s,u)},d}function II(s,u,d){d=xo(-1,d),d.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;d.payload=function(){return g(b)},d.callback=function(){Hv(s,u)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Hv(s,u),typeof g!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})}),d}function PI(s,u,d){var g=s.pingCache;if(g===null){g=s.pingCache=new jB;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(d)||(b.add(d),s=XB.bind(null,s,u,d),u.then(s,s))}function CI(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function OI(s,u,d,g,b){return s.mode&1?(s.flags|=65536,s.lanes=b,s):(s===u?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=xo(-1,1),u.tag=2,Ea(d,u,1))),d.lanes|=1),s)}var LB=j.ReactCurrentOwner,lr=!1;function Qn(s,u,d,g){u.child=s===null?XA(u,null,d,g):Zu(u,s.child,d,g)}function kI(s,u,d,g,b){d=d.render;var T=u.ref;return tl(u,b),g=Lv(s,u,d,g,T,b),d=$v(),s!==null&&!lr?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~b,To(s,u,b)):(Nt&&d&&wv(u),u.flags|=1,Qn(s,u,g,b),u.child)}function RI(s,u,d,g,b){if(s===null){var T=d.type;return typeof T=="function"&&!p_(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=T,NI(s,u,T,g,b)):(s=Tp(d.type,null,g,u,u.mode,b),s.ref=u.ref,s.return=u,u.child=s)}if(T=s.child,!(s.lanes&b)){var $=T.memoizedProps;if(d=d.compare,d=d!==null?d:Wc,d($,g)&&s.ref===u.ref)return To(s,u,b)}return u.flags|=1,s=Pa(T,g),s.ref=u.ref,s.return=u,u.child=s}function NI(s,u,d,g,b){if(s!==null){var T=s.memoizedProps;if(Wc(T,g)&&s.ref===u.ref)if(lr=!1,u.pendingProps=g=T,(s.lanes&b)!==0)s.flags&131072&&(lr=!0);else return u.lanes=s.lanes,To(s,u,b)}return Kv(s,u,d,g,b)}function MI(s,u,d){var g=u.pendingProps,b=g.children,T=s!==null?s.memoizedState:null;if(g.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ol,Cr),Cr|=d;else{if(!(d&1073741824))return s=T!==null?T.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,xt(ol,Cr),Cr|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:d,xt(ol,Cr),Cr|=g}else T!==null?(g=T.baseLanes|d,u.memoizedState=null):g=d,xt(ol,Cr),Cr|=g;return Qn(s,u,b,d),u.child}function DI(s,u){var d=u.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Kv(s,u,d,g,b){var T=ur(d)?Ps:jn.current;return T=Yu(u,T),tl(u,b),d=Lv(s,u,d,g,T,b),g=$v(),s!==null&&!lr?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~b,To(s,u,b)):(Nt&&g&&wv(u),u.flags|=1,Qn(s,u,d,b),u.child)}function jI(s,u,d,g,b){if(ur(d)){var T=!0;Xh(u)}else T=!1;if(tl(u,b),u.stateNode===null)pp(s,u),xI(u,d,g),zv(u,d,g,b),g=!0;else if(s===null){var $=u.stateNode,q=u.memoizedProps;$.props=q;var H=$.context,ae=d.contextType;typeof ae=="object"&&ae!==null?ae=Wr(ae):(ae=ur(d)?Ps:jn.current,ae=Yu(u,ae));var me=d.getDerivedStateFromProps,ge=typeof me=="function"||typeof $.getSnapshotBeforeUpdate=="function";ge||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==g||H!==ae)&&TI(u,$,g,ae),ba=!1;var pe=u.memoizedState;$.state=pe,op(u,g,$,b),H=u.memoizedState,q!==g||pe!==H||sr.current||ba?(typeof me=="function"&&(qv(u,d,me,g),H=u.memoizedState),(q=ba||SI(u,d,q,g,pe,H,ae))?(ge||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=H),$.props=g,$.state=H,$.context=ae,g=q):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{$=u.stateNode,JA(s,u),q=u.memoizedProps,ae=u.type===u.elementType?q:bi(u.type,q),$.props=ae,ge=u.pendingProps,pe=$.context,H=d.contextType,typeof H=="object"&&H!==null?H=Wr(H):(H=ur(d)?Ps:jn.current,H=Yu(u,H));var Ee=d.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==ge||pe!==H)&&TI(u,$,g,H),ba=!1,pe=u.memoizedState,$.state=pe,op(u,g,$,b);var Oe=u.memoizedState;q!==ge||pe!==Oe||sr.current||ba?(typeof Ee=="function"&&(qv(u,d,Ee,g),Oe=u.memoizedState),(ae=ba||SI(u,d,ae,g,pe,Oe,H)||!1)?(me||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Oe,H),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Oe,H)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Oe),$.props=g,$.state=Oe,$.context=H,g=ae):(typeof $.componentDidUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=1024),g=!1)}return Gv(s,u,d,g,T,b)}function Gv(s,u,d,g,b,T){DI(s,u);var $=(u.flags&128)!==0;if(!g&&!$)return b&&UA(u,d,!1),To(s,u,T);g=u.stateNode,LB.current=u;var q=$&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,s!==null&&$?(u.child=Zu(u,s.child,null,T),u.child=Zu(u,null,q,T)):Qn(s,u,q,T),u.memoizedState=g.state,b&&UA(u,d,!0),u.child}function LI(s){var u=s.stateNode;u.pendingContext?FA(s,u.pendingContext,u.pendingContext!==u.context):u.context&&FA(s,u.context,!1),kv(s,u.containerInfo)}function $I(s,u,d,g,b){return Ju(),xv(b),u.flags|=256,Qn(s,u,d,g),u.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Xv(s){return{baseLanes:s,cachePool:null,transitions:null}}function FI(s,u,d){var g=u.pendingProps,b=jt.current,T=!1,$=(u.flags&128)!==0,q;if((q=$)||(q=s!==null&&s.memoizedState===null?!1:(b&2)!==0),q?(T=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),xt(jt,b&1),s===null)return Sv(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(u.mode&1?s.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):($=g.children,s=g.fallback,T?(g=u.mode,T=u.child,$={mode:"hidden",children:$},!(g&1)&&T!==null?(T.childLanes=0,T.pendingProps=$):T=Ap($,g,0,null),s=$s(s,g,d,null),T.return=u,s.return=u,T.sibling=s,u.child=T,u.child.memoizedState=Xv(d),u.memoizedState=Yv,s):Qv(u,$));if(b=s.memoizedState,b!==null&&(q=b.dehydrated,q!==null))return $B(s,u,$,g,q,b,d);if(T){T=g.fallback,$=u.mode,b=s.child,q=b.sibling;var H={mode:"hidden",children:g.children};return!($&1)&&u.child!==b?(g=u.child,g.childLanes=0,g.pendingProps=H,u.deletions=null):(g=Pa(b,H),g.subtreeFlags=b.subtreeFlags&14680064),q!==null?T=Pa(q,T):(T=$s(T,$,d,null),T.flags|=2),T.return=u,g.return=u,g.sibling=T,u.child=g,g=T,T=u.child,$=s.child.memoizedState,$=$===null?Xv(d):{baseLanes:$.baseLanes|d,cachePool:null,transitions:$.transitions},T.memoizedState=$,T.childLanes=s.childLanes&~d,u.memoizedState=Yv,g}return T=s.child,s=T.sibling,g=Pa(T,{mode:"visible",children:g.children}),!(u.mode&1)&&(g.lanes=d),g.return=u,g.sibling=null,s!==null&&(d=u.deletions,d===null?(u.deletions=[s],u.flags|=16):d.push(s)),u.child=g,u.memoizedState=null,g}function Qv(s,u){return u=Ap({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function hp(s,u,d,g){return g!==null&&xv(g),Zu(u,s.child,null,d),s=Qv(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function $B(s,u,d,g,b,T,$){if(d)return u.flags&256?(u.flags&=-257,g=Wv(Error(n(422))),hp(s,u,$,g)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(T=g.fallback,b=u.mode,g=Ap({mode:"visible",children:g.children},b,0,null),T=$s(T,b,$,null),T.flags|=2,g.return=u,T.return=u,g.sibling=T,u.child=g,u.mode&1&&Zu(u,s.child,null,$),u.child.memoizedState=Xv($),u.memoizedState=Yv,T);if(!(u.mode&1))return hp(s,u,$,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var q=g.dgst;return g=q,T=Error(n(419)),g=Wv(T,g,void 0),hp(s,u,$,g)}if(q=($&s.childLanes)!==0,lr||q){if(g=vn,g!==null){switch($&-$){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(g.suspendedLanes|$)?0:b,b!==0&&b!==T.retryLane&&(T.retryLane=b,So(s,b),xi(g,s,b,-1))}return h_(),g=Wv(Error(n(421))),hp(s,u,$,g)}return b.data==="$?"?(u.flags|=128,u.child=s.child,u=QB.bind(null,s),b._reactRetry=u,null):(s=T.treeContext,Pr=ya(b.nextSibling),Ir=u,Nt=!0,wi=null,s!==null&&(qr[zr++]=bo,qr[zr++]=Eo,qr[zr++]=Cs,bo=s.id,Eo=s.overflow,Cs=u),u=Qv(u,g.children),u.flags|=4096,u)}function VI(s,u,d){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),Pv(s.return,u,d)}function Jv(s,u,d,g,b){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=b)}function UI(s,u,d){var g=u.pendingProps,b=g.revealOrder,T=g.tail;if(Qn(s,u,g.children,d),g=jt.current,g&2)g=g&1|2,u.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&VI(s,d,u);else if(s.tag===19)VI(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(xt(jt,g),!(u.mode&1))u.memoizedState=null;else switch(b){case"forwards":for(d=u.child,b=null;d!==null;)s=d.alternate,s!==null&&ap(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=u.child,u.child=null):(b=d.sibling,d.sibling=null),Jv(u,!1,b,d,T);break;case"backwards":for(d=null,b=u.child,u.child=null;b!==null;){if(s=b.alternate,s!==null&&ap(s)===null){u.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}Jv(u,!0,d,null,T);break;case"together":Jv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function pp(s,u){!(u.mode&1)&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function To(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),Ms|=u.lanes,!(d&u.childLanes))return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,d=Pa(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=Pa(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function FB(s,u,d){switch(u.tag){case 3:LI(u),Ju();break;case 5:tI(u);break;case 1:ur(u.type)&&Xh(u);break;case 4:kv(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,b=u.memoizedProps.value;xt(np,g._currentValue),g._currentValue=b;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(xt(jt,jt.current&1),u.flags|=128,null):d&u.child.childLanes?FI(s,u,d):(xt(jt,jt.current&1),s=To(s,u,d),s!==null?s.sibling:null);xt(jt,jt.current&1);break;case 19:if(g=(d&u.childLanes)!==0,s.flags&128){if(g)return UI(s,u,d);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),xt(jt,jt.current),g)break;return null;case 22:case 23:return u.lanes=0,MI(s,u,d)}return To(s,u,d)}var BI,Zv,qI,zI;BI=function(s,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Zv=function(){},qI=function(s,u,d,g){var b=s.memoizedProps;if(b!==g){s=u.stateNode,Rs(Qi.current);var T=null;switch(d){case"input":b=je(s,b),g=je(s,g),T=[];break;case"select":b=J({},b,{value:void 0}),g=J({},g,{value:void 0}),T=[];break;case"textarea":b=Er(s,b),g=Er(s,g),T=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Kh)}Ac(d,g);var $;d=null;for(ae in b)if(!g.hasOwnProperty(ae)&&b.hasOwnProperty(ae)&&b[ae]!=null)if(ae==="style"){var q=b[ae];for($ in q)q.hasOwnProperty($)&&(d||(d={}),d[$]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?T||(T=[]):(T=T||[]).push(ae,null));for(ae in g){var H=g[ae];if(q=b!=null?b[ae]:void 0,g.hasOwnProperty(ae)&&H!==q&&(H!=null||q!=null))if(ae==="style")if(q){for($ in q)!q.hasOwnProperty($)||H&&H.hasOwnProperty($)||(d||(d={}),d[$]="");for($ in H)H.hasOwnProperty($)&&q[$]!==H[$]&&(d||(d={}),d[$]=H[$])}else d||(T||(T=[]),T.push(ae,d)),d=H;else ae==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,q=q?q.__html:void 0,H!=null&&q!==H&&(T=T||[]).push(ae,H)):ae==="children"?typeof H!="string"&&typeof H!="number"||(T=T||[]).push(ae,""+H):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(H!=null&&ae==="onScroll"&&It("scroll",s),T||q===H||(T=[])):(T=T||[]).push(ae,H))}d&&(T=T||[]).push("style",d);var ae=T;(u.updateQueue=ae)&&(u.flags|=4)}},zI=function(s,u,d,g){d!==g&&(u.flags|=4)};function sf(s,u){if(!Nt)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function $n(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(u)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=d,u}function VB(s,u,d){var g=u.pendingProps;switch(bv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(u),null;case 1:return ur(u.type)&&Yh(),$n(u),null;case 3:return g=u.stateNode,nl(),Pt(sr),Pt(jn),Mv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(ep(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,wi!==null&&(c_(wi),wi=null))),Zv(s,u),$n(u),null;case 5:Rv(u);var b=Rs(tf.current);if(d=u.type,s!==null&&u.stateNode!=null)qI(s,u,d,g,b),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(n(166));return $n(u),null}if(s=Rs(Qi.current),ep(u)){g=u.stateNode,d=u.type;var T=u.memoizedProps;switch(g[Xi]=u,g[Xc]=T,s=(u.mode&1)!==0,d){case"dialog":It("cancel",g),It("close",g);break;case"iframe":case"object":case"embed":It("load",g);break;case"video":case"audio":for(b=0;b<Kc.length;b++)It(Kc[b],g);break;case"source":It("error",g);break;case"img":case"image":case"link":It("error",g),It("load",g);break;case"details":It("toggle",g);break;case"input":mt(g,T),It("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},It("invalid",g);break;case"textarea":Bi(g,T),It("invalid",g)}Ac(d,T),b=null;for(var $ in T)if(T.hasOwnProperty($)){var q=T[$];$==="children"?typeof q=="string"?g.textContent!==q&&(T.suppressHydrationWarning!==!0&&Hh(g.textContent,q,s),b=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(T.suppressHydrationWarning!==!0&&Hh(g.textContent,q,s),b=["children",""+q]):i.hasOwnProperty($)&&q!=null&&$==="onScroll"&&It("scroll",g)}switch(d){case"input":Ie(g),wr(g,T,!0);break;case"textarea":Ie(g),oa(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=Kh)}g=b,u.updateQueue=g,g!==null&&(u.flags|=4)}else{$=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=an(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=$.createElement(d,{is:g.is}):(s=$.createElement(d),d==="select"&&($=s,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):s=$.createElementNS(s,d),s[Xi]=u,s[Xc]=g,BI(s,u,!1,!1),u.stateNode=s;e:{switch($=Ic(d,g),d){case"dialog":It("cancel",s),It("close",s),b=g;break;case"iframe":case"object":case"embed":It("load",s),b=g;break;case"video":case"audio":for(b=0;b<Kc.length;b++)It(Kc[b],s);b=g;break;case"source":It("error",s),b=g;break;case"img":case"image":case"link":It("error",s),It("load",s),b=g;break;case"details":It("toggle",s),b=g;break;case"input":mt(s,g),b=je(s,g),It("invalid",s);break;case"option":b=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},b=J({},g,{value:void 0}),It("invalid",s);break;case"textarea":Bi(s,g),b=Er(s,g),It("invalid",s);break;default:b=g}Ac(d,b),q=b;for(T in q)if(q.hasOwnProperty(T)){var H=q[T];T==="style"?xc(s,H):T==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ec(s,H)):T==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&aa(s,H):typeof H=="number"&&aa(s,""+H):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?H!=null&&T==="onScroll"&&It("scroll",s):H!=null&&R(s,T,H,$))}switch(d){case"input":Ie(s),wr(s,g,!1);break;case"textarea":Ie(s),oa(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ce(g.value));break;case"select":s.multiple=!!g.multiple,T=g.value,T!=null?Tn(s,!!g.multiple,T,!1):g.defaultValue!=null&&Tn(s,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=Kh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return $n(u),null;case 6:if(s&&u.stateNode!=null)zI(s,u,s.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(d=Rs(tf.current),Rs(Qi.current),ep(u)){if(g=u.stateNode,d=u.memoizedProps,g[Xi]=u,(T=g.nodeValue!==d)&&(s=Ir,s!==null))switch(s.tag){case 3:Hh(g.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Hh(g.nodeValue,d,(s.mode&1)!==0)}T&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Xi]=u,u.stateNode=g}return $n(u),null;case 13:if(Pt(jt),g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Nt&&Pr!==null&&u.mode&1&&!(u.flags&128))KA(),Ju(),u.flags|=98560,T=!1;else if(T=ep(u),g!==null&&g.dehydrated!==null){if(s===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Xi]=u}else Ju(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;$n(u),T=!1}else wi!==null&&(c_(wi),wi=null),T=!0;if(!T)return u.flags&65536?u:null}return u.flags&128?(u.lanes=d,u):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(u.child.flags|=8192,u.mode&1&&(s===null||jt.current&1?cn===0&&(cn=3):h_())),u.updateQueue!==null&&(u.flags|=4),$n(u),null);case 4:return nl(),Zv(s,u),s===null&&Gc(u.stateNode.containerInfo),$n(u),null;case 10:return Iv(u.type._context),$n(u),null;case 17:return ur(u.type)&&Yh(),$n(u),null;case 19:if(Pt(jt),T=u.memoizedState,T===null)return $n(u),null;if(g=(u.flags&128)!==0,$=T.rendering,$===null)if(g)sf(T,!1);else{if(cn!==0||s!==null&&s.flags&128)for(s=u.child;s!==null;){if($=ap(s),$!==null){for(u.flags|=128,sf(T,!1),g=$.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)T=d,s=g,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,s=$.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return xt(jt,jt.current&1|2),u.child}s=s.sibling}T.tail!==null&&St()>al&&(u.flags|=128,g=!0,sf(T,!1),u.lanes=4194304)}else{if(!g)if(s=ap($),s!==null){if(u.flags|=128,g=!0,d=s.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),sf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!$.alternate&&!Nt)return $n(u),null}else 2*St()-T.renderingStartTime>al&&d!==1073741824&&(u.flags|=128,g=!0,sf(T,!1),u.lanes=4194304);T.isBackwards?($.sibling=u.child,u.child=$):(d=T.last,d!==null?d.sibling=$:u.child=$,T.last=$)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=St(),u.sibling=null,d=jt.current,xt(jt,g?d&1|2:d&1),u):($n(u),null);case 22:case 23:return d_(),g=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(u.flags|=8192),g&&u.mode&1?Cr&1073741824&&($n(u),u.subtreeFlags&6&&(u.flags|=8192)):$n(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function UB(s,u){switch(bv(u),u.tag){case 1:return ur(u.type)&&Yh(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return nl(),Pt(sr),Pt(jn),Mv(),s=u.flags,s&65536&&!(s&128)?(u.flags=s&-65537|128,u):null;case 5:return Rv(u),null;case 13:if(Pt(jt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Ju()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Pt(jt),null;case 4:return nl(),null;case 10:return Iv(u.type._context),null;case 22:case 23:return d_(),null;case 24:return null;default:return null}}var mp=!1,Fn=!1,BB=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function il(s,u){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Bt(s,u,g)}else d.current=null}function e_(s,u,d){try{d()}catch(g){Bt(s,u,g)}}var WI=!1;function qB(s,u){if(dv=pa,s=SA(),iv(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var $=0,q=-1,H=-1,ae=0,me=0,ge=s,pe=null;t:for(;;){for(var Ee;ge!==d||b!==0&&ge.nodeType!==3||(q=$+b),ge!==T||g!==0&&ge.nodeType!==3||(H=$+g),ge.nodeType===3&&($+=ge.nodeValue.length),(Ee=ge.firstChild)!==null;)pe=ge,ge=Ee;for(;;){if(ge===s)break t;if(pe===d&&++ae===b&&(q=$),pe===T&&++me===g&&(H=$),(Ee=ge.nextSibling)!==null)break;ge=pe,pe=ge.parentNode}ge=Ee}d=q===-1||H===-1?null:{start:q,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(hv={focusedElem:s,selectionRange:d},pa=!1,Pe=u;Pe!==null;)if(u=Pe,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Pe=s;else for(;Pe!==null;){u=Pe;try{var Oe=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var ke=Oe.memoizedProps,Gt=Oe.memoizedState,ne=u.stateNode,G=ne.getSnapshotBeforeUpdate(u.elementType===u.type?ke:bi(u.type,ke),Gt);ne.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ie=u.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){Bt(u,u.return,ve)}if(s=u.sibling,s!==null){s.return=u.return,Pe=s;break}Pe=u.return}return Oe=WI,WI=!1,Oe}function uf(s,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&s)===s){var T=b.destroy;b.destroy=void 0,T!==void 0&&e_(u,d,T)}b=b.next}while(b!==g)}}function gp(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&s)===s){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function t_(s){var u=s.ref;if(u!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof u=="function"?u(s):u.current=s}}function HI(s){var u=s.alternate;u!==null&&(s.alternate=null,HI(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Xi],delete u[Xc],delete u[yv],delete u[TB],delete u[AB])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function KI(s){return s.tag===5||s.tag===3||s.tag===4}function GI(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||KI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function n_(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(s,u):d.insertBefore(s,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(s,d)):(u=d,u.appendChild(s)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Kh));else if(g!==4&&(s=s.child,s!==null))for(n_(s,u,d),s=s.sibling;s!==null;)n_(s,u,d),s=s.sibling}function r_(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(r_(s,u,d),s=s.sibling;s!==null;)r_(s,u,d),s=s.sibling}var Pn=null,Ei=!1;function Sa(s,u,d){for(d=d.child;d!==null;)YI(s,u,d),d=d.sibling}function YI(s,u,d){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(ws,d)}catch{}switch(d.tag){case 5:Fn||il(d,u);case 6:var g=Pn,b=Ei;Pn=null,Sa(s,u,d),Pn=g,Ei=b,Pn!==null&&(Ei?(s=Pn,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Pn.removeChild(d.stateNode));break;case 18:Pn!==null&&(Ei?(s=Pn,d=d.stateNode,s.nodeType===8?gv(s.parentNode,d):s.nodeType===1&&gv(s,d),yi(s)):gv(Pn,d.stateNode));break;case 4:g=Pn,b=Ei,Pn=d.stateNode.containerInfo,Ei=!0,Sa(s,u,d),Pn=g,Ei=b;break;case 0:case 11:case 14:case 15:if(!Fn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var T=b,$=T.destroy;T=T.tag,$!==void 0&&(T&2||T&4)&&e_(d,u,$),b=b.next}while(b!==g)}Sa(s,u,d);break;case 1:if(!Fn&&(il(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(q){Bt(d,u,q)}Sa(s,u,d);break;case 21:Sa(s,u,d);break;case 22:d.mode&1?(Fn=(g=Fn)||d.memoizedState!==null,Sa(s,u,d),Fn=g):Sa(s,u,d);break;default:Sa(s,u,d)}}function XI(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new BB),u.forEach(function(g){var b=JB.bind(null,s,g);d.has(g)||(d.add(g),g.then(b,b))})}}function Si(s,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];try{var T=s,$=u,q=$;e:for(;q!==null;){switch(q.tag){case 5:Pn=q.stateNode,Ei=!1;break e;case 3:Pn=q.stateNode.containerInfo,Ei=!0;break e;case 4:Pn=q.stateNode.containerInfo,Ei=!0;break e}q=q.return}if(Pn===null)throw Error(n(160));YI(T,$,b),Pn=null,Ei=!1;var H=b.alternate;H!==null&&(H.return=null),b.return=null}catch(ae){Bt(b,u,ae)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)QI(u,s),u=u.sibling}function QI(s,u){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Si(u,s),Zi(s),g&4){try{uf(3,s,s.return),gp(3,s)}catch(ke){Bt(s,s.return,ke)}try{uf(5,s,s.return)}catch(ke){Bt(s,s.return,ke)}}break;case 1:Si(u,s),Zi(s),g&512&&d!==null&&il(d,d.return);break;case 5:if(Si(u,s),Zi(s),g&512&&d!==null&&il(d,d.return),s.flags&32){var b=s.stateNode;try{aa(b,"")}catch(ke){Bt(s,s.return,ke)}}if(g&4&&(b=s.stateNode,b!=null)){var T=s.memoizedProps,$=d!==null?d.memoizedProps:T,q=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{q==="input"&&T.type==="radio"&&T.name!=null&&wt(b,T),Ic(q,$);var ae=Ic(q,T);for($=0;$<H.length;$+=2){var me=H[$],ge=H[$+1];me==="style"?xc(b,ge):me==="dangerouslySetInnerHTML"?Ec(b,ge):me==="children"?aa(b,ge):R(b,me,ge,ae)}switch(q){case"input":Ut(b,T);break;case"textarea":co(b,T);break;case"select":var pe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!T.multiple;var Ee=T.value;Ee!=null?Tn(b,!!T.multiple,Ee,!1):pe!==!!T.multiple&&(T.defaultValue!=null?Tn(b,!!T.multiple,T.defaultValue,!0):Tn(b,!!T.multiple,T.multiple?[]:"",!1))}b[Xc]=T}catch(ke){Bt(s,s.return,ke)}}break;case 6:if(Si(u,s),Zi(s),g&4){if(s.stateNode===null)throw Error(n(162));b=s.stateNode,T=s.memoizedProps;try{b.nodeValue=T}catch(ke){Bt(s,s.return,ke)}}break;case 3:if(Si(u,s),Zi(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{yi(u.containerInfo)}catch(ke){Bt(s,s.return,ke)}break;case 4:Si(u,s),Zi(s);break;case 13:Si(u,s),Zi(s),b=s.child,b.flags&8192&&(T=b.memoizedState!==null,b.stateNode.isHidden=T,!T||b.alternate!==null&&b.alternate.memoizedState!==null||(a_=St())),g&4&&XI(s);break;case 22:if(me=d!==null&&d.memoizedState!==null,s.mode&1?(Fn=(ae=Fn)||me,Si(u,s),Fn=ae):Si(u,s),Zi(s),g&8192){if(ae=s.memoizedState!==null,(s.stateNode.isHidden=ae)&&!me&&s.mode&1)for(Pe=s,me=s.child;me!==null;){for(ge=Pe=me;Pe!==null;){switch(pe=Pe,Ee=pe.child,pe.tag){case 0:case 11:case 14:case 15:uf(4,pe,pe.return);break;case 1:il(pe,pe.return);var Oe=pe.stateNode;if(typeof Oe.componentWillUnmount=="function"){g=pe,d=pe.return;try{u=g,Oe.props=u.memoizedProps,Oe.state=u.memoizedState,Oe.componentWillUnmount()}catch(ke){Bt(g,d,ke)}}break;case 5:il(pe,pe.return);break;case 22:if(pe.memoizedState!==null){eP(ge);continue}}Ee!==null?(Ee.return=pe,Pe=Ee):eP(ge)}me=me.sibling}e:for(me=null,ge=s;;){if(ge.tag===5){if(me===null){me=ge;try{b=ge.stateNode,ae?(T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(q=ge.stateNode,H=ge.memoizedProps.style,$=H!=null&&H.hasOwnProperty("display")?H.display:null,q.style.display=Sc("display",$))}catch(ke){Bt(s,s.return,ke)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=ae?"":ge.memoizedProps}catch(ke){Bt(s,s.return,ke)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Si(u,s),Zi(s),g&4&&XI(s);break;case 21:break;default:Si(u,s),Zi(s)}}function Zi(s){var u=s.flags;if(u&2){try{e:{for(var d=s.return;d!==null;){if(KI(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(aa(b,""),g.flags&=-33);var T=GI(s);r_(s,T,b);break;case 3:case 4:var $=g.stateNode.containerInfo,q=GI(s);n_(s,q,$);break;default:throw Error(n(161))}}catch(H){Bt(s,s.return,H)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function zB(s,u,d){Pe=s,JI(s)}function JI(s,u,d){for(var g=(s.mode&1)!==0;Pe!==null;){var b=Pe,T=b.child;if(b.tag===22&&g){var $=b.memoizedState!==null||mp;if(!$){var q=b.alternate,H=q!==null&&q.memoizedState!==null||Fn;q=mp;var ae=Fn;if(mp=$,(Fn=H)&&!ae)for(Pe=b;Pe!==null;)$=Pe,H=$.child,$.tag===22&&$.memoizedState!==null?tP(b):H!==null?(H.return=$,Pe=H):tP(b);for(;T!==null;)Pe=T,JI(T),T=T.sibling;Pe=b,mp=q,Fn=ae}ZI(s)}else b.subtreeFlags&8772&&T!==null?(T.return=b,Pe=T):ZI(s)}}function ZI(s){for(;Pe!==null;){var u=Pe;if(u.flags&8772){var d=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:Fn||gp(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Fn)if(d===null)g.componentDidMount();else{var b=u.elementType===u.type?d.memoizedProps:bi(u.type,d.memoizedProps);g.componentDidUpdate(b,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&eI(u,T,g);break;case 3:var $=u.updateQueue;if($!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}eI(u,$,d)}break;case 5:var q=u.stateNode;if(d===null&&u.flags&4){d=q;var H=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ae=u.alternate;if(ae!==null){var me=ae.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&yi(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fn||u.flags&512&&t_(u)}catch(pe){Bt(u,u.return,pe)}}if(u===s){Pe=null;break}if(d=u.sibling,d!==null){d.return=u.return,Pe=d;break}Pe=u.return}}function eP(s){for(;Pe!==null;){var u=Pe;if(u===s){Pe=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Pe=d;break}Pe=u.return}}function tP(s){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{gp(4,u)}catch(H){Bt(u,d,H)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var b=u.return;try{g.componentDidMount()}catch(H){Bt(u,b,H)}}var T=u.return;try{t_(u)}catch(H){Bt(u,T,H)}break;case 5:var $=u.return;try{t_(u)}catch(H){Bt(u,$,H)}}}catch(H){Bt(u,u.return,H)}if(u===s){Pe=null;break}var q=u.sibling;if(q!==null){q.return=u.return,Pe=q;break}Pe=u.return}}var WB=Math.ceil,yp=j.ReactCurrentDispatcher,i_=j.ReactCurrentOwner,Kr=j.ReactCurrentBatchConfig,ot=0,vn=null,Jt=null,Cn=0,Cr=0,ol=va(0),cn=0,lf=null,Ms=0,vp=0,o_=0,cf=null,cr=null,a_=0,al=1/0,Ao=null,_p=!1,s_=null,xa=null,wp=!1,Ta=null,bp=0,ff=0,u_=null,Ep=-1,Sp=0;function Jn(){return ot&6?St():Ep!==-1?Ep:Ep=St()}function Aa(s){return s.mode&1?ot&2&&Cn!==0?Cn&-Cn:PB.transition!==null?(Sp===0&&(Sp=Es()),Sp):(s=et,s!==0||(s=window.event,s=s===void 0?16:$c(s.type)),s):1}function xi(s,u,d,g){if(50<ff)throw ff=0,u_=null,Error(n(185));ca(s,d,g),(!(ot&2)||s!==vn)&&(s===vn&&(!(ot&2)&&(vp|=d),cn===4&&Ia(s,Cn)),fr(s,g),d===1&&ot===0&&!(u.mode&1)&&(al=St()+500,Qh&&wa()))}function fr(s,u){var d=s.callbackNode;po(s,u);var g=bs(s,s===vn?Cn:0);if(g===0)d!==null&&Nc(d),s.callbackNode=null,s.callbackPriority=0;else if(u=g&-g,s.callbackPriority!==u){if(d!=null&&Nc(d),u===1)s.tag===0?IB(rP.bind(null,s)):BA(rP.bind(null,s)),SB(function(){!(ot&6)&&wa()}),d=null;else{switch(da(g)){case 1:d=_s;break;case 4:d=sa;break;case 16:d=Vr;break;case 536870912:d=Sh;break;default:d=Vr}d=fP(d,nP.bind(null,s))}s.callbackPriority=u,s.callbackNode=d}}function nP(s,u){if(Ep=-1,Sp=0,ot&6)throw Error(n(327));var d=s.callbackNode;if(sl()&&s.callbackNode!==d)return null;var g=bs(s,s===vn?Cn:0);if(g===0)return null;if(g&30||g&s.expiredLanes||u)u=xp(s,g);else{u=g;var b=ot;ot|=2;var T=oP();(vn!==s||Cn!==u)&&(Ao=null,al=St()+500,js(s,u));do try{GB();break}catch(q){iP(s,q)}while(!0);Av(),yp.current=T,ot=b,Jt!==null?u=0:(vn=null,Cn=0,u=cn)}if(u!==0){if(u===2&&(b=xr(s),b!==0&&(g=b,u=l_(s,b))),u===1)throw d=lf,js(s,0),Ia(s,g),fr(s,St()),d;if(u===6)Ia(s,g);else{if(b=s.current.alternate,!(g&30)&&!HB(b)&&(u=xp(s,g),u===2&&(T=xr(s),T!==0&&(g=T,u=l_(s,T))),u===1))throw d=lf,js(s,0),Ia(s,g),fr(s,St()),d;switch(s.finishedWork=b,s.finishedLanes=g,u){case 0:case 1:throw Error(n(345));case 2:Ls(s,cr,Ao);break;case 3:if(Ia(s,g),(g&130023424)===g&&(u=a_+500-St(),10<u)){if(bs(s,0)!==0)break;if(b=s.suspendedLanes,(b&g)!==g){Jn(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=mv(Ls.bind(null,s,cr,Ao),u);break}Ls(s,cr,Ao);break;case 4:if(Ia(s,g),(g&4194240)===g)break;for(u=s.eventTimes,b=-1;0<g;){var $=31-Yn(g);T=1<<$,$=u[$],$>b&&(b=$),g&=~T}if(g=b,g=St()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*WB(g/1960))-g,10<g){s.timeoutHandle=mv(Ls.bind(null,s,cr,Ao),g);break}Ls(s,cr,Ao);break;case 5:Ls(s,cr,Ao);break;default:throw Error(n(329))}}}return fr(s,St()),s.callbackNode===d?nP.bind(null,s):null}function l_(s,u){var d=cf;return s.current.memoizedState.isDehydrated&&(js(s,u).flags|=256),s=xp(s,u),s!==2&&(u=cr,cr=d,u!==null&&c_(u)),s}function c_(s){cr===null?cr=s:cr.push.apply(cr,s)}function HB(s){for(var u=s;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var b=d[g],T=b.getSnapshot;b=b.value;try{if(!_i(T(),b))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ia(s,u){for(u&=~o_,u&=~vp,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var d=31-Yn(u),g=1<<d;s[d]=-1,u&=~g}}function rP(s){if(ot&6)throw Error(n(327));sl();var u=bs(s,0);if(!(u&1))return fr(s,St()),null;var d=xp(s,u);if(s.tag!==0&&d===2){var g=xr(s);g!==0&&(u=g,d=l_(s,g))}if(d===1)throw d=lf,js(s,0),Ia(s,u),fr(s,St()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Ls(s,cr,Ao),fr(s,St()),null}function f_(s,u){var d=ot;ot|=1;try{return s(u)}finally{ot=d,ot===0&&(al=St()+500,Qh&&wa())}}function Ds(s){Ta!==null&&Ta.tag===0&&!(ot&6)&&sl();var u=ot;ot|=1;var d=Kr.transition,g=et;try{if(Kr.transition=null,et=1,s)return s()}finally{et=g,Kr.transition=d,ot=u,!(ot&6)&&wa()}}function d_(){Cr=ol.current,Pt(ol)}function js(s,u){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,EB(d)),Jt!==null)for(d=Jt.return;d!==null;){var g=d;switch(bv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Yh();break;case 3:nl(),Pt(sr),Pt(jn),Mv();break;case 5:Rv(g);break;case 4:nl();break;case 13:Pt(jt);break;case 19:Pt(jt);break;case 10:Iv(g.type._context);break;case 22:case 23:d_()}d=d.return}if(vn=s,Jt=s=Pa(s.current,null),Cn=Cr=u,cn=0,lf=null,o_=vp=Ms=0,cr=cf=null,ks!==null){for(u=0;u<ks.length;u++)if(d=ks[u],g=d.interleaved,g!==null){d.interleaved=null;var b=g.next,T=d.pending;if(T!==null){var $=T.next;T.next=b,g.next=$}d.pending=g}ks=null}return s}function iP(s,u){do{var d=Jt;try{if(Av(),sp.current=fp,up){for(var g=Lt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}up=!1}if(Ns=0,yn=ln=Lt=null,nf=!1,rf=0,i_.current=null,d===null||d.return===null){cn=1,lf=u,Jt=null;break}e:{var T=s,$=d.return,q=d,H=u;if(u=Cn,q.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=H,me=q,ge=me.tag;if(!(me.mode&1)&&(ge===0||ge===11||ge===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=CI($);if(Ee!==null){Ee.flags&=-257,OI(Ee,$,q,T,u),Ee.mode&1&&PI(T,ae,u),u=Ee,H=ae;var Oe=u.updateQueue;if(Oe===null){var ke=new Set;ke.add(H),u.updateQueue=ke}else Oe.add(H);break e}else{if(!(u&1)){PI(T,ae,u),h_();break e}H=Error(n(426))}}else if(Nt&&q.mode&1){var Gt=CI($);if(Gt!==null){!(Gt.flags&65536)&&(Gt.flags|=256),OI(Gt,$,q,T,u),xv(rl(H,q));break e}}T=H=rl(H,q),cn!==4&&(cn=2),cf===null?cf=[T]:cf.push(T),T=$;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var ne=AI(T,H,u);ZA(T,ne);break e;case 1:q=H;var G=T.type,ie=T.stateNode;if(!(T.flags&128)&&(typeof G.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(xa===null||!xa.has(ie)))){T.flags|=65536,u&=-u,T.lanes|=u;var ve=II(T,q,u);ZA(T,ve);break e}}T=T.return}while(T!==null)}sP(d)}catch(Re){u=Re,Jt===d&&d!==null&&(Jt=d=d.return);continue}break}while(!0)}function oP(){var s=yp.current;return yp.current=fp,s===null?fp:s}function h_(){(cn===0||cn===3||cn===2)&&(cn=4),vn===null||!(Ms&268435455)&&!(vp&268435455)||Ia(vn,Cn)}function xp(s,u){var d=ot;ot|=2;var g=oP();(vn!==s||Cn!==u)&&(Ao=null,js(s,u));do try{KB();break}catch(b){iP(s,b)}while(!0);if(Av(),ot=d,yp.current=g,Jt!==null)throw Error(n(261));return vn=null,Cn=0,cn}function KB(){for(;Jt!==null;)aP(Jt)}function GB(){for(;Jt!==null&&!bh();)aP(Jt)}function aP(s){var u=cP(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,u===null?sP(s):Jt=u,i_.current=null}function sP(s){var u=s;do{var d=u.alternate;if(s=u.return,u.flags&32768){if(d=UB(d,u),d!==null){d.flags&=32767,Jt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,Jt=null;return}}else if(d=VB(d,u,Cr),d!==null){Jt=d;return}if(u=u.sibling,u!==null){Jt=u;return}Jt=u=s}while(u!==null);cn===0&&(cn=5)}function Ls(s,u,d){var g=et,b=Kr.transition;try{Kr.transition=null,et=1,YB(s,u,d,g)}finally{Kr.transition=b,et=g}return null}function YB(s,u,d,g){do sl();while(Ta!==null);if(ot&6)throw Error(n(327));d=s.finishedWork;var b=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var T=d.lanes|d.childLanes;if(bt(s,T),s===vn&&(Jt=vn=null,Cn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||wp||(wp=!0,fP(Vr,function(){return sl(),null})),T=(d.flags&15990)!==0,d.subtreeFlags&15990||T){T=Kr.transition,Kr.transition=null;var $=et;et=1;var q=ot;ot|=4,i_.current=null,qB(s,d),QI(d,s),mB(hv),pa=!!dv,hv=dv=null,s.current=d,zB(d),Xy(),ot=q,et=$,Kr.transition=T}else s.current=d;if(wp&&(wp=!1,Ta=s,bp=b),T=s.pendingLanes,T===0&&(xa=null),xh(d.stateNode),fr(s,St()),u!==null)for(g=s.onRecoverableError,d=0;d<u.length;d++)b=u[d],g(b.value,{componentStack:b.stack,digest:b.digest});if(_p)throw _p=!1,s=s_,s_=null,s;return bp&1&&s.tag!==0&&sl(),T=s.pendingLanes,T&1?s===u_?ff++:(ff=0,u_=s):ff=0,wa(),null}function sl(){if(Ta!==null){var s=da(bp),u=Kr.transition,d=et;try{if(Kr.transition=null,et=16>s?16:s,Ta===null)var g=!1;else{if(s=Ta,Ta=null,bp=0,ot&6)throw Error(n(331));var b=ot;for(ot|=4,Pe=s.current;Pe!==null;){var T=Pe,$=T.child;if(Pe.flags&16){var q=T.deletions;if(q!==null){for(var H=0;H<q.length;H++){var ae=q[H];for(Pe=ae;Pe!==null;){var me=Pe;switch(me.tag){case 0:case 11:case 15:uf(8,me,T)}var ge=me.child;if(ge!==null)ge.return=me,Pe=ge;else for(;Pe!==null;){me=Pe;var pe=me.sibling,Ee=me.return;if(HI(me),me===ae){Pe=null;break}if(pe!==null){pe.return=Ee,Pe=pe;break}Pe=Ee}}}var Oe=T.alternate;if(Oe!==null){var ke=Oe.child;if(ke!==null){Oe.child=null;do{var Gt=ke.sibling;ke.sibling=null,ke=Gt}while(ke!==null)}}Pe=T}}if(T.subtreeFlags&2064&&$!==null)$.return=T,Pe=$;else e:for(;Pe!==null;){if(T=Pe,T.flags&2048)switch(T.tag){case 0:case 11:case 15:uf(9,T,T.return)}var ne=T.sibling;if(ne!==null){ne.return=T.return,Pe=ne;break e}Pe=T.return}}var G=s.current;for(Pe=G;Pe!==null;){$=Pe;var ie=$.child;if($.subtreeFlags&2064&&ie!==null)ie.return=$,Pe=ie;else e:for($=G;Pe!==null;){if(q=Pe,q.flags&2048)try{switch(q.tag){case 0:case 11:case 15:gp(9,q)}}catch(Re){Bt(q,q.return,Re)}if(q===$){Pe=null;break e}var ve=q.sibling;if(ve!==null){ve.return=q.return,Pe=ve;break e}Pe=q.return}}if(ot=b,wa(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(ws,s)}catch{}g=!0}return g}finally{et=d,Kr.transition=u}}return!1}function uP(s,u,d){u=rl(d,u),u=AI(s,u,1),s=Ea(s,u,1),u=Jn(),s!==null&&(ca(s,1,u),fr(s,u))}function Bt(s,u,d){if(s.tag===3)uP(s,s,d);else for(;u!==null;){if(u.tag===3){uP(u,s,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(xa===null||!xa.has(g))){s=rl(d,s),s=II(u,s,1),u=Ea(u,s,1),s=Jn(),u!==null&&(ca(u,1,s),fr(u,s));break}}u=u.return}}function XB(s,u,d){var g=s.pingCache;g!==null&&g.delete(u),u=Jn(),s.pingedLanes|=s.suspendedLanes&d,vn===s&&(Cn&d)===d&&(cn===4||cn===3&&(Cn&130023424)===Cn&&500>St()-a_?js(s,0):o_|=d),fr(s,u)}function lP(s,u){u===0&&(s.mode&1?(u=Ou,Ou<<=1,!(Ou&130023424)&&(Ou=4194304)):u=1);var d=Jn();s=So(s,u),s!==null&&(ca(s,u,d),fr(s,d))}function QB(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),lP(s,d)}function JB(s,u){var d=0;switch(s.tag){case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(u),lP(s,d)}var cP;cP=function(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps||sr.current)lr=!0;else{if(!(s.lanes&d)&&!(u.flags&128))return lr=!1,FB(s,u,d);lr=!!(s.flags&131072)}else lr=!1,Nt&&u.flags&1048576&&qA(u,Zh,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;pp(s,u),s=u.pendingProps;var b=Yu(u,jn.current);tl(u,d),b=Lv(null,u,g,s,b,d);var T=$v();return u.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,ur(g)?(T=!0,Xh(u)):T=!1,u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Ov(u),b.updater=dp,u.stateNode=b,b._reactInternals=u,zv(u,g,s,d),u=Gv(null,u,g,!0,T,d)):(u.tag=0,Nt&&T&&wv(u),Qn(null,u,b,d),u=u.child),u;case 16:g=u.elementType;e:{switch(pp(s,u),s=u.pendingProps,b=g._init,g=b(g._payload),u.type=g,b=u.tag=eq(g),s=bi(g,s),b){case 0:u=Kv(null,u,g,s,d);break e;case 1:u=jI(null,u,g,s,d);break e;case 11:u=kI(null,u,g,s,d);break e;case 14:u=RI(null,u,g,bi(g.type,s),d);break e}throw Error(n(306,g,""))}return u;case 0:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:bi(g,b),Kv(s,u,g,b,d);case 1:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:bi(g,b),jI(s,u,g,b,d);case 3:e:{if(LI(u),s===null)throw Error(n(387));g=u.pendingProps,T=u.memoizedState,b=T.element,JA(s,u),op(u,g,null,d);var $=u.memoizedState;if(g=$.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){b=rl(Error(n(423)),u),u=$I(s,u,g,d,b);break e}else if(g!==b){b=rl(Error(n(424)),u),u=$I(s,u,g,d,b);break e}else for(Pr=ya(u.stateNode.containerInfo.firstChild),Ir=u,Nt=!0,wi=null,d=XA(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ju(),g===b){u=To(s,u,d);break e}Qn(s,u,g,d)}u=u.child}return u;case 5:return tI(u),s===null&&Sv(u),g=u.type,b=u.pendingProps,T=s!==null?s.memoizedProps:null,$=b.children,pv(g,b)?$=null:T!==null&&pv(g,T)&&(u.flags|=32),DI(s,u),Qn(s,u,$,d),u.child;case 6:return s===null&&Sv(u),null;case 13:return FI(s,u,d);case 4:return kv(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=Zu(u,null,g,d):Qn(s,u,g,d),u.child;case 11:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:bi(g,b),kI(s,u,g,b,d);case 7:return Qn(s,u,u.pendingProps,d),u.child;case 8:return Qn(s,u,u.pendingProps.children,d),u.child;case 12:return Qn(s,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,b=u.pendingProps,T=u.memoizedProps,$=b.value,xt(np,g._currentValue),g._currentValue=$,T!==null)if(_i(T.value,$)){if(T.children===b.children&&!sr.current){u=To(s,u,d);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var q=T.dependencies;if(q!==null){$=T.child;for(var H=q.firstContext;H!==null;){if(H.context===g){if(T.tag===1){H=xo(-1,d&-d),H.tag=2;var ae=T.updateQueue;if(ae!==null){ae=ae.shared;var me=ae.pending;me===null?H.next=H:(H.next=me.next,me.next=H),ae.pending=H}}T.lanes|=d,H=T.alternate,H!==null&&(H.lanes|=d),Pv(T.return,d,u),q.lanes|=d;break}H=H.next}}else if(T.tag===10)$=T.type===u.type?null:T.child;else if(T.tag===18){if($=T.return,$===null)throw Error(n(341));$.lanes|=d,q=$.alternate,q!==null&&(q.lanes|=d),Pv($,d,u),$=T.sibling}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===u){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}Qn(s,u,b.children,d),u=u.child}return u;case 9:return b=u.type,g=u.pendingProps.children,tl(u,d),b=Wr(b),g=g(b),u.flags|=1,Qn(s,u,g,d),u.child;case 14:return g=u.type,b=bi(g,u.pendingProps),b=bi(g.type,b),RI(s,u,g,b,d);case 15:return NI(s,u,u.type,u.pendingProps,d);case 17:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:bi(g,b),pp(s,u),u.tag=1,ur(g)?(s=!0,Xh(u)):s=!1,tl(u,d),xI(u,g,b),zv(u,g,b,d),Gv(null,u,g,!0,s,d);case 19:return UI(s,u,d);case 22:return MI(s,u,d)}throw Error(n(156,u.tag))};function fP(s,u){return Pu(s,u)}function ZB(s,u,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(s,u,d,g){return new ZB(s,u,d,g)}function p_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function eq(s){if(typeof s=="function")return p_(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===K)return 14}return 2}function Pa(s,u){var d=s.alternate;return d===null?(d=Gr(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Tp(s,u,d,g,b,T){var $=2;if(g=s,typeof s=="function")p_(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case P:return $s(d.children,b,T,u);case k:$=8,b|=8;break;case M:return s=Gr(12,d,u,b|2),s.elementType=M,s.lanes=T,s;case C:return s=Gr(13,d,u,b),s.elementType=C,s.lanes=T,s;case W:return s=Gr(19,d,u,b),s.elementType=W,s.lanes=T,s;case re:return Ap(d,b,T,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:$=10;break e;case L:$=9;break e;case V:$=11;break e;case K:$=14;break e;case Z:$=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=Gr($,d,u,b),u.elementType=s,u.type=g,u.lanes=T,u}function $s(s,u,d,g){return s=Gr(7,s,g,u),s.lanes=d,s}function Ap(s,u,d,g){return s=Gr(22,s,g,u),s.elementType=re,s.lanes=d,s.stateNode={isHidden:!1},s}function m_(s,u,d){return s=Gr(6,s,null,u),s.lanes=d,s}function g_(s,u,d){return u=Gr(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function tq(s,u,d,g,b){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function y_(s,u,d,g,b,T,$,q,H){return s=new tq(s,u,d,q,H),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Gr(3,null,null,u),s.current=T,T.stateNode=s,T.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ov(T),s}function nq(s,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:g==null?null:""+g,children:s,containerInfo:u,implementation:d}}function dP(s){if(!s)return _a;s=s._reactInternals;e:{if(di(s)!==s||s.tag!==1)throw Error(n(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ur(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(ur(d))return VA(s,d,u)}return u}function hP(s,u,d,g,b,T,$,q,H){return s=y_(d,g,!0,s,b,T,$,q,H),s.context=dP(null),d=s.current,g=Jn(),b=Aa(d),T=xo(g,b),T.callback=u??null,Ea(d,T,b),s.current.lanes=b,ca(s,b,g),fr(s,g),s}function Ip(s,u,d,g){var b=u.current,T=Jn(),$=Aa(b);return d=dP(d),u.context===null?u.context=d:u.pendingContext=d,u=xo(T,$),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=Ea(b,u,$),s!==null&&(xi(s,b,$,T),ip(s,b,$)),$}function Pp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function pP(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function v_(s,u){pP(s,u),(s=s.alternate)&&pP(s,u)}function rq(){return null}var mP=typeof reportError=="function"?reportError:function(s){console.error(s)};function __(s){this._internalRoot=s}Cp.prototype.render=__.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));Ip(s,u,null,null)},Cp.prototype.unmount=__.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Ds(function(){Ip(null,s,null,null)}),u[_o]=null}};function Cp(s){this._internalRoot=s}Cp.prototype.unstable_scheduleHydration=function(s){if(s){var u=Ch();s={blockedOn:null,target:s,priority:u};for(var d=0;d<Hi.length&&u!==0&&u<Hi[d].priority;d++);Hi.splice(d,0,s),d===0&&Rh(s)}};function w_(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Op(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function gP(){}function iq(s,u,d,g,b){if(b){if(typeof g=="function"){var T=g;g=function(){var ae=Pp($);T.call(ae)}}var $=hP(u,g,s,0,null,!1,!1,"",gP);return s._reactRootContainer=$,s[_o]=$.current,Gc(s.nodeType===8?s.parentNode:s),Ds(),$}for(;b=s.lastChild;)s.removeChild(b);if(typeof g=="function"){var q=g;g=function(){var ae=Pp(H);q.call(ae)}}var H=y_(s,0,!1,null,null,!1,!1,"",gP);return s._reactRootContainer=H,s[_o]=H.current,Gc(s.nodeType===8?s.parentNode:s),Ds(function(){Ip(u,H,d,g)}),H}function kp(s,u,d,g,b){var T=d._reactRootContainer;if(T){var $=T;if(typeof b=="function"){var q=b;b=function(){var H=Pp($);q.call(H)}}Ip(u,$,s,b)}else $=iq(d,u,s,b,g);return Pp($)}Ih=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var d=ua(u.pendingLanes);d!==0&&(fa(u,d|1),fr(u,St()),!(ot&6)&&(al=St()+500,wa()))}break;case 13:Ds(function(){var g=So(s,1);if(g!==null){var b=Jn();xi(g,s,1,b)}}),v_(s,1)}},ku=function(s){if(s.tag===13){var u=So(s,134217728);if(u!==null){var d=Jn();xi(u,s,134217728,d)}v_(s,134217728)}},Ph=function(s){if(s.tag===13){var u=Aa(s),d=So(s,u);if(d!==null){var g=Jn();xi(d,s,u,g)}v_(s,u)}},Ch=function(){return et},Oh=function(s,u){var d=et;try{return et=s,u()}finally{et=d}},Eu=function(s,u,d){switch(u){case"input":if(Ut(s,d),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==s&&g.form===s.form){var b=Gh(g);if(!b)throw Error(n(90));he(g),Ut(g,b)}}}break;case"textarea":co(s,d);break;case"select":u=d.value,u!=null&&Tn(s,!!d.multiple,u,!1)}},ms=f_,Cc=Ds;var oq={usingClientEntryPoint:!1,Events:[Qc,Ku,Gh,zi,Pc,f_]},df={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aq={bundleType:df.bundleType,version:df.version,rendererPackageName:df.rendererPackageName,rendererConfig:df.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Rc(s),s===null?null:s.stateNode},findFiberByHostInstance:df.findFiberByHostInstance||rq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{ws=Rp.inject(aq),Sr=Rp}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oq,dr.createPortal=function(s,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w_(u))throw Error(n(200));return nq(s,u,null,d)},dr.createRoot=function(s,u){if(!w_(s))throw Error(n(299));var d=!1,g="",b=mP;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),u=y_(s,1,!1,null,null,d,!1,g,b),s[_o]=u.current,Gc(s.nodeType===8?s.parentNode:s),new __(u)},dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Rc(u),s=s===null?null:s.stateNode,s},dr.flushSync=function(s){return Ds(s)},dr.hydrate=function(s,u,d){if(!Op(u))throw Error(n(200));return kp(null,s,u,!0,d)},dr.hydrateRoot=function(s,u,d){if(!w_(s))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,b=!1,T="",$=mP;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),u=hP(u,null,s,1,d??null,b,!1,T,$),s[_o]=u.current,Gc(s),g)for(s=0;s<g.length;s++)d=g[s],b=d._getVersion,b=b(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,b]:u.mutableSourceEagerHydrationData.push(d,b);return new Cp(u)},dr.render=function(s,u,d){if(!Op(u))throw Error(n(200));return kp(null,s,u,!1,d)},dr.unmountComponentAtNode=function(s){if(!Op(s))throw Error(n(40));return s._reactRootContainer?(Ds(function(){kp(null,null,s,!1,function(){s._reactRootContainer=null,s[_o]=null})}),!0):!1},dr.unstable_batchedUpdates=f_,dr.unstable_renderSubtreeIntoContainer=function(s,u,d,g){if(!Op(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return kp(s,u,d,!1,g)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var xP;function pq(){if(xP)return S_.exports;xP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),S_.exports=hq(),S_.exports}var TP;function mq(){if(TP)return Mp;TP=1;var t=pq();return Mp.createRoot=t.createRoot,Mp.hydrateRoot=t.hydrateRoot,Mp}var gq=mq(),pf={},AP;function yq(){if(AP)return pf;AP=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.parse=a,pf.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,_){const w=new o,E=y.length;if(E<2)return w;const v=(_==null?void 0:_.decode)||h;let I=0;do{const A=y.indexOf("=",I);if(A===-1)break;const R=y.indexOf(";",I),j=R===-1?E:R;if(A>j){I=y.lastIndexOf(";",A-1)+1;continue}const O=l(y,I,A),D=c(y,A,O),P=y.slice(O,D);if(w[P]===void 0){let k=l(y,A+1,j),M=c(y,j,k);const F=v(y.slice(k,M));w[P]=F}I=j+1}while(I<E);return w}function l(y,_,w){do{const E=y.charCodeAt(_);if(E!==32&&E!==9)return _}while(++_<w);return w}function c(y,_,w){for(;_>w;){const E=y.charCodeAt(--_);if(E!==32&&E!==9)return _+1}return w}function f(y,_,w){const E=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const v=E(_);if(!e.test(v))throw new TypeError(`argument val is invalid: ${_}`);let I=y+"="+v;if(!w)return I;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);I+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);I+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);I+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);I+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(I+="; HttpOnly"),w.secure&&(I+="; Secure"),w.partitioned&&(I+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return I}function h(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function p(y){return i.call(y)==="[object Date]"}return pf}yq();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IP="popstate";function vq(t={}){function e(i,o){let{pathname:a="/",search:l="",hash:c=""}=hu(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),K1("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof o=="string"?o:Xf(o))}function r(i,o){ri(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return wq(e,n,r,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _q(){return Math.random().toString(36).substring(2,10)}function PP(t,e){return{usr:t.state,key:t.key,idx:e}}function K1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hu(e):e,state:n,key:e&&e.key||r||_q()}}function Xf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wq(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l="POP",c=null,f=h();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function h(){return(a.state||{idx:null}).idx}function p(){l="POP";let v=h(),I=v==null?null:v-f;f=v,c&&c({action:l,location:E.location,delta:I})}function y(v,I){l="PUSH";let A=K1(E.location,v,I);n&&n(A,v),f=h()+1;let R=PP(A,f),j=E.createHref(A);try{a.pushState(R,"",j)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(j)}o&&c&&c({action:l,location:E.location,delta:1})}function _(v,I){l="REPLACE";let A=K1(E.location,v,I);n&&n(A,v),f=h();let R=PP(A,f),j=E.createHref(A);a.replaceState(R,"",j),o&&c&&c({action:l,location:E.location,delta:0})}function w(v){let I=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof v=="string"?v:Xf(v);return A=A.replace(/ $/,"%20"),Dt(I,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,I)}let E={get action(){return l},get location(){return t(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(IP,p),c=v,()=>{i.removeEventListener(IP,p),c=null}},createHref(v){return e(i,v)},createURL:w,encodeLocation(v){let I=w(v);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:y,replace:_,go(v){return a.go(v)}};return E}function _j(t,e,n="/"){return bq(t,e,n,!1)}function bq(t,e,n,r){let i=typeof e=="string"?hu(e):e,o=Ka(i.pathname||"/",n);if(o==null)return null;let a=wj(t);Eq(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let f=Nq(o);l=kq(a[c],f,r)}return l}function wj(t,e=[],n=[],r=""){let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Dt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let f=Do([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),wj(o.children,e,h,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Cq(f,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of bj(o.path))i(o,a,c)}),e}function bj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=bj(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Eq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Oq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Sq=/^:[\w-]+$/,xq=3,Tq=2,Aq=1,Iq=10,Pq=-2,CP=t=>t==="*";function Cq(t,e){let n=t.split("/"),r=n.length;return n.some(CP)&&(r+=Pq),e&&(r+=Tq),n.filter(i=>!CP(i)).reduce((i,o)=>i+(Sq.test(o)?xq:o===""?Aq:Iq),r)}function Oq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kq(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],f=l===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",p=ym({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),y=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=ym({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Do([o,p.pathname]),pathnameBase:Lq(Do([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=Do([o,p.pathnameBase]))}return a}function ym(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},y)=>{if(h==="*"){let w=l[y]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=l[y];return p&&!_?f[h]=void 0:f[h]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function Rq(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Nq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ka(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Mq(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hu(t):t;return{pathname:n?n.startsWith("/")?n:Dq(n,e):e,search:$q(r),hash:Fq(i)}}function Dq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function A_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WS(t){let e=jq(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function HS(t,e,n,r=!1){let i;typeof t=="string"?i=hu(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),A_("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),A_("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),A_("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}l=p>=0?e[p]:"/"}let c=Mq(i,l),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Do=t=>t.join("/").replace(/\/\/+/g,"/"),Lq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$q=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ej=["POST","PUT","PATCH","DELETE"];new Set(Ej);var Uq=["GET",...Ej];new Set(Uq);var sc=U.createContext(null);sc.displayName="DataRouter";var Mg=U.createContext(null);Mg.displayName="DataRouterState";var Sj=U.createContext({isTransitioning:!1});Sj.displayName="ViewTransition";var Bq=U.createContext(new Map);Bq.displayName="Fetchers";var qq=U.createContext(null);qq.displayName="Await";var ji=U.createContext(null);ji.displayName="Navigation";var Gd=U.createContext(null);Gd.displayName="Location";var Li=U.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var KS=U.createContext(null);KS.displayName="RouteError";function zq(t,{relative:e}={}){Dt(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(ji),{hash:i,pathname:o,search:a}=Yd(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:Do([n,o])),r.createHref({pathname:l,search:a,hash:i})}function uc(){return U.useContext(Gd)!=null}function $i(){return Dt(uc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Gd).location}var xj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tj(t){U.useContext(ji).static||U.useLayoutEffect(t)}function ts(){let{isDataRoute:t}=U.useContext(Li);return t?o3():Wq()}function Wq(){Dt(uc(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(sc),{basename:e,navigator:n}=U.useContext(ji),{matches:r}=U.useContext(Li),{pathname:i}=$i(),o=JSON.stringify(WS(r)),a=U.useRef(!1);return Tj(()=>{a.current=!0}),U.useCallback((c,f={})=>{if(ri(a.current,xj),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=HS(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Do([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,o,i,t])}var Hq=U.createContext(null);function Kq(t){let e=U.useContext(Li).outlet;return e&&U.createElement(Hq.Provider,{value:t},e)}function Yd(t,{relative:e}={}){let{matches:n}=U.useContext(Li),{pathname:r}=$i(),i=JSON.stringify(WS(n));return U.useMemo(()=>HS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Gq(t,e){return Aj(t,e)}function Aj(t,e,n,r){var I;Dt(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(ji),{matches:o}=U.useContext(Li),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let A=h&&h.path||"";Ij(c,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=$i(),y;if(e){let A=typeof e=="string"?hu(e):e;Dt(f==="/"||((I=A.pathname)==null?void 0:I.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=p;let _=y.pathname||"/",w=_;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=_j(t,{pathname:w});ri(h||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ri(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Zq(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Do([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Do([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return e&&v?U.createElement(Gd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function Yq(){let t=i3(),e=Vq(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,a)}var Xq=U.createElement(Yq,null),Qq=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(Li.Provider,{value:this.props.routeContext},U.createElement(KS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jq({routeContext:t,match:e,children:n}){let r=U.useContext(sc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Li.Provider,{value:t},n)}function Zq(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Dt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,h)=>{let p,y=!1,_=null,w=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||Xq,a&&(l<0&&h===0?(Ij("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):l===h&&(y=!0,w=f.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,h+1)),v=()=>{let I;return p?I=_:y?I=w:f.route.Component?I=U.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=c,U.createElement(Jq,{match:f,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:I})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?U.createElement(Qq,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}function GS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e3(t){let e=U.useContext(sc);return Dt(e,GS(t)),e}function t3(t){let e=U.useContext(Mg);return Dt(e,GS(t)),e}function n3(t){let e=U.useContext(Li);return Dt(e,GS(t)),e}function YS(t){let e=n3(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function r3(){return YS("useRouteId")}function i3(){var r;let t=U.useContext(KS),e=t3("useRouteError"),n=YS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function o3(){let{router:t}=e3("useNavigate"),e=YS("useNavigate"),n=U.useRef(!1);return Tj(()=>{n.current=!0}),U.useCallback(async(i,o={})=>{ri(n.current,xj),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var OP={};function Ij(t,e,n){!e&&!OP[t]&&(OP[t]=!0,ri(!1,n))}U.memo(a3);function a3({routes:t,future:e,state:n}){return Aj(t,void 0,n,e)}function kP({to:t,replace:e,state:n,relative:r}){Dt(uc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=U.useContext(ji);ri(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=U.useContext(Li),{pathname:a}=$i(),l=ts(),c=HS(t,WS(o),a,r==="path"),f=JSON.stringify(c);return U.useEffect(()=>{l(JSON.parse(f),{replace:e,state:n,relative:r})},[l,f,r,e,n]),null}function s3(t){return Kq(t.context)}function tr(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Dt(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=hu(n));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,_=U.useMemo(()=>{let w=Ka(c,a);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:y},navigationType:r}},[a,c,f,h,p,y,r]);return ri(_!=null,`<Router basename="${a}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:U.createElement(ji.Provider,{value:l},U.createElement(Gd.Provider,{children:e,value:_}))}function l3({children:t,location:e}){return Gq(G1(t),e)}function G1(t,e=[]){let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let o=[...e,i];if(r.type===U.Fragment){n.push.apply(n,G1(r.props.children,o));return}Dt(r.type===tr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=G1(r.props.children,o)),n.push(a)}),n}var om="get",am="application/x-www-form-urlencoded";function Dg(t){return t!=null&&typeof t.tagName=="string"}function c3(t){return Dg(t)&&t.tagName.toLowerCase()==="button"}function f3(t){return Dg(t)&&t.tagName.toLowerCase()==="form"}function d3(t){return Dg(t)&&t.tagName.toLowerCase()==="input"}function h3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function p3(t,e){return t.button===0&&(!e||e==="_self")&&!h3(t)}var Dp=null;function m3(){if(Dp===null)try{new FormData(document.createElement("form"),0),Dp=!1}catch{Dp=!0}return Dp}var g3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function I_(t){return t!=null&&!g3.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${am}"`),null):t}function y3(t,e){let n,r,i,o,a;if(f3(t)){let l=t.getAttribute("action");r=l?Ka(l,e):null,n=t.getAttribute("method")||om,i=I_(t.getAttribute("enctype"))||am,o=new FormData(t)}else if(c3(t)||d3(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Ka(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||om,i=I_(t.getAttribute("formenctype"))||I_(l.getAttribute("enctype"))||am,o=new FormData(l,t),!m3()){let{name:f,type:h,value:p}=t;if(h==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,p)}}else{if(Dg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=om,r=null,i=am,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function XS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function v3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function w3(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await v3(o,n);return a.links?a.links():[]}return[]}));return x3(r.flat(1).filter(_3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function RP(t,e,n,r,i,o){let a=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,l=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>a(c,f)||l(c,f)):o==="data"?e.filter((c,f)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(a(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function b3(t,e){return E3(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function E3(t){return[...new Set(t)]}function S3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function x3(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(S3(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function T3(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function A3(){let t=U.useContext(sc);return XS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function I3(){let t=U.useContext(Mg);return XS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var QS=U.createContext(void 0);QS.displayName="FrameworkContext";function Pj(){let t=U.useContext(QS);return XS(t,"You must render this element inside a <HydratedRouter> element"),t}function P3(t,e){let n=U.useContext(QS),[r,i]=U.useState(!1),[o,a]=U.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,y=U.useRef(null);U.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let E=I=>{I.forEach(A=>{a(A.isIntersecting)})},v=new IntersectionObserver(E,{threshold:.5});return y.current&&v.observe(y.current),()=>{v.disconnect()}}},[t]),U.useEffect(()=>{if(r){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:mf(l,_),onBlur:mf(c,w),onMouseEnter:mf(f,_),onMouseLeave:mf(h,w),onTouchStart:mf(p,_)}]:[!1,y,{}]}function mf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function C3({page:t,...e}){let{router:n}=A3(),r=U.useMemo(()=>_j(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?U.createElement(k3,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function O3(t){let{manifest:e,routeModules:n}=Pj(),[r,i]=U.useState([]);return U.useEffect(()=>{let o=!1;return w3(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function k3({page:t,matches:e,...n}){let r=$i(),{manifest:i,routeModules:o}=Pj(),{loaderData:a,matches:l}=I3(),c=U.useMemo(()=>RP(t,e,l,i,r,"data"),[t,e,l,i,r]),f=U.useMemo(()=>RP(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=U.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,w=!1;if(e.forEach(v=>{var A;let I=i.routes[v.route.id];!I||!I.hasLoader||(!c.some(R=>R.route.id===v.route.id)&&v.route.id in a&&((A=o[v.route.id])!=null&&A.shouldRevalidate)||I.hasClientLoader?w=!0:_.add(v.route.id))}),_.size===0)return[];let E=T3(t);return w&&_.size>0&&E.searchParams.set("_routes",e.filter(v=>_.has(v.route.id)).map(v=>v.route.id).join(",")),[E.pathname+E.search]},[a,r,i,c,e,t,o]),p=U.useMemo(()=>b3(f,i),[f,i]),y=O3(f);return U.createElement(U.Fragment,null,h.map(_=>U.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>U.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:w})=>U.createElement("link",{key:_,...w})))}function R3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Cj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cj&&(window.__reactRouterVersion="7.0.2")}catch{}function N3({basename:t,children:e,window:n}){let r=U.useRef();r.current==null&&(r.current=vq({window:n,v5Compat:!0}));let i=r.current,[o,a]=U.useState({action:i.action,location:i.location}),l=U.useCallback(c=>{U.startTransition(()=>a(c))},[a]);return U.useLayoutEffect(()=>i.listen(l),[i,l]),U.createElement(u3,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Oj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jr=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:l,target:c,to:f,preventScrollReset:h,viewTransition:p,...y},_){let{basename:w}=U.useContext(ji),E=typeof f=="string"&&Oj.test(f),v,I=!1;if(typeof f=="string"&&E&&(v=f,Cj))try{let M=new URL(window.location.href),F=f.startsWith("//")?new URL(M.protocol+f):new URL(f),L=Ka(F.pathname,w);F.origin===M.origin&&L!=null?f=L+F.search+F.hash:I=!0}catch{ri(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=zq(f,{relative:i}),[R,j,O]=P3(r,y),D=L3(f,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});function P(M){e&&e(M),M.defaultPrevented||D(M)}let k=U.createElement("a",{...y,...O,href:v||A,onClick:I||o?e:P,ref:R3(_,j),target:c,"data-discover":!E&&n==="render"?"true":void 0});return R&&!E?U.createElement(U.Fragment,null,k,U.createElement(C3,{page:A})):k});Jr.displayName="Link";var M3=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:l,children:c,...f},h){let p=Yd(a,{relative:f.relative}),y=$i(),_=U.useContext(Mg),{navigator:w,basename:E}=U.useContext(ji),v=_!=null&&B3(p)&&l===!0,I=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,A=y.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(A=A.toLowerCase(),R=R?R.toLowerCase():null,I=I.toLowerCase()),R&&E&&(R=Ka(R,E)||R);const j=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let O=A===I||!i&&A.startsWith(I)&&A.charAt(j)==="/",D=R!=null&&(R===I||!i&&R.startsWith(I)&&R.charAt(I.length)==="/"),P={isActive:O,isPending:D,isTransitioning:v},k=O?e:void 0,M;typeof r=="function"?M=r(P):M=[r,O?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(P):o;return U.createElement(Jr,{...f,"aria-current":k,className:M,ref:h,style:F,to:a,viewTransition:l},typeof c=="function"?c(P):c)});M3.displayName="NavLink";var D3=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=om,action:l,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,...y},_)=>{let w=V3(),E=U3(l,{relative:f}),v=a.toLowerCase()==="get"?"get":"post",I=typeof l=="string"&&Oj.test(l),A=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let j=R.nativeEvent.submitter,O=(j==null?void 0:j.getAttribute("formmethod"))||a;w(j||R.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:f,preventScrollReset:h,viewTransition:p})};return U.createElement("form",{ref:_,method:v,action:E,onSubmit:r?c:A,...y,"data-discover":!I&&t==="render"?"true":void 0})});D3.displayName="Form";function j3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kj(t){let e=U.useContext(sc);return Dt(e,j3(t)),e}function L3(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let l=ts(),c=$i(),f=Yd(t,{relative:o});return U.useCallback(h=>{if(p3(h,e)){h.preventDefault();let p=n!==void 0?n:Xf(c)===Xf(f);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,f,n,r,e,t,i,o,a])}var $3=0,F3=()=>`__${String(++$3)}__`;function V3(){let{router:t}=kj("useSubmit"),{basename:e}=U.useContext(ji),n=r3();return U.useCallback(async(r,i={})=>{let{action:o,method:a,encType:l,formData:c,body:f}=y3(r,e);if(i.navigate===!1){let h=i.fetcherKey||F3();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function U3(t,{relative:e}={}){let{basename:n}=U.useContext(ji),r=U.useContext(Li);Dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Yd(t||".",{relative:e})},a=$i();if(t==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Do([n,o.pathname])),Xf(o)}function B3(t,e={}){let n=U.useContext(Sj);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kj("useViewTransitionState"),i=Yd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ka(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ka(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ym(i.pathname,a)!=null||ym(i.pathname,o)!=null}new TextEncoder;const q3="_sidebar_17rxh_1",z3="_profileSection_17rxh_10",W3="_navigation_17rxh_18",H3="_avatar_17rxh_22",K3="_userInfo_17rxh_35",G3="_navList_17rxh_63",Y3="_navItem_17rxh_72",X3="_navLink_17rxh_76",Q3="_navLinkWithBadge_17rxh_91",J3="_messageBadge_17rxh_100",Z3="_createEventBtn_17rxh_109",e6="_dropdown_17rxh_127",t6="_dropdownItem_17rxh_147",n6="_logoutBtn_17rxh_158",r6="_dashboardContainer_17rxh_179",i6="_mainContent_17rxh_183",o6="_dashboardStatisticContainer_17rxh_201",a6="_statsGrid_17rxh_205",s6="_statsCard_17rxh_208",u6="_statsCardContent_17rxh_211",l6="_statsTextContainer_17rxh_219",c6="_statsTitle_17rxh_223",f6="_statsValue_17rxh_229",d6="_statsDropdown_17rxh_235",h6="_statsDropdownItem_17rxh_243",p6="_statsDropdownLabel_17rxh_255",m6="_statsDropdownValue_17rxh_260",g6="_statsIconContainer_17rxh_264",y6="_welcomeTitle_17rxh_272",v6="_welcomeText_17rxh_283",_6="_hamburgerBtn_17rxh_287",w6="_overlay_17rxh_300",b6="_welcomeContainer_17rxh_324",E6="_sidebarOpen_17rxh_377",_e={sidebar:q3,profileSection:z3,navigation:W3,avatar:H3,userInfo:K3,navList:G3,navItem:Y3,navLink:X3,navLinkWithBadge:Q3,messageBadge:J3,createEventBtn:Z3,dropdown:e6,dropdownItem:t6,logoutBtn:n6,dashboardContainer:r6,mainContent:i6,dashboardStatisticContainer:o6,statsGrid:a6,statsCard:s6,statsCardContent:u6,statsTextContainer:l6,statsTitle:c6,statsValue:f6,statsDropdown:d6,statsDropdownItem:h6,statsDropdownLabel:p6,statsDropdownValue:m6,statsIconContainer:g6,welcomeTitle:y6,welcomeText:v6,hamburgerBtn:_6,overlay:w6,welcomeContainer:b6,sidebarOpen:E6},S6="_loading_container_13cgb_1",x6="_loading_spinner_13cgb_16",T6="_spin_13cgb_1",A6="_small_13cgb_25",I6="_large_13cgb_31",P6="_loading_text_13cgb_37",jp={loading_container:S6,loading_spinner:x6,spin:T6,small:A6,large:I6,loading_text:P6},NP=({size:t="default",text:e="Loading..."})=>{const n=`${jp.loading_spinner} ${t!=="default"?jp[t]:""}`;return S.jsxs("div",{className:jp.loading_container,children:[S.jsx("div",{className:n}),S.jsx("p",{className:jp.loading_text,children:e})]})};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},c)=>U.createElement("svg",{ref:c,...O6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Rj("lucide",i),...l},[...a.map(([f,h])=>U.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(t,e)=>{const n=U.forwardRef(({className:r,...i},o)=>U.createElement(k6,{ref:o,iconNode:e,className:Rj(`lucide-${C6(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Ye("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Ye("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Ye("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Ye("Computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Ye("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=Ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Ye("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Ye("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=Ye("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Ye("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Ye("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=Ye("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=Ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Ye("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=Ye("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=Ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=Ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=Ye("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=Ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=Ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var $P={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Vj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|l>>4;let y=(l&15)<<2|f>>6,_=f&63;c||(_=64,a||(y=64)),r.push(n[h],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new t5;const y=o<<2|l>>4;if(r.push(y),f!==64){const _=l<<4&240|f>>2;if(r.push(_),p!==64){const w=f<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n5=function(t){const e=Fj(t);return Vj.encodeByteArray(e,!0)},vm=function(t){return n5(t).replace(/\./g,"")},Uj=function(t){try{return Vj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=()=>r5().__FIREBASE_DEFAULTS__,o5=()=>{if(typeof process>"u"||typeof $P>"u")return;const t=$P.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uj(t[1]);return e&&JSON.parse(e)},jg=()=>{try{return i5()||o5()||a5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bj=t=>{var e,n;return(n=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZS=t=>{const e=Bj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qj=()=>{var t;return(t=jg())===null||t===void 0?void 0:t.config},zj=t=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vm(JSON.stringify(n)),vm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function l5(){var t;const e=(t=jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h5(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p5(){return!l5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hj(){try{return typeof indexedDB=="object"}catch{return!1}}function Kj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function m5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=g5,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?y5(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new ui(i,l,r)}}function y5(t,e){return t.replace(v5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const v5=/\{\$([^}]+)}/g;function _5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _m(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(FP(o)&&FP(a)){if(!_m(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Of(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function kf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function w5(t,e){const n=new b5(t,e);return n.subscribe.bind(n)}class b5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=P_),i.error===void 0&&(i.error=P_),i.complete===void 0&&(i.complete=P_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function P_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new s5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T5(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x5(t){return t===Bs?void 0:t}function T5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const I5={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},P5=Xe.INFO,C5={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},O5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=C5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ex{constructor(e){this.name=e,this._logLevel=P5,this._logHandler=O5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const k5=(t,e)=>e.some(n=>t instanceof n);let VP,UP;function R5(){return VP||(VP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N5(){return UP||(UP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gj=new WeakMap,X1=new WeakMap,Yj=new WeakMap,C_=new WeakMap,tx=new WeakMap;function M5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(jo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Gj.set(n,t)}).catch(()=>{}),tx.set(e,t),e}function D5(t){if(X1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});X1.set(t,e)}let Q1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return X1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j5(t){Q1=t(Q1)}function L5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(O_(this),e,...n);return Yj.set(r,e.sort?e.sort():[e]),jo(r)}:N5().includes(t)?function(...e){return t.apply(O_(this),e),jo(Gj.get(this))}:function(...e){return jo(t.apply(O_(this),e))}}function $5(t){return typeof t=="function"?L5(t):(t instanceof IDBTransaction&&D5(t),k5(t,R5())?new Proxy(t,Q1):t)}function jo(t){if(t instanceof IDBRequest)return M5(t);if(C_.has(t))return C_.get(t);const e=$5(t);return e!==t&&(C_.set(t,e),tx.set(e,t)),e}const O_=t=>tx.get(t);function Lg(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=jo(a);return r&&a.addEventListener("upgradeneeded",c=>{r(jo(a.result),c.oldVersion,c.newVersion,jo(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}function k_(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),jo(n).then(()=>{})}const F5=["get","getKey","getAll","getAllKeys","count"],V5=["put","add","delete","clear"],R_=new Map;function BP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(R_.get(e))return R_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=V5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||F5.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return R_.set(e,o),o}j5(t=>({...t,get:(e,n,r)=>BP(e,n)||t.get(e,n,r),has:(e,n)=>!!BP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const J1="@firebase/app",qP="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new ex("@firebase/app"),q5="@firebase/app-compat",z5="@firebase/analytics-compat",W5="@firebase/analytics",H5="@firebase/app-check-compat",K5="@firebase/app-check",G5="@firebase/auth",Y5="@firebase/auth-compat",X5="@firebase/database",Q5="@firebase/data-connect",J5="@firebase/database-compat",Z5="@firebase/functions",e9="@firebase/functions-compat",t9="@firebase/installations",n9="@firebase/installations-compat",r9="@firebase/messaging",i9="@firebase/messaging-compat",o9="@firebase/performance",a9="@firebase/performance-compat",s9="@firebase/remote-config",u9="@firebase/remote-config-compat",l9="@firebase/storage",c9="@firebase/storage-compat",f9="@firebase/firestore",d9="@firebase/vertexai",h9="@firebase/firestore-compat",p9="firebase",m9="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="[DEFAULT]",g9={[J1]:"fire-core",[q5]:"fire-core-compat",[W5]:"fire-analytics",[z5]:"fire-analytics-compat",[K5]:"fire-app-check",[H5]:"fire-app-check-compat",[G5]:"fire-auth",[Y5]:"fire-auth-compat",[X5]:"fire-rtdb",[Q5]:"fire-data-connect",[J5]:"fire-rtdb-compat",[Z5]:"fire-fn",[e9]:"fire-fn-compat",[t9]:"fire-iid",[n9]:"fire-iid-compat",[r9]:"fire-fcm",[i9]:"fire-fcm-compat",[o9]:"fire-perf",[a9]:"fire-perf-compat",[s9]:"fire-rc",[u9]:"fire-rc-compat",[l9]:"fire-gcs",[c9]:"fire-gcs-compat",[f9]:"fire-fst",[h9]:"fire-fst-compat",[d9]:"fire-vertex","fire-js":"fire-js",[p9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,y9=new Map,eE=new Map;function zP(t,e){try{t.container.addComponent(e)}catch(n){zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ii(t){const e=t.name;if(eE.has(e))return zo.debug(`There were multiple attempts to register component ${e}.`),!1;eE.set(e,t);for(const n of Qf.values())zP(n,t);for(const n of y9.values())zP(n,t);return!0}function ns(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ki(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new pu("app","Firebase",v9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=m9;function $g(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Z1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ua.create("bad-app-name",{appName:String(i)});if(n||(n=qj()),!n)throw Ua.create("no-options");const o=Qf.get(i);if(o){if(_m(n,o.options)&&_m(r,o.config))return o;throw Ua.create("duplicate-app",{appName:i})}const a=new A5(i);for(const c of eE.values())a.addComponent(c);const l=new _9(n,r,a);return Qf.set(i,l),l}function Jd(t=Z1){const e=Qf.get(t);if(!e&&t===Z1&&qj())return $g();if(!e)throw Ua.create("no-app",{appName:t});return e}function WP(){return Array.from(Qf.values())}function Wn(t,e,n){var r;let i=(r=g9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zo.warn(l.join(" "));return}ii(new jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="firebase-heartbeat-database",b9=1,Jf="firebase-heartbeat-store";let N_=null;function Xj(){return N_||(N_=Lg(w9,b9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ua.create("idb-open",{originalErrorMessage:t.message})})),N_}async function E9(t){try{const n=(await Xj()).transaction(Jf),r=await n.objectStore(Jf).get(Qj(t));return await n.done,r}catch(e){if(e instanceof ui)zo.warn(e.message);else{const n=Ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zo.warn(n.message)}}}async function HP(t,e){try{const r=(await Xj()).transaction(Jf,"readwrite");await r.objectStore(Jf).put(e,Qj(t)),await r.done}catch(n){if(n instanceof ui)zo.warn(n.message);else{const r=Ua.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zo.warn(r.message)}}}function Qj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=1024,x9=30*24*60*60*1e3;class T9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=x9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=KP(),{heartbeatsToSend:r,unsentEntries:i}=A9(this._heartbeatsCache.heartbeats),o=vm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zo.warn(n),""}}}function KP(){return new Date().toISOString().substring(0,10)}function A9(t,e=S9){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),GP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hj()?Kj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function GP(t){return vm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){ii(new jr("platform-logger",e=>new U5(e),"PRIVATE")),ii(new jr("heartbeat",e=>new T9(e),"PRIVATE")),Wn(J1,qP,t),Wn(J1,qP,"esm2017"),Wn("fire-js","")}P9("");function nx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C9=Jj,Zj=new pu("auth","Firebase",Jj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new ex("@firebase/auth");function O9(t,...e){wm.logLevel<=Xe.WARN&&wm.warn(`Auth (${mu}): ${t}`,...e)}function sm(t,...e){wm.logLevel<=Xe.ERROR&&wm.error(`Auth (${mu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,...e){throw ix(t,...e)}function Mi(t,...e){return ix(t,...e)}function rx(t,e,n){const r=Object.assign(Object.assign({},C9()),{[e]:n});return new pu("auth","Firebase",r).create(e,{appName:t.name})}function Lo(t){return rx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&oi(t,"argument-error"),rx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ix(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zj.create(t,...e)}function Ue(t,e,...n){if(!t)throw ix(e,...n)}function Oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sm(e),new Error(e)}function Wo(t,e){t||Oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function R9(){return YP()==="http:"||YP()==="https:"}function YP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R9()||f5()||"connection"in navigator)?navigator.onLine:!0}function M9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wo(n>e,"Short delay should be less than long delay!"),this.isMobile=u5()||d5()}get(){return N9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e){Wo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new Zd(3e4,6e4);function Zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ea(t,e,n,r,i={}){return tL(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=Qd(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return c5()||(f.referrerPolicy="no-referrer"),eL.fetch()(nL(t,t.config.apiHost,n,l),f)})}async function tL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D9),e);try{const i=new $9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Lp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Lp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Lp(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw rx(t,h,f);oi(t,h)}}catch(i){if(i instanceof ui)throw i;oi(t,"network-request-failed",{message:String(i)})}}async function eh(t,e,n,r,i={}){const o=await ea(t,e,n,r,i);return"mfaPendingCredential"in o&&oi(t,"multi-factor-auth-required",{_serverResponse:o}),o}function nL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ox(t.config,i):`${t.config.apiScheme}://${i}`}function L9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),j9.get())})}}function Lp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mi(t,e,r);return i.customData._tokenResponse=n,i}function XP(t){return t!==void 0&&t.enterprise!==void 0}class F9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V9(t,e){return ea(t,"GET","/v2/recaptchaConfig",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e){return ea(t,"POST","/v1/accounts:delete",e)}async function rL(t,e){return ea(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B9(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=ax(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ff(M_(i.auth_time)),issuedAtTime:Ff(M_(i.iat)),expirationTime:Ff(M_(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function M_(t){return Number(t)*1e3}function ax(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Uj(n);return i?JSON.parse(i):(sm("Failed to decode base64 JWT payload"),null)}catch(i){return sm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QP(t){const e=ax(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&q9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zf(t,rL(n,{idToken:r}));Ue(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iL(o.providerUserInfo):[],l=H9(t.providerData,a),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new nE(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function W9(t){const e=lt(t);await bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iL(t){return t.map(e=>{var{providerId:n}=e,r=nx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e){const n=await tL(t,{},async()=>{const r=Qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=nL(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",eL.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G9(t,e){return ea(t,"POST","/v2/accounts:revokeToken",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=QP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await K9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new bl;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Ue(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return Oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ko{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=nx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zf(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B9(this,e)}reload(){return W9(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(Lo(this.auth));const e=await this.getIdToken();return await Zf(this,U9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,l,c,f,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:R,emailVerified:j,isAnonymous:O,providerData:D,stsTokenManager:P}=n;Ue(R&&P,e,"internal-error");const k=bl.fromJSON(this.name,P);Ue(typeof R=="string",e,"internal-error"),Oa(p,e.name),Oa(y,e.name),Ue(typeof j=="boolean",e,"internal-error"),Ue(typeof O=="boolean",e,"internal-error"),Oa(_,e.name),Oa(w,e.name),Oa(E,e.name),Oa(v,e.name),Oa(I,e.name),Oa(A,e.name);const M=new ko({uid:R,auth:e,email:y,emailVerified:j,displayName:p,isAnonymous:O,photoURL:w,phoneNumber:_,tenantId:E,stsTokenManager:k,createdAt:I,lastLoginAt:A});return D&&Array.isArray(D)&&(M.providerData=D.map(F=>Object.assign({},F))),v&&(M._redirectEventId=v),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new bl;i.updateFromServerResponse(n);const o=new ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?iL(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new bl;l.updateFromIdToken(r);const c=new ko({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Map;function Ro(t){Wo(t instanceof Function,"Expected a class definition");let e=JP.get(t);return e?(Wo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oL.type="NONE";const ZP=oL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e,n){return`firebase:${t}:${e}:${n}`}class El{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=um(this.userKey,i.apiKey,o),this.fullPersistenceKey=um("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ko._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new El(Ro(ZP),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ro(ZP);const a=um(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(a);if(h){const p=ko._fromJSON(e,h);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new El(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new El(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fL(e))return"Blackberry";if(dL(e))return"Webos";if(sL(e))return"Safari";if((e.includes("chrome/")||uL(e))&&!e.includes("edge/"))return"Chrome";if(cL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aL(t=Gn()){return/firefox\//i.test(t)}function sL(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uL(t=Gn()){return/crios\//i.test(t)}function lL(t=Gn()){return/iemobile/i.test(t)}function cL(t=Gn()){return/android/i.test(t)}function fL(t=Gn()){return/blackberry/i.test(t)}function dL(t=Gn()){return/webos/i.test(t)}function sx(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y9(t=Gn()){var e;return sx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X9(){return h5()&&document.documentMode===10}function hL(t=Gn()){return sx(t)||cL(t)||dL(t)||fL(t)||/windows phone/i.test(t)||lL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t,e=[]){let n;switch(t){case"Browser":n=eC(Gn());break;case"Worker":n=`${eC(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e={}){return ea(t,"GET","/v2/passwordPolicy",Zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=6;class ez{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Z9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tC(this),this.idTokenSubscription=new tC(this),this.beforeStateQueue=new Q9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ro(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await El.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rL(this,{idToken:e}),r=await ko._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ki(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ki(this.app))return Promise.reject(Lo(this));const n=e?lt(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(Lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ki(this.app)?Promise.reject(Lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ro(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J9(this),n=new ez(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ro(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[Ro(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(t){return lt(t)}class tC{constructor(e){this.auth=e,this.observer=null,this.addObserver=w5(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nz(t){Fg=t}function mL(t){return Fg.loadJS(t)}function rz(){return Fg.recaptchaEnterpriseScript}function iz(){return Fg.gapiScript}function oz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class az{constructor(){this.enterprise=new sz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uz="recaptcha-enterprise",gL="NO_RECAPTCHA";class lz{constructor(e){this.type=uz,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{V9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new F9(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,a,l){const c=window.grecaptcha;XP(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(gL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new az().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(l=>{if(!n&&XP(window.grecaptcha))i(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=rz();c.length!==0&&(c+=l),mL(c).then(()=>{i(l,o,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})}}async function nC(t,e,n,r=!1,i=!1){const o=new lz(t);let a;if(i)a=gL;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function rE(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await nC(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await nC(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t,e){const n=ns(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(_m(o,e??{}))return i;oi(i,"already-initialized")}return n.initialize({options:e})}function fz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ro);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dz(t,e,n){const r=rs(t);Ue(r._canInitEmulator,r,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=yL(e),{host:a,port:l}=hz(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),pz()}function yL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hz(t){const e=yL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:rC(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:rC(a)}}}function rC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oo("not implemented")}_getIdTokenResponse(e){return Oo("not implemented")}_linkToIdToken(e,n){return Oo("not implemented")}_getReauthenticationResolver(e){return Oo("not implemented")}}async function mz(t,e){return ea(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e){return eh(t,"POST","/v1/accounts:signInWithPassword",Zo(t,e))}async function yz(t,e){return ea(t,"POST","/v1/accounts:sendOobCode",Zo(t,e))}async function vz(t,e){return yz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}async function wz(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends ux{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ed(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ed(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,n,"signInWithPassword",gz);case"emailLink":return _z(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,r,"signUpPassword",mz);case"emailLink":return wz(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return eh(t,"POST","/v1/accounts:signInWithIdp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="http://localhost";class iu extends ux{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=nx(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new iu(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:bz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sz(t){const e=Of(kf(t)).link,n=e?Of(kf(e)).deep_link_id:null,r=Of(kf(t)).deep_link_id;return(r?Of(kf(r)).link:null)||r||n||e||t}class lx{constructor(e){var n,r,i,o,a,l;const c=Of(kf(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=Ez((i=c.mode)!==null&&i!==void 0?i:null);Ue(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Sz(e);try{return new lx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,n){return ed._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lx.parseLink(n);return Ue(r,"argument-error"),ed._fromEmailAndCode(e,r.code,r.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends cx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends th{constructor(){super("facebook.com")}static credential(e){return iu._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return iu._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Co.credential(n,r)}catch{return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com";Co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends th{constructor(){super("github.com")}static credential(e){return iu._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch{return null}}}Da.GITHUB_SIGN_IN_METHOD="github.com";Da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends th{constructor(){super("twitter.com")}static credential(e,n){return iu._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e){return eh(t,"POST","/v1/accounts:signUp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ko._fromIdTokenResponse(e,r,i),a=iC(r);return new ou({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iC(r);return new ou({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends ui{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Em.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Em(e,n,r,i)}}function vL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Em._fromErrorAndOperation(t,o,e,r):o})}async function Tz(t,e,n=!1){const r=await Zf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ou._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e,n=!1){const{auth:r}=t;if(ki(r.app))return Promise.reject(Lo(r));const i="reauthenticate";try{const o=await Zf(t,vL(r,i,e,t),n);Ue(o.idToken,r,"internal-error");const a=ax(o.idToken);Ue(a,r,"internal-error");const{sub:l}=a;return Ue(t.uid===l,r,"user-mismatch"),ou._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&oi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e,n=!1){if(ki(t.app))return Promise.reject(Lo(t));const r="signIn",i=await vL(t,r,e),o=await ou._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Iz(t,e){return _L(rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t){const e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bL(t,e,n){if(ki(t.app))return Promise.reject(Lo(t));const r=rs(t),a=await rE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xz).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wL(t),c}),l=await ou._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function $p(t,e,n){return ki(t.app)?Promise.reject(Lo(t)):Iz(lt(t),lc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wL(t),r})}async function EL(t,e){const n=lt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await vz(n.auth,i);o!==t.email&&await t.reload()}function Pz(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function Cz(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function td(t){return lt(t).signOut()}const Sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sm,"1"),this.storage.removeItem(Sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=1e3,kz=10;class xL extends SL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);X9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Oz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xL.type="LOCAL";const Rz=xL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL extends SL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TL.type="SESSION";const AL=TL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,o)),c=await Nz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const f=fx("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return window}function Dz(t){no().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(){return typeof no().WorkerGlobalScope<"u"&&typeof no().importScripts=="function"}async function jz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $z(){return IL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="firebaseLocalStorageDb",Fz=1,xm="firebaseLocalStorage",CL="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ug(t,e){return t.transaction([xm],e?"readwrite":"readonly").objectStore(xm)}function Vz(){const t=indexedDB.deleteDatabase(PL);return new nh(t).toPromise()}function iE(){const t=indexedDB.open(PL,Fz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xm,{keyPath:CL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xm)?e(r):(r.close(),await Vz(),e(await iE()))})})}async function oC(t,e,n){const r=Ug(t,!0).put({[CL]:e,value:n});return new nh(r).toPromise()}async function Uz(t,e){const n=Ug(t,!1).get(e),r=await new nh(n).toPromise();return r===void 0?null:r.value}function aC(t,e){const n=Ug(t,!0).delete(e);return new nh(n).toPromise()}const Bz=800,qz=3;class OL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vg._getInstance($z()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jz(),!this.activeServiceWorker)return;this.sender=new Mz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iE();return await oC(e,Sm,"1"),await aC(e,Sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Uz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ug(i,!1).getAll();return new nh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OL.type="LOCAL";const zz=OL;new Zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e){return e?Ro(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends ux{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Wz(t){return _L(t.auth,new dx(t),t.bypassAuthState)}function Hz(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Az(n,new dx(t),t.bypassAuthState)}async function Kz(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Tz(n,new dx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wz;case"linkViaPopup":case"linkViaRedirect":return Kz;case"reauthViaPopup":case"reauthViaRedirect":return Hz;default:oi(this.auth,"internal-error")}}resolve(e){Wo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=new Zd(2e3,1e4);async function Yz(t,e,n){if(ki(t.app))return Promise.reject(Mi(t,"operation-not-supported-in-this-environment"));const r=rs(t);k9(t,e,cx);const i=kL(r,n);return new Hs(r,"signInViaPopup",e,i).executeNotNull()}class Hs extends RL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Wo(this.filter.length===1,"Popup operations only handle one event");const e=fx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gz.get())};e()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz="pendingRedirect",lm=new Map;class Qz extends RL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lm.get(this.auth._key());if(!e){try{const r=await Jz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lm.set(this.auth._key(),e)}return this.bypassAuthState||lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jz(t,e){const n=t8(e),r=e8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Zz(t,e){lm.set(t._key(),e)}function e8(t){return Ro(t._redirectPersistence)}function t8(t){return um(Xz,t.config.apiKey,t.name)}async function n8(t,e,n=!1){if(ki(t.app))return Promise.reject(Lo(t));const r=rs(t),i=kL(r,e),a=await new Qz(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=10*60*1e3;class i8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r8&&this.cachedEventUids.clear(),this.cachedEventUids.has(sC(e))}saveEventToCache(e){this.cachedEventUids.add(sC(e)),this.lastProcessedEventTime=Date.now()}}function sC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t,e={}){return ea(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u8=/^https?/;async function l8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a8(t);for(const n of e)try{if(c8(n))return}catch{}oi(t,"unauthorized-domain")}function c8(t){const e=tE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!u8.test(n))return!1;if(s8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new Zd(3e4,6e4);function uC(){const t=no().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d8(t){return new Promise((e,n)=>{var r,i,o;function a(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),n(Mi(t,"network-request-failed"))},timeout:f8.get()})}if(!((i=(r=no().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=no().gapi)===null||o===void 0)&&o.load)a();else{const l=oz("iframefcb");return no()[l]=()=>{gapi.load?a():n(Mi(t,"network-request-failed"))},mL(`${iz()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw cm=null,e})}let cm=null;function h8(t){return cm=cm||d8(t),cm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new Zd(5e3,15e3),m8="__/auth/iframe",g8="emulator/auth/iframe",y8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _8(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ox(e,g8):`https://${t.config.authDomain}/${m8}`,r={apiKey:e.apiKey,appName:t.name,v:mu},i=v8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qd(r).slice(1)}`}async function w8(t){const e=await h8(t),n=no().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:_8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Mi(t,"network-request-failed"),l=no().setTimeout(()=>{o(a)},p8.get());function c(){no().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E8=500,S8=600,x8="_blank",T8="http://localhost";class lC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A8(t,e,n,r=E8,i=S8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},b8),{width:r.toString(),height:i.toString(),top:o,left:a}),f=Gn().toLowerCase();n&&(l=uL(f)?x8:n),aL(f)&&(e=e||T8,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[_,w])=>`${y}${_}=${w},`,"");if(Y9(f)&&l!=="_self")return I8(e||"",l),new lC(null);const p=window.open(e||"",l,h);Ue(p,t,"popup-blocked");try{p.focus()}catch{}return new lC(p)}function I8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="__/auth/handler",C8="emulator/auth/handler",O8=encodeURIComponent("fac");async function cC(t,e,n,r,i,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mu,eventId:i};if(e instanceof cx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof th){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${O8}=${encodeURIComponent(c)}`:"";return`${k8(t)}?${Qd(l).slice(1)}${f}`}function k8({config:t}){return t.emulator?ox(t,C8):`https://${t.authDomain}/${P8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="webStorageSupport";class R8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AL,this._completeRedirectFn=n8,this._overrideRedirectResult=Zz}async _openPopup(e,n,r,i){var o;Wo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await cC(e,n,r,tE(),i);return A8(e,a,fx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await cC(e,n,r,tE(),i);return Dz(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Wo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w8(e),r=new i8(e);return n.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(D_,{type:D_},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[D_];a!==void 0&&n(!!a),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hL()||sL()||sx()}}const N8=R8;var fC="@firebase/auth",dC="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j8(t){ii(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ue(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pL(t)},f=new tz(r,i,o,c);return fz(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ii(new jr("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new M8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(fC,dC,D8(t)),Wn(fC,dC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=5*60,$8=zj("authIdTokenMaxAge")||L8;let hC=null;const F8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$8)return;const i=n==null?void 0:n.token;hC!==i&&(hC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Fi(t=Jd()){const e=ns(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cz(t,{popupRedirectResolver:N8,persistence:[zz,Rz,AL]}),r=zj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=F8(o.toString());Cz(n,a,()=>a(n.currentUser)),Pz(n,l=>a(l))}}const i=Bj("auth");return i&&dz(n,`http://${i}`),n}function V8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Mi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",V8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j8("Browser");var pC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,ML;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,k){function M(){}M.prototype=k.prototype,P.D=k.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(F,L,V){for(var C=Array(arguments.length-2),W=2;W<arguments.length;W++)C[W-2]=arguments[W];return k.prototype[L].apply(F,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,k,M){M||(M=0);var F=Array(16);if(typeof k=="string")for(var L=0;16>L;++L)F[L]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(L=0;16>L;++L)F[L]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=P.g[0],M=P.g[1],L=P.g[2];var V=P.g[3],C=k+(V^M&(L^V))+F[0]+3614090360&4294967295;k=M+(C<<7&4294967295|C>>>25),C=V+(L^k&(M^L))+F[1]+3905402710&4294967295,V=k+(C<<12&4294967295|C>>>20),C=L+(M^V&(k^M))+F[2]+606105819&4294967295,L=V+(C<<17&4294967295|C>>>15),C=M+(k^L&(V^k))+F[3]+3250441966&4294967295,M=L+(C<<22&4294967295|C>>>10),C=k+(V^M&(L^V))+F[4]+4118548399&4294967295,k=M+(C<<7&4294967295|C>>>25),C=V+(L^k&(M^L))+F[5]+1200080426&4294967295,V=k+(C<<12&4294967295|C>>>20),C=L+(M^V&(k^M))+F[6]+2821735955&4294967295,L=V+(C<<17&4294967295|C>>>15),C=M+(k^L&(V^k))+F[7]+4249261313&4294967295,M=L+(C<<22&4294967295|C>>>10),C=k+(V^M&(L^V))+F[8]+1770035416&4294967295,k=M+(C<<7&4294967295|C>>>25),C=V+(L^k&(M^L))+F[9]+2336552879&4294967295,V=k+(C<<12&4294967295|C>>>20),C=L+(M^V&(k^M))+F[10]+4294925233&4294967295,L=V+(C<<17&4294967295|C>>>15),C=M+(k^L&(V^k))+F[11]+2304563134&4294967295,M=L+(C<<22&4294967295|C>>>10),C=k+(V^M&(L^V))+F[12]+1804603682&4294967295,k=M+(C<<7&4294967295|C>>>25),C=V+(L^k&(M^L))+F[13]+4254626195&4294967295,V=k+(C<<12&4294967295|C>>>20),C=L+(M^V&(k^M))+F[14]+2792965006&4294967295,L=V+(C<<17&4294967295|C>>>15),C=M+(k^L&(V^k))+F[15]+1236535329&4294967295,M=L+(C<<22&4294967295|C>>>10),C=k+(L^V&(M^L))+F[1]+4129170786&4294967295,k=M+(C<<5&4294967295|C>>>27),C=V+(M^L&(k^M))+F[6]+3225465664&4294967295,V=k+(C<<9&4294967295|C>>>23),C=L+(k^M&(V^k))+F[11]+643717713&4294967295,L=V+(C<<14&4294967295|C>>>18),C=M+(V^k&(L^V))+F[0]+3921069994&4294967295,M=L+(C<<20&4294967295|C>>>12),C=k+(L^V&(M^L))+F[5]+3593408605&4294967295,k=M+(C<<5&4294967295|C>>>27),C=V+(M^L&(k^M))+F[10]+38016083&4294967295,V=k+(C<<9&4294967295|C>>>23),C=L+(k^M&(V^k))+F[15]+3634488961&4294967295,L=V+(C<<14&4294967295|C>>>18),C=M+(V^k&(L^V))+F[4]+3889429448&4294967295,M=L+(C<<20&4294967295|C>>>12),C=k+(L^V&(M^L))+F[9]+568446438&4294967295,k=M+(C<<5&4294967295|C>>>27),C=V+(M^L&(k^M))+F[14]+3275163606&4294967295,V=k+(C<<9&4294967295|C>>>23),C=L+(k^M&(V^k))+F[3]+4107603335&4294967295,L=V+(C<<14&4294967295|C>>>18),C=M+(V^k&(L^V))+F[8]+1163531501&4294967295,M=L+(C<<20&4294967295|C>>>12),C=k+(L^V&(M^L))+F[13]+2850285829&4294967295,k=M+(C<<5&4294967295|C>>>27),C=V+(M^L&(k^M))+F[2]+4243563512&4294967295,V=k+(C<<9&4294967295|C>>>23),C=L+(k^M&(V^k))+F[7]+1735328473&4294967295,L=V+(C<<14&4294967295|C>>>18),C=M+(V^k&(L^V))+F[12]+2368359562&4294967295,M=L+(C<<20&4294967295|C>>>12),C=k+(M^L^V)+F[5]+4294588738&4294967295,k=M+(C<<4&4294967295|C>>>28),C=V+(k^M^L)+F[8]+2272392833&4294967295,V=k+(C<<11&4294967295|C>>>21),C=L+(V^k^M)+F[11]+1839030562&4294967295,L=V+(C<<16&4294967295|C>>>16),C=M+(L^V^k)+F[14]+4259657740&4294967295,M=L+(C<<23&4294967295|C>>>9),C=k+(M^L^V)+F[1]+2763975236&4294967295,k=M+(C<<4&4294967295|C>>>28),C=V+(k^M^L)+F[4]+1272893353&4294967295,V=k+(C<<11&4294967295|C>>>21),C=L+(V^k^M)+F[7]+4139469664&4294967295,L=V+(C<<16&4294967295|C>>>16),C=M+(L^V^k)+F[10]+3200236656&4294967295,M=L+(C<<23&4294967295|C>>>9),C=k+(M^L^V)+F[13]+681279174&4294967295,k=M+(C<<4&4294967295|C>>>28),C=V+(k^M^L)+F[0]+3936430074&4294967295,V=k+(C<<11&4294967295|C>>>21),C=L+(V^k^M)+F[3]+3572445317&4294967295,L=V+(C<<16&4294967295|C>>>16),C=M+(L^V^k)+F[6]+76029189&4294967295,M=L+(C<<23&4294967295|C>>>9),C=k+(M^L^V)+F[9]+3654602809&4294967295,k=M+(C<<4&4294967295|C>>>28),C=V+(k^M^L)+F[12]+3873151461&4294967295,V=k+(C<<11&4294967295|C>>>21),C=L+(V^k^M)+F[15]+530742520&4294967295,L=V+(C<<16&4294967295|C>>>16),C=M+(L^V^k)+F[2]+3299628645&4294967295,M=L+(C<<23&4294967295|C>>>9),C=k+(L^(M|~V))+F[0]+4096336452&4294967295,k=M+(C<<6&4294967295|C>>>26),C=V+(M^(k|~L))+F[7]+1126891415&4294967295,V=k+(C<<10&4294967295|C>>>22),C=L+(k^(V|~M))+F[14]+2878612391&4294967295,L=V+(C<<15&4294967295|C>>>17),C=M+(V^(L|~k))+F[5]+4237533241&4294967295,M=L+(C<<21&4294967295|C>>>11),C=k+(L^(M|~V))+F[12]+1700485571&4294967295,k=M+(C<<6&4294967295|C>>>26),C=V+(M^(k|~L))+F[3]+2399980690&4294967295,V=k+(C<<10&4294967295|C>>>22),C=L+(k^(V|~M))+F[10]+4293915773&4294967295,L=V+(C<<15&4294967295|C>>>17),C=M+(V^(L|~k))+F[1]+2240044497&4294967295,M=L+(C<<21&4294967295|C>>>11),C=k+(L^(M|~V))+F[8]+1873313359&4294967295,k=M+(C<<6&4294967295|C>>>26),C=V+(M^(k|~L))+F[15]+4264355552&4294967295,V=k+(C<<10&4294967295|C>>>22),C=L+(k^(V|~M))+F[6]+2734768916&4294967295,L=V+(C<<15&4294967295|C>>>17),C=M+(V^(L|~k))+F[13]+1309151649&4294967295,M=L+(C<<21&4294967295|C>>>11),C=k+(L^(M|~V))+F[4]+4149444226&4294967295,k=M+(C<<6&4294967295|C>>>26),C=V+(M^(k|~L))+F[11]+3174756917&4294967295,V=k+(C<<10&4294967295|C>>>22),C=L+(k^(V|~M))+F[2]+718787259&4294967295,L=V+(C<<15&4294967295|C>>>17),C=M+(V^(L|~k))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+k&4294967295,P.g[1]=P.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+V&4294967295}r.prototype.u=function(P,k){k===void 0&&(k=P.length);for(var M=k-this.blockSize,F=this.B,L=this.h,V=0;V<k;){if(L==0)for(;V<=M;)i(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<k;)if(F[L++]=P.charCodeAt(V++),L==this.blockSize){i(this,F),L=0;break}}else for(;V<k;)if(F[L++]=P[V++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=k},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var k=1;k<P.length-8;++k)P[k]=0;var M=8*this.o;for(k=P.length-8;k<P.length;++k)P[k]=M&255,M/=256;for(this.u(P),P=Array(16),k=M=0;4>k;++k)for(var F=0;32>F;F+=8)P[M++]=this.g[k]>>>F&255;return P};function o(P,k){var M=l;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=k(P)}function a(P,k){this.h=k;for(var M=[],F=!0,L=P.length-1;0<=L;L--){var V=P[L]|0;F&&V==k||(M[L]=V,F=!1)}this.g=M}var l={};function c(P){return-128<=P&&128>P?o(P,function(k){return new a([k|0],0>k?-1:0)}):new a([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return v(f(-P));for(var k=[],M=1,F=0;P>=M;F++)k[F]=P/M|0,M*=4294967296;return new a(k,0)}function h(P,k){if(P.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P.charAt(0)=="-")return v(h(P.substring(1),k));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(k,8)),F=p,L=0;L<P.length;L+=8){var V=Math.min(8,P.length-L),C=parseInt(P.substring(L,L+V),k);8>V?(V=f(Math.pow(k,V)),F=F.j(V).add(f(C))):(F=F.j(M),F=F.add(f(C)))}return F}var p=c(0),y=c(1),_=c(16777216);t=a.prototype,t.m=function(){if(E(this))return-v(this).m();for(var P=0,k=1,M=0;M<this.g.length;M++){var F=this.i(M);P+=(0<=F?F:4294967296+F)*k,k*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(E(this))return"-"+v(this).toString(P);for(var k=f(Math.pow(P,6)),M=this,F="";;){var L=j(M,k).g;M=I(M,L.j(k));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=L,w(M))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var k=0;k<P.g.length;k++)if(P.g[k]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=I(this,P),E(P)?-1:w(P)?0:1};function v(P){for(var k=P.g.length,M=[],F=0;F<k;F++)M[F]=~P.g[F];return new a(M,~P.h).add(y)}t.abs=function(){return E(this)?v(this):this},t.add=function(P){for(var k=Math.max(this.g.length,P.g.length),M=[],F=0,L=0;L<=k;L++){var V=F+(this.i(L)&65535)+(P.i(L)&65535),C=(V>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);F=C>>>16,V&=65535,C&=65535,M[L]=C<<16|V}return new a(M,M[M.length-1]&-2147483648?-1:0)};function I(P,k){return P.add(v(k))}t.j=function(P){if(w(this)||w(P))return p;if(E(this))return E(P)?v(this).j(v(P)):v(v(this).j(P));if(E(P))return v(this.j(v(P)));if(0>this.l(_)&&0>P.l(_))return f(this.m()*P.m());for(var k=this.g.length+P.g.length,M=[],F=0;F<2*k;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<P.g.length;L++){var V=this.i(F)>>>16,C=this.i(F)&65535,W=P.i(L)>>>16,K=P.i(L)&65535;M[2*F+2*L]+=C*K,A(M,2*F+2*L),M[2*F+2*L+1]+=V*K,A(M,2*F+2*L+1),M[2*F+2*L+1]+=C*W,A(M,2*F+2*L+1),M[2*F+2*L+2]+=V*W,A(M,2*F+2*L+2)}for(F=0;F<k;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=k;F<2*k;F++)M[F]=0;return new a(M,0)};function A(P,k){for(;(P[k]&65535)!=P[k];)P[k+1]+=P[k]>>>16,P[k]&=65535,k++}function R(P,k){this.g=P,this.h=k}function j(P,k){if(w(k))throw Error("division by zero");if(w(P))return new R(p,p);if(E(P))return k=j(v(P),k),new R(v(k.g),v(k.h));if(E(k))return k=j(P,v(k)),new R(v(k.g),k.h);if(30<P.g.length){if(E(P)||E(k))throw Error("slowDivide_ only works with positive integers.");for(var M=y,F=k;0>=F.l(P);)M=O(M),F=O(F);var L=D(M,1),V=D(F,1);for(F=D(F,2),M=D(M,2);!w(F);){var C=V.add(F);0>=C.l(P)&&(L=L.add(M),V=C),F=D(F,1),M=D(M,1)}return k=I(P,L.j(k)),new R(L,k)}for(L=p;0<=P.l(k);){for(M=Math.max(1,Math.floor(P.m()/k.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(M),C=V.j(k);E(C)||0<C.l(P);)M-=F,V=f(M),C=V.j(k);w(V)&&(V=y),L=L.add(V),P=I(P,C)}return new R(L,P)}t.A=function(P){return j(this,P).h},t.and=function(P){for(var k=Math.max(this.g.length,P.g.length),M=[],F=0;F<k;F++)M[F]=this.i(F)&P.i(F);return new a(M,this.h&P.h)},t.or=function(P){for(var k=Math.max(this.g.length,P.g.length),M=[],F=0;F<k;F++)M[F]=this.i(F)|P.i(F);return new a(M,this.h|P.h)},t.xor=function(P){for(var k=Math.max(this.g.length,P.g.length),M=[],F=0;F<k;F++)M[F]=this.i(F)^P.i(F);return new a(M,this.h^P.h)};function O(P){for(var k=P.g.length+1,M=[],F=0;F<k;F++)M[F]=P.i(F)<<1|P.i(F-1)>>>31;return new a(M,P.h)}function D(P,k){var M=k>>5;k%=32;for(var F=P.g.length-M,L=[],V=0;V<F;V++)L[V]=0<k?P.i(V+M)>>>k|P.i(V+M+1)<<32-k:P.i(V+M);return new a(L,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ML=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Zs=a}).apply(typeof pC<"u"?pC:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DL,Rf,jL,fm,oE,LL,$L,FL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,N){return m==Array.prototype||m==Object.prototype||(m[x]=N.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var x=0;x<m.length;++x){var N=m[x];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(m,x){if(x)e:{var N=r;m=m.split(".");for(var B=0;B<m.length-1;B++){var te=m[B];if(!(te in N))break e;N=N[te]}m=m[m.length-1],B=N[m],x=x(B),x!=B&&x!=null&&e(N,m,{configurable:!0,writable:!0,value:x})}}function o(m,x){m instanceof String&&(m+="");var N=0,B=!1,te={next:function(){if(!B&&N<m.length){var se=N++;return{value:x(se,m[se]),done:!1}}return B=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}i("Array.prototype.values",function(m){return m||function(){return o(this,function(x,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function f(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function h(m,x,N){return m.call.apply(m.bind,arguments)}function p(m,x,N){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,B),m.apply(x,te)}}return function(){return m.apply(x,arguments)}}function y(m,x,N){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function _(m,x){var N=Array.prototype.slice.call(arguments,1);return function(){var B=N.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function w(m,x){function N(){}N.prototype=x.prototype,m.aa=x.prototype,m.prototype=new N,m.prototype.constructor=m,m.Qb=function(B,te,se){for(var we=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)we[gt-2]=arguments[gt];return x.prototype[te].apply(B,we)}}function E(m){const x=m.length;if(0<x){const N=Array(x);for(let B=0;B<x;B++)N[B]=m[B];return N}return[]}function v(m,x){for(let N=1;N<arguments.length;N++){const B=arguments[N];if(c(B)){const te=m.length||0,se=B.length||0;m.length=te+se;for(let we=0;we<se;we++)m[te+we]=B[we]}else m.push(B)}}class I{constructor(x,N){this.i=x,this.j=N,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function A(m){return/^[\s\xa0]*$/.test(m)}function R(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function j(m){return j[" "](m),m}j[" "]=function(){};var O=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function D(m,x,N){for(const B in m)x.call(N,m[B],B,m)}function P(m,x){for(const N in m)x.call(void 0,m[N],N,m)}function k(m){const x={};for(const N in m)x[N]=m[N];return x}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,x){let N,B;for(let te=1;te<arguments.length;te++){B=arguments[te];for(N in B)m[N]=B[N];for(let se=0;se<M.length;se++)N=M[se],Object.prototype.hasOwnProperty.call(B,N)&&(m[N]=B[N])}}function L(m){var x=1;m=m.split(":");const N=[];for(;0<x&&m.length;)N.push(m.shift()),x--;return m.length&&N.push(m.join(":")),N}function V(m){l.setTimeout(()=>{throw m},0)}function C(){var m=X;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class W{constructor(){this.h=this.g=null}add(x,N){const B=K.get();B.set(x,N),this.h?this.h.next=B:this.g=B,this.h=B}}var K=new I(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(x,N){this.h=x,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Q=!1,X=new W,J=()=>{const m=l.Promise.resolve(void 0);re=()=>{m.then(z)}};var z=()=>{for(var m;m=C();){try{m.h.call(m.g)}catch(N){V(N)}var x=K;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}Q=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};l.addEventListener("test",N,x),l.removeEventListener("test",N,x)}catch{}return m}();function xe(m,x){if(le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var N=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(O){e:{try{j(x.nodeName);var te=!0;break e}catch{}te=!1}te||(x=null)}}else N=="mouseover"?x=m.fromElement:N=="mouseout"&&(x=m.toElement);this.relatedTarget=x,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ne[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&xe.aa.h.call(this)}}w(xe,le);var Ne={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),ce=0;function oe(m,x,N,B,te){this.listener=m,this.proxy=null,this.src=x,this.type=N,this.capture=!!B,this.ha=te,this.key=++ce,this.da=this.fa=!1}function ye(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ie(m){this.src=m,this.g={},this.h=0}Ie.prototype.add=function(m,x,N,B,te){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var we=We(m,x,B,te);return-1<we?(x=m[we],N||(x.fa=!1)):(x=new oe(x,this.src,se,!!B,te),x.fa=N,m.push(x)),x};function he(m,x){var N=x.type;if(N in m.g){var B=m.g[N],te=Array.prototype.indexOf.call(B,x,void 0),se;(se=0<=te)&&Array.prototype.splice.call(B,te,1),se&&(ye(x),m.g[N].length==0&&(delete m.g[N],m.h--))}}function We(m,x,N,B){for(var te=0;te<m.length;++te){var se=m[te];if(!se.da&&se.listener==x&&se.capture==!!N&&se.ha==B)return te}return-1}var je="closure_lm_"+(1e6*Math.random()|0),mt={};function wt(m,x,N,B,te){if(Array.isArray(x)){for(var se=0;se<x.length;se++)wt(m,x[se],N,B,te);return null}return N=oa(N),m&&m[De]?m.K(x,N,f(B)?!!B.capture:!!B,te):Ut(m,x,N,!1,B,te)}function Ut(m,x,N,B,te,se){if(!x)throw Error("Invalid event type");var we=f(te)?!!te.capture:!!te,gt=Bi(m);if(gt||(m[je]=gt=new Ie(m)),N=gt.add(x,N,B,we,se),N.proxy)return N;if(B=wr(),N.proxy=B,B.src=m,B.listener=N,m.addEventListener)be||(te=we),te===void 0&&(te=!1),m.addEventListener(x.toString(),B,te);else if(m.attachEvent)m.attachEvent(Tn(x.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return N}function wr(){function m(N){return x.call(m.src,m.listener,N)}const x=Er;return m}function br(m,x,N,B,te){if(Array.isArray(x))for(var se=0;se<x.length;se++)br(m,x[se],N,B,te);else B=f(B)?!!B.capture:!!B,N=oa(N),m&&m[De]?(m=m.i,x=String(x).toString(),x in m.g&&(se=m.g[x],N=We(se,N,B,te),-1<N&&(ye(se[N]),Array.prototype.splice.call(se,N,1),se.length==0&&(delete m.g[x],m.h--)))):m&&(m=Bi(m))&&(x=m.g[x.toString()],m=-1,x&&(m=We(x,N,B,te)),(N=-1<m?x[m]:null)&&ir(N))}function ir(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[De])he(x.i,m);else{var N=m.type,B=m.proxy;x.removeEventListener?x.removeEventListener(N,B,m.capture):x.detachEvent?x.detachEvent(Tn(N),B):x.addListener&&x.removeListener&&x.removeListener(B),(N=Bi(x))?(he(N,m),N.h==0&&(N.src=null,x[je]=null)):ye(m)}}}function Tn(m){return m in mt?mt[m]:mt[m]="on"+m}function Er(m,x){if(m.da)m=!0;else{x=new xe(x,this);var N=m.listener,B=m.ha||m.src;m.fa&&ir(m),m=N.call(B,x)}return m}function Bi(m){return m=m[je],m instanceof Ie?m:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(m){return typeof m=="function"?m:(m[co]||(m[co]=function(x){return m.handleEvent(x)}),m[co])}function an(){Y.call(this),this.i=new Ie(this),this.M=this,this.F=null}w(an,Y),an.prototype[De]=!0,an.prototype.removeEventListener=function(m,x,N,B){br(this,m,x,N,B)};function sn(m,x){var N,B=m.F;if(B)for(N=[];B;B=B.F)N.push(B);if(m=m.M,B=x.type||x,typeof x=="string")x=new le(x,m);else if(x instanceof le)x.target=x.target||m;else{var te=x;x=new le(B,m),F(x,te)}if(te=!0,N)for(var se=N.length-1;0<=se;se--){var we=x.g=N[se];te=fo(we,B,!0,x)&&te}if(we=x.g=m,te=fo(we,B,!0,x)&&te,te=fo(we,B,!1,x)&&te,N)for(se=0;se<N.length;se++)we=x.g=N[se],te=fo(we,B,!1,x)&&te}an.prototype.N=function(){if(an.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var N=m.g[x],B=0;B<N.length;B++)ye(N[B]);delete m.g[x],m.h--}}this.F=null},an.prototype.K=function(m,x,N,B){return this.i.add(String(m),x,!1,N,B)},an.prototype.L=function(m,x,N,B){return this.i.add(String(m),x,!0,N,B)};function fo(m,x,N,B){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var te=!0,se=0;se<x.length;++se){var we=x[se];if(we&&!we.da&&we.capture==N){var gt=we.listener,un=we.ha||we.src;we.fa&&he(m.i,we),te=gt.call(un,B)!==!1&&te}}return te&&!B.defaultPrevented}function Ec(m,x,N){if(typeof m=="function")N&&(m=y(m,N));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:l.setTimeout(m,x||0)}function aa(m){m.g=Ec(()=>{m.g=null,m.i&&(m.i=!1,aa(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class ds extends Y{constructor(x,N){super(),this.m=x,this.l=N,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:aa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(m){Y.call(this),this.h=m,this.g={}}w(hs,Y);var Sc=[];function xc(m){D(m.g,function(x,N){this.g.hasOwnProperty(N)&&ir(x)},m),m.g={}}hs.prototype.N=function(){hs.aa.N.call(this),xc(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tc=l.JSON.stringify,Ac=l.JSON.parse,Ic=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function ps(){}ps.prototype.h=null;function bu(m){return m.h||(m.h=m.i())}function Eu(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){le.call(this,"d")}w(qi,le);function Su(){le.call(this,"c")}w(Su,le);var zi={},Pc=null;function ms(){return Pc=Pc||new an}zi.La="serverreachability";function Cc(m){le.call(this,zi.La,m)}w(Cc,le);function ho(m){const x=ms();sn(x,new Cc(x))}zi.STAT_EVENT="statevent";function Oc(m,x){le.call(this,zi.STAT_EVENT,m),this.stat=x}w(Oc,le);function Kt(m){const x=ms();sn(x,new Oc(x,m))}zi.Ma="timingevent";function xu(m,x){le.call(this,zi.Ma,m),this.size=x}w(xu,le);function ci(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},x)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function ys(m,x,N,B,te,se){m.info(function(){if(m.g)if(se)for(var we="",gt=se.split("&"),un=0;un<gt.length;un++){var nt=gt[un].split("=");if(1<nt.length){var gn=nt[0];nt=nt[1];var Qt=gn.split("_");we=2<=Qt.length&&Qt[1]=="type"?we+(gn+"="+nt+"&"):we+(gn+"=redacted&")}}else we=null;else we=se;return"XMLHTTP REQ ("+B+") [attempt "+te+"]: "+x+`
`+N+`
`+we})}function Tu(m,x,N,B,te,se,we){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+te+"]: "+x+`
`+N+`
`+se+" "+we})}function fi(m,x,N,B){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+Yy(m,N)+(B?" "+B:"")})}function kc(m,x){m.info(function(){return"TIMEOUT: "+x})}gs.prototype.info=function(){};function Yy(m,x){if(!m.g)return x;if(!x)return null;try{var N=JSON.parse(x);if(N){for(m=0;m<N.length;m++)if(Array.isArray(N[m])){var B=N[m];if(!(2>B.length)){var te=B[1];if(Array.isArray(te)&&!(1>te.length)){var se=te[0];if(se!="noop"&&se!="stop"&&se!="close")for(var we=1;we<te.length;we++)te[we]=""}}}}return Tc(N)}catch{return x}}var Au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_h={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function vs(){}w(vs,ps),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},di=new vs;function hi(m,x,N,B){this.j=m,this.i=x,this.l=N,this.R=B||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wh}function wh(){this.i=null,this.g="",this.h=!1}var Rc={},Iu={};function Pu(m,x,N){m.L=1,m.v=fa(xr(x)),m.m=N,m.P=!0,Nc(m,null)}function Nc(m,x){m.F=Date.now(),St(m),m.A=xr(m.v);var N=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),ha(N.i,"t",B),m.C=0,N=m.j.J,m.h=new wh,m.g=$h(m.j,N?x:null,!m.m),0<m.O&&(m.M=new ds(y(m.Y,m,m.g),m.O)),x=m.U,N=m.g,B=m.ca;var te="readystatechange";Array.isArray(te)||(te&&(Sc[0]=te.toString()),te=Sc);for(var se=0;se<te.length;se++){var we=wt(N,te[se],B||x.handleEvent,!1,x.h||x);if(!we)break;x.g[we.key]=we}x=m.H?k(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),ho(),ys(m.i,m.u,m.A,m.l,m.R,m.m)}hi.prototype.ca=function(m){m=m.target;const x=this.M;x&&ar(m)==3?x.j():this.Y(m)},hi.prototype.Y=function(m){try{if(m==this.g)e:{const Qt=ar(this.g);var x=this.g.Ba();const Br=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Fc(this.g)))){this.J||Qt!=4||x==7||(x==8||0>=Br?ho(3):ho(2)),_s(this);var N=this.g.Z();this.X=N;t:if(bh(this)){var B=Fc(this.g);m="";var te=B.length,se=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),sa(this);var we="";break t}this.h.i=new l.TextDecoder}for(x=0;x<te;x++)this.h.h=!0,m+=this.h.i.decode(B[x],{stream:!(se&&x==te-1)});B.length=0,this.h.g+=m,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=N==200,Tu(this.i,this.u,this.A,this.l,this.R,Qt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,un=this.g;if((gt=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(gt)){var nt=gt;break t}}nt=null}if(N=nt)fi(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mc(this,N);else{this.o=!1,this.s=3,Kt(12),Vr(this),sa(this);break e}}if(this.P){N=!0;let Ar;for(;!this.J&&this.C<we.length;)if(Ar=Xy(this,we),Ar==Iu){Qt==4&&(this.s=4,Kt(14),N=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==Rc){this.s=4,Kt(15),fi(this.i,this.l,we,"[Invalid Chunk]"),N=!1;break}else fi(this.i,this.l,Ar,null),Mc(this,Ar);if(bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||we.length!=0||this.h.h||(this.s=1,Kt(16),N=!1),this.o=this.o&&N,!N)fi(this.i,this.l,we,"[Invalid Chunked Response]"),Vr(this),sa(this);else if(0<we.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Uc(gn),gn.M=!0,Kt(11))}}else fi(this.i,this.l,we,null),Mc(this,we);Qt==4&&Vr(this),this.o&&!this.J&&(Qt==4?Fu(this.j,this):(this.o=!1,St(this)))}else Mu(this.g),N==400&&0<we.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Vr(this),sa(this)}}}catch{}finally{}};function bh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Xy(m,x){var N=m.C,B=x.indexOf(`
`,N);return B==-1?Iu:(N=Number(x.substring(N,B)),isNaN(N)?Rc:(B+=1,B+N>x.length?Iu:(x=x.slice(B,B+N),m.C=B+N,x)))}hi.prototype.cancel=function(){this.J=!0,Vr(this)};function St(m){m.S=Date.now()+m.I,Eh(m,m.I)}function Eh(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ci(y(m.ba,m),x)}function _s(m){m.B&&(l.clearTimeout(m.B),m.B=null)}hi.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(kc(this.i,this.A),this.L!=2&&(ho(),Kt(17)),Vr(this),this.s=2,sa(this)):Eh(this,this.S-m)};function sa(m){m.j.G==0||m.J||Fu(m.j,m)}function Vr(m){_s(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,xc(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function Mc(m,x){try{var N=m.j;if(N.G!=0&&(N.g==m||Yn(N.h,m))){if(!m.K&&Yn(N.h,m)&&N.G==3){try{var B=N.Da.g.parse(x)}catch{B=null}if(Array.isArray(B)&&B.length==3){var te=B;if(te[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<m.F)$u(N),vi(N);else break e;Lu(N),Kt(18)}}else N.za=te[1],0<N.za-N.T&&37500>te[2]&&N.F&&N.v==0&&!N.C&&(N.C=ci(y(N.Za,N),6e3));if(1>=xh(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else vo(N,11)}else if((m.K||N.g==m)&&$u(N),!A(x))for(te=N.Da.g.parse(x),x=0;x<te.length;x++){let nt=te[x];if(N.T=nt[0],nt=nt[1],N.G==2)if(nt[0]=="c"){N.K=nt[1],N.ia=nt[2];const gn=nt[3];gn!=null&&(N.la=gn,N.j.info("VER="+N.la));const Qt=nt[4];Qt!=null&&(N.Aa=Qt,N.j.info("SVER="+N.Aa));const Br=nt[5];Br!=null&&typeof Br=="number"&&0<Br&&(B=1.5*Br,N.L=B,N.j.info("backChannelRequestTimeoutMs_="+B)),B=N;const Ar=m.g;if(Ar){const As=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var se=B.h;se.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Dc(se,se.h),se.h=null))}if(B.D){const Uu=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Uu&&(B.ya=Uu,bt(B.I,B.D,Uu))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-m.F,N.j.info("Handshake RTT: "+N.R+"ms")),B=N;var we=m;if(B.qa=Lh(B,B.J?B.ia:null,B.W),we.K){Th(B.h,we);var gt=we,un=B.L;un&&(gt.I=un),gt.B&&(_s(gt),St(gt)),B.g=we}else Ts(B);0<N.i.length&&Gi(N)}else nt[0]!="stop"&&nt[0]!="close"||vo(N,7);else N.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?vo(N,7):In(N):nt[0]!="noop"&&N.l&&N.l.ta(nt),N.v=0)}}ho(4)}catch{}}var Sh=class{constructor(m,x){this.g=m,this.map=x}};function ws(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function xh(m){return m.h?1:m.g?m.g.size:0}function Yn(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function Dc(m,x){m.g?m.g.add(x):m.h=x}function Th(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}ws.prototype.cancel=function(){if(this.i=Ah(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ah(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const N of m.g.values())x=x.concat(N.D);return x}return E(m.i)}function Cu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var x=[],N=m.length,B=0;B<N;B++)x.push(m[B]);return x}x=[],N=0;for(B in m)x[N++]=m[B];return x}function Ou(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var x=[];m=m.length;for(var N=0;N<m;N++)x.push(N);return x}x=[],N=0;for(const B in m)x[N++]=B;return x}}}function ua(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var N=Ou(m),B=Cu(m),te=B.length,se=0;se<te;se++)x.call(void 0,B[se],N&&N[se],m)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qy(m,x){if(m){m=m.split("&");for(var N=0;N<m.length;N++){var B=m[N].indexOf("="),te=null;if(0<=B){var se=m[N].substring(0,B);te=m[N].substring(B+1)}else se=m[N];x(se,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function po(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof po){this.h=m.h,Es(this,m.j),this.o=m.o,this.g=m.g,la(this,m.s),this.l=m.l;var x=m.i,N=new Wi;N.i=x.i,x.g&&(N.g=new Map(x.g),N.h=x.h),ca(this,N),this.m=m.m}else m&&(x=String(m).match(bs))?(this.h=!1,Es(this,x[1]||"",!0),this.o=et(x[2]||""),this.g=et(x[3]||"",!0),la(this,x[4]),this.l=et(x[5]||"",!0),ca(this,x[6]||"",!0),this.m=et(x[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}po.prototype.toString=function(){var m=[],x=this.j;x&&m.push(da(x,ku,!0),":");var N=this.g;return(N||x=="file")&&(m.push("//"),(x=this.o)&&m.push(da(x,ku,!0),"@"),m.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&m.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(da(N,N.charAt(0)=="/"?Ch:Ph,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",da(N,jc)),m.join("")};function xr(m){return new po(m)}function Es(m,x,N){m.j=N?et(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function la(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function ca(m,x,N){x instanceof Wi?(m.i=x,Hi(m.i,m.h)):(N||(x=da(x,Oh)),m.i=new Wi(x,m.h))}function bt(m,x,N){m.i.set(x,N)}function fa(m){return bt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function et(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function da(m,x,N){return typeof m=="string"?(m=encodeURI(m).replace(x,Ih),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ih(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ku=/[#\/\?@]/g,Ph=/[#\?:]/g,Ch=/[#\?]/g,Oh=/[#\?@]/g,jc=/#/g;function Wi(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function An(m){m.g||(m.g=new Map,m.h=0,m.i&&Qy(m.i,function(x,N){m.add(decodeURIComponent(x.replace(/\+/g," ")),N)}))}t=Wi.prototype,t.add=function(m,x){An(this),this.i=null,m=Ur(this,m);var N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(x),this.h+=1,this};function pi(m,x){An(m),x=Ur(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function mi(m,x){return An(m),x=Ur(m,x),m.g.has(x)}t.forEach=function(m,x){An(this),this.g.forEach(function(N,B){N.forEach(function(te){m.call(x,te,B,this)},this)},this)},t.na=function(){An(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),N=[];for(let B=0;B<x.length;B++){const te=m[B];for(let se=0;se<te.length;se++)N.push(x[B])}return N},t.V=function(m){An(this);let x=[];if(typeof m=="string")mi(this,m)&&(x=x.concat(this.g.get(Ur(this,m))));else{m=Array.from(this.g.values());for(let N=0;N<m.length;N++)x=x.concat(m[N])}return x},t.set=function(m,x){return An(this),this.i=null,m=Ur(this,m),mi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},t.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function ha(m,x,N){pi(m,x),0<N.length&&(m.i=null,m.g.set(Ur(m,x),E(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var N=0;N<x.length;N++){var B=x[N];const se=encodeURIComponent(String(B)),we=this.V(B);for(B=0;B<we.length;B++){var te=se;we[B]!==""&&(te+="="+encodeURIComponent(String(we[B]))),m.push(te)}}return this.i=m.join("&")};function Ur(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Hi(m,x){x&&!m.j&&(An(m),m.i=null,m.g.forEach(function(N,B){var te=B.toLowerCase();B!=te&&(pi(this,B),ha(this,te,N))},m)),m.j=x}function Jy(m,x){const N=new gs;if(l.Image){const B=new Image;B.onload=_(or,N,"TestLoadImage: loaded",!0,x,B),B.onerror=_(or,N,"TestLoadImage: error",!1,x,B),B.onabort=_(or,N,"TestLoadImage: abort",!1,x,B),B.ontimeout=_(or,N,"TestLoadImage: timeout",!1,x,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else x(!1)}function kh(m,x){const N=new gs,B=new AbortController,te=setTimeout(()=>{B.abort(),or(N,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:B.signal}).then(se=>{clearTimeout(te),se.ok?or(N,"TestPingServer: ok",!0,x):or(N,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(te),or(N,"TestPingServer: error",!1,x)})}function or(m,x,N,B,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),B(N)}catch{}}function Zy(){this.g=new Ic}function Rh(m,x,N){const B=N||"";try{ua(m,function(te,se){let we=te;f(te)&&(we=Tc(te)),x.push(B+se+"="+encodeURIComponent(we))})}catch(te){throw x.push(B+"type="+encodeURIComponent("_badmap")),te}}function mo(m){this.l=m.Ub||null,this.j=m.eb||!1}w(mo,ps),mo.prototype.g=function(){return new Ss(this.l,this.j)},mo.prototype.i=function(m){return function(){return m}}({});function Ss(m,x){an.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ss,an),t=Ss.prototype,t.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,yi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||l).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?gi(this):yi(this),this.readyState==3&&Nh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,gi(this))},t.Qa=function(m){this.g&&(this.response=m,gi(this))},t.ga=function(){this.g&&gi(this)};function gi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,yi(m)}t.setRequestHeader=function(m,x){this.u.append(m,x)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var N=x.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=x.next();return m.join(`\r
`)};function yi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function go(m){let x="";return D(m,function(N,B){x+=B,x+=":",x+=N,x+=`\r
`}),x}function pa(m,x,N){e:{for(B in N){var B=!1;break e}B=!0}B||(N=go(N),typeof m=="string"?N!=null&&encodeURIComponent(String(N)):bt(m,x,N))}function Rt(m){an.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Rt,an);var ev=/^https?$/i,Lc=["POST","PUT"];t=Rt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,x,N,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?bu(this.o):bu(di),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(se){xs(this,se);return}if(m=N||"",N=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var te in B)N.set(te,B[te]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const se of B.keys())N.set(se,B.get(se));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(N.keys()).find(se=>se.toLowerCase()=="content-type"),te=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Lc,x,void 0))||B||te||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,we]of N)this.g.setRequestHeader(se,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nu(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){xs(this,se)}};function xs(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,Ru(m),Tr(m)}function Ru(m){m.A||(m.A=!0,sn(m,"complete"),sn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,sn(this,"complete"),sn(this,"abort"),Tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$c(this):this.bb())},t.bb=function(){$c(this)};function $c(m){if(m.h&&typeof a<"u"&&(!m.v[1]||ar(m)!=4||m.Z()!=2)){if(m.u&&ar(m)==4)Ec(m.Ea,0,m);else if(sn(m,"readystatechange"),ar(m)==4){m.h=!1;try{const we=m.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var N;if(!(N=x)){var B;if(B=we===0){var te=String(m.D).match(bs)[1]||null;!te&&l.self&&l.self.location&&(te=l.self.location.protocol.slice(0,-1)),B=!ev.test(te?te.toLowerCase():"")}N=B}if(N)sn(m,"complete"),sn(m,"success");else{m.m=6;try{var se=2<ar(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",Ru(m)}}finally{Tr(m)}}}}function Tr(m,x){if(m.g){Nu(m);const N=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||sn(m,"ready");try{N.onreadystatechange=B}catch{}}}function Nu(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ar(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),Ac(x)}};function Fc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Mu(m){const x={};m=(m.g&&2<=ar(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(A(m[B]))continue;var N=L(m[B]);const te=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const se=x[te]||[];x[te]=se,se.push(N)}P(x,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(m,x,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||x}function Vc(m){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ki("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ki("baseRetryDelayMs",5e3,m),this.cb=Ki("retryDelaySeedMs",1e4,m),this.Wa=Ki("forwardChannelMaxRetries",2,m),this.wa=Ki("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(m&&m.concurrentRequestLimit),this.Da=new Zy,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vc.prototype,t.la=8,t.G=1,t.connect=function(m,x,N,B){Kt(0),this.W=m,this.H=x||{},N&&B!==void 0&&(this.H.OSID=N,this.H.OAID=B),this.F=this.X,this.I=Lh(this,null,this.W),Gi(this)};function In(m){if(Du(m),m.G==3){var x=m.U++,N=xr(m.I);if(bt(N,"SID",m.K),bt(N,"RID",x),bt(N,"TYPE","terminate"),yo(m,N),x=new hi(m,m.j,x),x.L=2,x.v=fa(xr(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(x.v.toString(),"")}catch{}!N&&l.Image&&(new Image().src=x.v,N=!0),N||(x.g=$h(x.j,null),x.g.ea(x.v)),x.F=Date.now(),St(x)}jh(m)}function vi(m){m.g&&(Uc(m),m.g.cancel(),m.g=null)}function Du(m){vi(m),m.u&&(l.clearTimeout(m.u),m.u=null),$u(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Gi(m){if(!Sr(m.h)&&!m.s){m.s=!0;var x=m.Ga;re||J(),Q||(re(),Q=!0),X.add(x,m),m.B=0}}function tv(m,x){return xh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ci(y(m.Ga,m,x),Dh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const te=new hi(this,this.j,m);let se=this.o;if(this.S&&(se?(se=k(se),F(se,this.S)):se=this.S),this.m!==null||this.O||(te.H=se,se=null),this.P)e:{for(var x=0,N=0;N<this.i.length;N++){t:{var B=this.i[N];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(x+=B,4096<x){x=N;break e}if(x===4096||N===this.i.length-1){x=N+1;break e}}x=1e3}else x=1e3;x=ma(this,te,x),N=xr(this.I),bt(N,"RID",m),bt(N,"CVER",22),this.D&&bt(N,"X-HTTP-Session-Id",this.D),yo(this,N),se&&(this.O?x="headers="+encodeURIComponent(String(go(se)))+"&"+x:this.m&&pa(N,this.m,se)),Dc(this.h,te),this.Ua&&bt(N,"TYPE","init"),this.P?(bt(N,"$req",x),bt(N,"SID","null"),te.T=!0,Pu(te,N,null)):Pu(te,N,x),this.G=2}}else this.G==3&&(m?ju(this,m):this.i.length==0||Sr(this.h)||ju(this))};function ju(m,x){var N;x?N=x.l:N=m.U++;const B=xr(m.I);bt(B,"SID",m.K),bt(B,"RID",N),bt(B,"AID",m.T),yo(m,B),m.m&&m.o&&pa(B,m.m,m.o),N=new hi(m,m.j,N,m.B+1),m.m===null&&(N.H=m.o),x&&(m.i=x.D.concat(m.i)),x=ma(m,N,1e3),N.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Dc(m.h,N),Pu(N,B,x)}function yo(m,x){m.H&&D(m.H,function(N,B){bt(x,B,N)}),m.l&&ua({},function(N,B){bt(x,B,N)})}function ma(m,x,N){N=Math.min(m.i.length,N);var B=m.l?y(m.l.Na,m.l,m):null;e:{var te=m.i;let se=-1;for(;;){const we=["count="+N];se==-1?0<N?(se=te[0].g,we.push("ofs="+se)):se=0:we.push("ofs="+se);let gt=!0;for(let un=0;un<N;un++){let nt=te[un].g;const gn=te[un].map;if(nt-=se,0>nt)se=Math.max(0,te[un].g-100),gt=!1;else try{Rh(gn,we,"req"+nt+"_")}catch{B&&B(gn)}}if(gt){B=we.join("&");break e}}}return m=m.i.splice(0,N),x.D=m,B}function Ts(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;re||J(),Q||(re(),Q=!0),X.add(x,m),m.v=0}}function Lu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ci(y(m.Fa,m),Dh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ci(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),vi(this),Mh(this))};function Uc(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function Mh(m){m.g=new hi(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=xr(m.qa);bt(x,"RID","rpc"),bt(x,"SID",m.K),bt(x,"AID",m.T),bt(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&bt(x,"TO",m.ja),bt(x,"TYPE","xmlhttp"),yo(m,x),m.m&&m.o&&pa(x,m.m,m.o),m.L&&(m.g.I=m.L);var N=m.g;m=m.ia,N.L=1,N.v=fa(xr(x)),N.m=null,N.P=!0,Nc(N,m)}t.Za=function(){this.C!=null&&(this.C=null,vi(this),Lu(this),Kt(19))};function $u(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Fu(m,x){var N=null;if(m.g==x){$u(m),Uc(m),m.g=null;var B=2}else if(Yn(m.h,x))N=x.D,Th(m.h,x),B=1;else return;if(m.G!=0){if(x.o)if(B==1){N=x.m?x.m.length:0,x=Date.now()-x.F;var te=m.B;B=ms(),sn(B,new xu(B,N)),Gi(m)}else Ts(m);else if(te=x.s,te==3||te==0&&0<x.X||!(B==1&&tv(m,x)||B==2&&Lu(m)))switch(N&&0<N.length&&(x=m.h,x.i=x.i.concat(N)),te){case 1:vo(m,5);break;case 4:vo(m,10);break;case 3:vo(m,6);break;default:vo(m,2)}}}function Dh(m,x){let N=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(N*=2),N*x}function vo(m,x){if(m.j.info("Error code "+x),x==2){var N=y(m.fb,m),B=m.Xa;const te=!B;B=new po(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Es(B,"https"),fa(B),te?Jy(B.toString(),N):kh(B.toString(),N)}else Kt(2);m.G=0,m.l&&m.l.sa(x),jh(m),Du(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function jh(m){if(m.G=0,m.ka=[],m.l){const x=Ah(m.h);(x.length!=0||m.i.length!=0)&&(v(m.ka,x),v(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function Lh(m,x,N){var B=N instanceof po?xr(N):new po(N);if(B.g!="")x&&(B.g=x+"."+B.g),la(B,B.s);else{var te=l.location;B=te.protocol,x=x?x+"."+te.hostname:te.hostname,te=+te.port;var se=new po(null);B&&Es(se,B),x&&(se.g=x),te&&la(se,te),N&&(se.l=N),B=se}return N=m.D,x=m.ya,N&&x&&bt(B,N,x),bt(B,"VER",m.la),yo(m,B),B}function $h(m,x,N){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new Rt(new mo({eb:N})):new Rt(m.pa),x.Ha(m.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}t=Bc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vu(){}Vu.prototype.g=function(m,x){return new Xn(m,x)};function Xn(m,x){an.call(this),this.g=new Vc(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!A(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!A(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new Yi(this)}w(Xn,an),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){In(this.g)},Xn.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.u&&(N={},N.__data__=Tc(m),m=N);x.i.push(new Sh(x.Ya++,m)),x.G==3&&Gi(x)},Xn.prototype.N=function(){this.g.l=null,delete this.j,In(this.g),delete this.g,Xn.aa.N.call(this)};function Fh(m){qi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const N in x){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}w(Fh,qi);function Vh(){Su.call(this),this.status=1}w(Vh,Su);function Yi(m){this.g=m}w(Yi,Bc),Yi.prototype.ua=function(){sn(this.g,"a")},Yi.prototype.ta=function(m){sn(this.g,new Fh(m))},Yi.prototype.sa=function(m){sn(this.g,new Vh)},Yi.prototype.ra=function(){sn(this.g,"b")},Vu.prototype.createWebChannel=Vu.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,FL=function(){return new Vu},$L=function(){return ms()},LL=zi,oE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Au.NO_ERROR=0,Au.TIMEOUT=8,Au.HTTP_ERROR=6,fm=Au,_h.COMPLETE="complete",jL=_h,Eu.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",an.prototype.listen=an.prototype.K,Rf=Eu,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,DL=Rt}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});const mC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new ex("@firebase/firestore");function hl(){return au.logLevel}function Te(t,...e){if(au.logLevel<=Xe.DEBUG){const n=e.map(hx);au.debug(`Firestore (${cc}): ${t}`,...n)}}function Ho(t,...e){if(au.logLevel<=Xe.ERROR){const n=e.map(hx);au.error(`Firestore (${cc}): ${t}`,...n)}}function Cl(t,...e){if(au.logLevel<=Xe.WARN){const n=e.map(hx);au.warn(`Firestore (${cc}): ${t}`,...n)}}function hx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: `+t;throw Ho(e),new Error(e)}function pt(t,e){t||qe()}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class B8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q8{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new $o;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $o,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $o)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string"),new VL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new Bn(e)}}class z8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class W8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new z8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){pt(this.o===void 0);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt(typeof n.token=="string"),this.R=n.token,new H8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=G8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function Ol(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new hn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new hn(0,0))}static max(){return new ze(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kt extends nd{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const Y8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends nd{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return Y8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ae(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ae(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new Ae(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(kt.fromString(e))}static fromName(e){return new Me(kt.fromString(e).popFirst(5))}static empty(){return new Me(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new kt(e.slice()))}}function X8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new Ga(i,Me.empty(),e)}function Q8(t){return new Ga(t.readTime,t.key,-1)}class Ga{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ga(ze.min(),Me.empty(),-1)}static max(){return new Ga(ze.max(),Me.empty(),-1)}}function J8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==Z8)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let i=0,o=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++o,a&&o===i&&n()},c=>r(c))}),a=!0,o===i&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(i=>i?de.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new de((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(h=>{a[f]=h,++l,l===o&&r(a)},h=>i(h))}})}static doWhile(e,n){return new de((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function tW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bg.oe=-1;function qg(t){return t==null}function Tm(t){return t===0&&1/t==-1/0}function nW(t){return typeof t=="number"&&Number.isInteger(t)&&!Tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gC(e)),e=iW(t.get(n),e);return gC(e)}function iW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function gC(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vp(this.root,e,this.comparator,!0)}}class Vp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Rn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vC(this.data.getIterator())}getIteratorFrom(e){return new vC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class vC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Dr([])}unionWith(e){let n=new pn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qL("Invalid base64 string: "+o):o}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const oW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(t){if(pt(!!t),typeof t=="string"){let e=0;const n=oW.exec(t);if(pt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xa(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zg(t){const e=t.mapValue.fields.__previous_value__;return px(e)?zg(e):e}function rd(t){const e=Ya(t.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e,n,r,i,o,a,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class id{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new id("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?px(t)?4:uW(t)?9007199254740991:sW(t)?10:11:qe()}function so(t,e){if(t===e)return!0;const n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rd(t).isEqual(rd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ya(i.timestampValue),l=Ya(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Xa(i.bytesValue).isEqual(Xa(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Yt(i.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Yt(i.integerValue)===Yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Yt(i.doubleValue),l=Yt(o.doubleValue);return a===l?Tm(a)===Tm(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ol(t.arrayValue.values||[],e.arrayValue.values||[],so);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(yC(a)!==yC(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!so(a[c],l[c])))return!1;return!0}(t,e);default:return qe()}}function od(t,e){return(t.values||[]).find(n=>so(n,e))!==void 0}function kl(t,e){if(t===e)return 0;const n=Qa(t),r=Qa(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Yt(o.integerValue||o.doubleValue),c=Yt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return _C(t.timestampValue,e.timestampValue);case 4:return _C(rd(t),rd(e));case 5:return tt(t.stringValue,e.stringValue);case 6:return function(o,a){const l=Xa(o),c=Xa(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=tt(l[f],c[f]);if(h!==0)return h}return tt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=tt(Yt(o.latitude),Yt(a.latitude));return l!==0?l:tt(Yt(o.longitude),Yt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wC(t.arrayValue,e.arrayValue);case 10:return function(o,a){var l,c,f,h;const p=o.fields||{},y=a.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=(c=y.value)===null||c===void 0?void 0:c.arrayValue,E=tt(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:wC(_,w)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Up.mapValue&&a===Up.mapValue)return 0;if(o===Up.mapValue)return 1;if(a===Up.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=tt(c[p],h[p]);if(y!==0)return y;const _=kl(l[c[p]],f[h[p]]);if(_!==0)return _}return tt(c.length,h.length)}(t.mapValue,e.mapValue);default:throw qe()}}function _C(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Ya(t),r=Ya(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function wC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=kl(n[i],r[i]);if(o)return o}return tt(n.length,r.length)}function Rl(t){return aE(t)}function aE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ya(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=aE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${aE(n.fields[a])}`;return i+"}"}(t.mapValue):qe()}function dm(t){switch(Qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zg(t);return e?16+dm(e):16;case 5:return 2*t.stringValue.length;case 6:return Xa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+dm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return is(r.fields,(o,a)=>{i+=o.length+dm(a)}),i}(t.mapValue);default:throw qe()}}function bC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sE(t){return!!t&&"integerValue"in t}function mx(t){return!!t&&"arrayValue"in t}function EC(t){return!!t&&"nullValue"in t}function SC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hm(t){return!!t&&"mapValue"in t}function sW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Vf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(n)}setAll(e){let n=Nn.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Vf(a):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());hm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return so(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){is(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new gr(Vf(this.value))}}function zL(t){const e=[];return is(t.fields,(n,r)=>{const i=new Nn([n]);if(hm(r)){const o=zL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qn(e,0,ze.min(),ze.min(),ze.min(),gr.empty(),0)}static newFoundDocument(e,n,r,i){return new qn(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new qn(e,2,n,ze.min(),ze.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,ze.min(),ze.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.position=e,this.inclusive=n}}function xC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Me.comparator(Me.fromName(a.referenceValue),n.key):r=kl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function TC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!so(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function lW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{}class nn extends WL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fW(e,n,r):n==="array-contains"?new pW(e,r):n==="in"?new mW(e,r):n==="not-in"?new gW(e,r):n==="array-contains-any"?new yW(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dW(e,r):new hW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kl(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends WL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Di(e,n)}matches(e){return HL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function HL(t){return t.op==="and"}function KL(t){return cW(t)&&HL(t)}function cW(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function uE(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(KL(t))return t.filters.map(e=>uE(e)).join(",");{const e=t.filters.map(n=>uE(n)).join(",");return`${t.op}(${e})`}}function GL(t,e){return t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&so(r.value,i.value)}(t,e):t instanceof Di?function(r,i){return i instanceof Di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,l)=>o&&GL(a,i.filters[l]),!0):!1}(t,e):void qe()}function YL(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`}(t):t instanceof Di?function(n){return n.op.toString()+" {"+n.getFilters().map(YL).join(" ,")+"}"}(t):"Filter"}class fW extends nn{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class dW extends nn{constructor(e,n){super(e,"in",n),this.keys=XL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hW extends nn{constructor(e,n){super(e,"not-in",n),this.keys=XL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Me.fromName(r.referenceValue))}class pW extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mx(n)&&od(n.arrayValue,this.value)}}class mW extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&od(this.value.arrayValue,n)}}class gW extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!od(this.value.arrayValue,n)}}class yW extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function AC(t,e=null,n=[],r=[],i=null,o=null,a=null){return new vW(t,e,n,r,i,o,a)}function gx(t){const e=Ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rl(r)).join(",")),e.ue=n}return e.ue}function yx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TC(t.startAt,e.startAt)&&TC(t.endAt,e.endAt)}function lE(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _W(t,e,n,r,i,o,a,l){return new hc(t,e,n,r,i,o,a,l)}function Wg(t){return new hc(t)}function IC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QL(t){return t.collectionGroup!==null}function Uf(t){const e=Ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new pn(Nn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ad(o,r))}),n.has(Nn.keyField().canonicalString())||e.ce.push(new ad(Nn.keyField(),r))}return e.ce}function ro(t){const e=Ke(t);return e.le||(e.le=wW(e,Uf(t))),e.le}function wW(t,e){if(t.limitType==="F")return AC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ad(i.field,o)});const n=t.endAt?new Am(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Am(t.startAt.position,t.startAt.inclusive):null;return AC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cE(t,e){const n=t.filters.concat([e]);return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Im(t,e,n){return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hg(t,e){return yx(ro(t),ro(e))&&t.limitType===e.limitType}function JL(t){return`${gx(ro(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YL(i)).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rl(i)).join(",")),`Target(${r})`}(ro(t))}; limitType=${t.limitType})`}function Kg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Uf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const f=xC(a,l,c);return a.inclusive?f<=0:f<0}(r.startAt,Uf(r),i)||r.endAt&&!function(a,l,c){const f=xC(a,l,c);return a.inclusive?f>=0:f>0}(r.endAt,Uf(r),i))}(t,e)}function bW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZL(t){return(e,n)=>{let r=!1;for(const i of Uf(t)){const o=EW(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function EW(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),f=l.data.field(o);return c!==null&&f!==null?kl(c,f):qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW=new Vt(Me.comparator);function Ko(){return SW}const e$=new Vt(Me.comparator);function Nf(...t){let e=e$;for(const n of t)e=e.insert(n.key,n);return e}function t$(t){let e=e$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ks(){return Bf()}function n$(){return Bf()}function Bf(){return new gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const xW=new Vt(Me.comparator),TW=new pn(Me.comparator);function Je(...t){let e=TW;for(const n of t)e=e.add(n);return e}const AW=new pn(tt);function IW(){return AW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(e)?"-0":e}}function r$(t){return{integerValue:""+t}}function PW(t,e){return nW(e)?r$(e):vx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this._=void 0}}function CW(t,e,n){return t instanceof sd?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&px(o)&&(o=zg(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof ud?o$(t,e):t instanceof ld?a$(t,e):function(i,o){const a=i$(i,o),l=PC(a)+PC(i.Pe);return sE(a)&&sE(i.Pe)?r$(l):vx(i.serializer,l)}(t,e)}function OW(t,e,n){return t instanceof ud?o$(t,e):t instanceof ld?a$(t,e):n}function i$(t,e){return t instanceof Pm?function(r){return sE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class sd extends Gg{}class ud extends Gg{constructor(e){super(),this.elements=e}}function o$(t,e){const n=s$(e);for(const r of t.elements)n.some(i=>so(i,r))||n.push(r);return{arrayValue:{values:n}}}class ld extends Gg{constructor(e){super(),this.elements=e}}function a$(t,e){let n=s$(e);for(const r of t.elements)n=n.filter(i=>!so(i,r));return{arrayValue:{values:n}}}class Pm extends Gg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function PC(t){return Yt(t.integerValue||t.doubleValue)}function s$(t){return mx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e,n){this.field=e,this.transform=n}}function RW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ud&&i instanceof ud||r instanceof ld&&i instanceof ld?Ol(r.elements,i.elements,so):r instanceof Pm&&i instanceof Pm?so(r.Pe,i.Pe):r instanceof sd&&i instanceof sd}(t.transform,e.transform)}class NW{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yg{}function u$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _x(t.key,ei.none()):new rh(t.key,t.data,ei.none());{const n=t.data,r=gr.empty();let i=new pn(Nn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new os(t.key,r,new Dr(i.toArray()),ei.none())}}function MW(t,e,n){t instanceof rh?function(i,o,a){const l=i.value.clone(),c=OC(i.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof os?function(i,o,a){if(!pm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=OC(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(l$(i)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function qf(t,e,n,r){return t instanceof rh?function(o,a,l,c){if(!pm(o.precondition,a))return l;const f=o.value.clone(),h=kC(o.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(o,a,l,c){if(!pm(o.precondition,a))return l;const f=kC(o.fieldTransforms,c,a),h=a.data;return h.setAll(l$(o)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,a,l){return pm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function DW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=i$(r.transform,i||null);o!=null&&(n===null&&(n=gr.empty()),n.set(r.field,o))}return n||null}function CC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ol(r,i,(o,a)=>RW(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rh extends Yg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends Yg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function l$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OC(t,e,n){const r=new Map;pt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,OW(a,l,n[i]))}return r}function kC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,CW(o,a,e))}return r}class _x extends Yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jW extends Yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&MW(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n$();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const c=u$(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,(n,r)=>CC(n,r))&&Ol(this.baseMutations,e.baseMutations,(n,r)=>CC(n,r))}}class wx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pt(e.mutations.length===r.length);let i=function(){return xW}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new wx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,rt;function VW(t){switch(t){default:return qe();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function c$(t){if(t===void 0)return Ho("GRPC error has no .code"),fe.UNKNOWN;switch(t){case Zt.OK:return fe.OK;case Zt.CANCELLED:return fe.CANCELLED;case Zt.UNKNOWN:return fe.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return fe.INTERNAL;case Zt.UNAVAILABLE:return fe.UNAVAILABLE;case Zt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Zt.NOT_FOUND:return fe.NOT_FOUND;case Zt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Zt.ABORTED:return fe.ABORTED;case Zt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Zt.DATA_LOSS:return fe.DATA_LOSS;default:return qe()}}(rt=Zt||(Zt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=new Zs([4294967295,4294967295],0);function RC(t){const e=UW().encode(t),n=new ML;return n.update(e),new Uint8Array(n.digest())}function NC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([i,o],0)]}class bx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mf(`Invalid padding: ${n}`);if(r<0)throw new Mf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mf(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Zs.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Zs.fromNumber(r)));return i.compare(BW)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=RC(e),[r,i]=NC(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new bx(o,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;const n=RC(e),[r,i]=NC(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ih.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xg(ze.min(),i,new Vt(tt),Ko(),Je())}}class ih{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ih(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class f${constructor(e,n){this.targetId=e,this.me=n}}class d${constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MC{constructor(){this.fe=0,this.ge=DC(),this.pe=Dn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Je(),n=Je(),r=Je();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new ih(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=DC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qW{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ko(),this.qe=Bp(),this.Qe=Bp(),this.Ke=new Vt(tt)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(lE(o))if(r===0){const a=new Me(o.path);this.We(n,a,qn.newNoDocument(a,ze.min()))}else pt(r===1);else{const a=this.Ze(n);if(a!==r){const l=this.Xe(e),c=l?this.et(l,e,a):1;if(c!==0){this.He(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=Xa(r).toUint8Array()}catch(c){if(c instanceof qL)return Cl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new bx(a,i,o)}catch(c){return Cl(c instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,a)=>{const l=this.Ye(a);if(l){if(o.current&&lE(l.target)){const c=new Me(l.target.path);this.st(c).has(a)||this.ot(a,c)||this.We(a,c,qn.newNoDocument(c,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Je();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(c=>{const f=this.Ye(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Xg(e,n,this.Ke,this.ke,r);return this.ke=Ko(),this.qe=Bp(),this.Qe=Bp(),this.Ke=new Vt(tt),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new MC,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new pn(tt),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pn(tt),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new MC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bp(){return new Vt(Me.comparator)}function DC(){return new Vt(Me.comparator)}const zW={asc:"ASCENDING",desc:"DESCENDING"},WW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HW={and:"AND",or:"OR"};class KW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fE(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function Cm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GW(t,e){return Cm(t,e.toTimestamp())}function io(t){return pt(!!t),ze.fromTimestamp(function(n){const r=Ya(n);return new hn(r.seconds,r.nanos)}(t))}function Ex(t,e){return dE(t,e).canonicalString()}function dE(t,e){const n=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function p$(t){const e=kt.fromString(t);return pt(_$(e)),e}function hE(t,e){return Ex(t.databaseId,e.path)}function j_(t,e){const n=p$(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(g$(n))}function m$(t,e){return Ex(t.databaseId,e)}function YW(t){const e=p$(t);return e.length===4?kt.emptyPath():g$(e)}function pE(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g$(t){return pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jC(t,e,n){return{name:hE(t,e),fields:n.value.mapValue.fields}}function XW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,h){return f.useProto3Json?(pt(h===void 0||typeof h=="string"),Dn.fromBase64String(h||"")):(pt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Dn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){const h=f.code===void 0?fe.UNKNOWN:c$(f.code);return new Ae(h,f.message||"")}(a);n=new d$(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=j_(t,r.document.name),o=io(r.document.updateTime),a=r.document.createTime?io(r.document.createTime):ze.min(),l=new gr({mapValue:{fields:r.document.fields}}),c=qn.newFoundDocument(i,o,a,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new mm(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=j_(t,r.document),o=r.readTime?io(r.readTime):ze.min(),a=qn.newNoDocument(i,o),l=r.removedTargetIds||[];n=new mm([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=j_(t,r.document),o=r.removedTargetIds||[];n=new mm([],o,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new FW(i,o),l=r.targetId;n=new f$(l,a)}}return n}function QW(t,e){let n;if(e instanceof rh)n={update:jC(t,e.key,e.value)};else if(e instanceof _x)n={delete:hE(t,e.key)};else if(e instanceof os)n={update:jC(t,e.key,e.data),updateMask:aH(e.fieldMask)};else{if(!(e instanceof jW))return qe();n={verify:hE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof sd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ud)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ld)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pm)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:GW(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe()}(t,e.precondition)),n}function JW(t,e){return t&&t.length>0?(pt(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?io(i.updateTime):io(o);return a.isEqual(ze.min())&&(a=io(o)),new NW(a,i.transformResults||[])}(n,e))):[]}function ZW(t,e){return{documents:[m$(t,e.path)]}}function eH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=m$(t,i);const o=function(f){if(f.length!==0)return v$(Di.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(h=>function(y){return{field:ml(y.field),direction:rH(y.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=fE(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ct:n,parent:i}}function tH(t){let e=YW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pt(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){const y=y$(p);return y instanceof Di&&KL(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(y=>function(w){return new ad(gl(w.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(p){let y;return y=typeof p=="object"?p.value:p,qg(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){const y=!!p.before,_=p.values||[];return new Am(_,y)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const y=!p.before,_=p.values||[];return new Am(_,y)}(n.endAt)),_W(e,i,a,o,l,"F",c,f)}function nH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gl(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gl(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gl(n.unaryFilter.field);return nn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gl(n.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):t.fieldFilter!==void 0?function(n){return nn.create(gl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Di.create(n.compositeFilter.filters.map(r=>y$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(n.compositeFilter.op))}(t):qe()}function rH(t){return zW[t]}function iH(t){return WW[t]}function oH(t){return HW[t]}function ml(t){return{fieldPath:t.canonicalString()}}function gl(t){return Nn.fromServerFormat(t.fieldPath)}function v$(t){return t instanceof nn?function(n){if(n.op==="=="){if(SC(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(EC(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SC(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(EC(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:iH(n.op),value:n.value}}}(t):t instanceof Di?function(n){const r=n.getFilters().map(i=>v$(i));return r.length===1?r[0]:{compositeFilter:{op:oH(n.op),filters:r}}}(t):qe()}function aH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,i,o=ze.min(),a=ze.min(),l=Dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.ht=e}}function uH(t){const e=tH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(){this.ln=new cH}addToCollectionParentIndex(e,n){return this.ln.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Ga.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Ga.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class cH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pn(kt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(41943040,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Nl(0)}static Qn(){return new Nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C([t,e],[n,r]){const i=tt(t,n);return i===0?tt(e,r):i}class fH{constructor(e){this.Gn=e,this.buffer=new pn($C),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$C(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dc(n)?Te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await fc(n)}await this.Yn(3e5)})}}class hH{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Bg.oe);const r=new fH(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(LC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LC):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,a,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(f=Date.now(),hl()<=Xe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function pH(t,e){return new hH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(){this.changes=new gu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qf(r.mutation,i,Dr.empty(),hn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Je()){const i=Ks();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Nf();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Je()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let o=Ko();const a=Bf(),l=function(){return Bf()}();return n.forEach((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof os)?o=o.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),qf(h.mutation,f,h.mutation.getFieldMask(),hn.now())):a.set(f.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,h)=>a.set(f,h)),n.forEach((f,h)=>{var p;return l.set(f,new gH(h,(p=a.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Bf();let i=new Vt((a,l)=>a-l),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Dr.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(i.get(l.batchId)||Je()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=n$();h.forEach(y=>{if(!o.has(y)){const _=u$(n.get(y),r.get(y));_!==null&&p.set(y,_),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return de.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Me.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):de.resolve(Ks());let l=-1,c=o;return a.next(f=>de.forEach(f,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(h)?de.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,Je())).next(h=>({batchId:l,changes:t$(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(r=>{let i=Nf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Nf();return this.indexManager.getCollectionParents(e,o).next(l=>de.forEach(l,c=>{const f=function(p,y){return new hc(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(h=>{h.forEach((p,y)=>{a=a.insert(p,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,qn.newInvalidDocument(h)))});let l=Nf();return a.forEach((c,f)=>{const h=o.get(c);h!==void 0&&qf(h.mutation,f,Dr.empty(),hn.now()),Kg(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return de.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:io(i.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:uH(i.bundledQuery),readTime:io(i.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(){this.overlays=new Vt(Me.comparator),this.Er=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ks();return de.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=Ks(),o=n.length+1,a=new Me(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt((f,h)=>f-h);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=Ks(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Ks(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=i)););return de.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new $W(n,r));let o=this.Er.get(n);o===void 0&&(o=Je(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.dr=new pn(bn.Ar),this.Rr=new pn(bn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new bn(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Me(new kt([])),r=new bn(n,e),i=new bn(n,e+1),o=[];return this.Rr.forEachInRange([r,i],a=>{this.gr(a),o.push(a.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Me(new kt([])),r=new bn(n,e),i=new bn(n,e+1);let o=Je();return this.Rr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new bn(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Me.comparator(e.key,n.key)||tt(e.br,n.br)}static Vr(e,n){return tt(e.br,n.br)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new pn(bn.Ar)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new LW(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.vr=this.vr.add(new bn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return de.resolve(a)}lookupMutationBatch(e,n){return de.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),i=new bn(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],a=>{const l=this.Cr(a.br);o.push(l)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(tt);return n.forEach(i=>{const o=new bn(i,0),a=new bn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,a],l=>{r=r.add(l.br)})}),de.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Me.isDocumentKey(o)||(o=o.child(""));const a=new bn(new Me(o),0);let l=new pn(tt);return this.vr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.br)),!0)},a),de.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return de.forEach(n.mutations,i=>{const o=new bn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new bn(n,0),i=this.vr.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e){this.Nr=e,this.docs=function(){return new Vt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let r=Ko();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qn.newInvalidDocument(i))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ko();const a=n.path,l=new Me(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||J8(Q8(h),r)<=0||(i.has(h.key)||Kg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,i){qe()}Lr(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SH(this)}getSize(e){return de.resolve(this.size)}}class SH extends mH{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.persistence=e,this.Br=new gu(n=>gx(n),yx),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.kr=0,this.qr=new Sx,this.targetCount=0,this.Qr=Nl.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),de.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Nl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Un(n),de.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),de.waitFor(o).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.Kr={},this.overlays={},this.$r=new Bg(0),this.Ur=!1,this.Ur=!0,this.Wr=new wH,this.referenceDelegate=e(this),this.Gr=new xH(this),this.indexManager=new lH,this.remoteDocumentCache=function(i){return new EH(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new sH(n),this.jr=new vH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _H,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new bH(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new TH(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return de.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class TH extends eW{constructor(e){super(),this.currentSequenceNumber=e}}class xx{constructor(e){this.persistence=e,this.Zr=new Sx,this.Xr=null}static ei(e){return new xx(e)}get ti(){if(this.Xr)return this.Xr;throw qe()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),de.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.ti,r=>{const i=Me.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,ze.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return de.or([()=>de.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Om{constructor(e,n){this.persistence=e,this.ri=new gu(r=>rW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=pH(this,n)}static ei(e,n){return new Om(e,n)}Hr(){}Jr(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return de.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?de.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,a=>this.ir(e,a,n).next(l=>{l||(r++,o.removeEntry(a,ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),de.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dm(e.data.value)),n}ir(e,n,r){return de.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Je(),i=Je();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Tx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return p5()?8:tW(Gn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new AH;return this.ts(e,n,a).next(l=>{if(o.result=l,this.Hi)return this.ns(e,n,a,l.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(hl()<=Xe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),de.resolve()):(hl()<=Xe.DEBUG&&Te("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(hl()<=Xe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ro(n))):de.resolve())}Xi(e,n){if(IC(n))return de.resolve(null);let r=ro(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Im(n,null,"F"),r=ro(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Je(...o);return this.Zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.rs(n,l);return this.ss(n,f,a,c.readTime)?this.Xi(e,Im(n,null,"F")):this.os(e,f,n,c)}))})))}es(e,n,r,i){return IC(n)||i.isEqual(ze.min())?de.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const a=this.rs(n,o);return this.ss(n,a,r,i)?de.resolve(null):(hl()<=Xe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pl(n)),this.os(e,a,n,X8(i,-1)).next(l=>l))})}rs(e,n){let r=new pn(ZL(e));return n.forEach((i,o)=>{Kg(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return hl()<=Xe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",pl(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ga.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Vt(tt),this.cs=new gu(o=>gx(o),yx),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yH(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function CH(t,e,n,r){return new PH(t,e,n,r)}async function b$(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let c=Je();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Ts:f,removedBatchIds:a,addedBatchIds:l}))})})}function OH(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,h){const p=f.batch,y=p.keys();let _=de.resolve();return y.forEach(w=>{_=_.next(()=>h.getEntry(c,w)).next(E=>{const v=f.docVersions.get(w);pt(v!==null),E.version.compareTo(v)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),h.addEntry(E)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Je();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function E$(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function kH(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((h,p)=>{const y=i.get(p);if(!y)return;l.push(n.Gr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(o,h.addedDocuments,p)));let _=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Dn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),function(E,v,I){return E.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,_,h)&&l.push(n.Gr.updateTargetData(o,_))});let c=Ko(),f=Je();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),l.push(RH(o,a,e.documentUpdates).next(h=>{c=h.Is,f=h.Es})),!r.isEqual(ze.min())){const h=n.Gr.getLastRemoteSnapshotVersion(o).next(p=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(h)}return de.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(n.us=i,o))}function RH(t,e,n){let r=Je(),i=Je();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Ko();return n.forEach((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ze.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Te("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{Is:a,Es:i}})}function NH(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MH(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,de.resolve(i)):n.Gr.allocateTargetId(r).next(a=>(i=new Fa(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function mE(t,e,n){const r=Ke(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!dc(a))throw a;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function FC(t,e,n){const r=Ke(t);let i=ze.min(),o=Je();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,h){const p=Ke(c),y=p.cs.get(h);return y!==void 0?de.resolve(p.us.get(y)):p.Gr.getTargetData(f,h)}(r,a,ro(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{o=c})}).next(()=>r._s.getDocumentsMatchingQuery(a,e,n?i:ze.min(),n?o:Je())).next(l=>(DH(r,bW(e),l),{documents:l,ds:o})))}function DH(t,e,n){let r=t.ls.get(e)||ze.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class VC{constructor(){this.activeTargetIds=IW()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jH{constructor(){this._o=new VC,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new VC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp=null;function L_(){return qp===null?qp=function(){return 268435456+Math.round(2147483648*Math.random())}():qp++,"0x"+qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class VH extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,a){const l=L_(),c=this.No(n,r.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,o,a),this.Bo(n,c,f,i).then(h=>(Te("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw Cl("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",i),h})}ko(n,r,i,o,a,l){return this.Oo(n,r,i,o,a)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}No(n,r){const i=$H[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=L_();return new Promise((a,l)=>{const c=new DL;c.setWithCredentials(!0),c.listenOnce(jL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case fm.NO_ERROR:const h=c.getResponseJson();Te(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case fm.TIMEOUT:Te(Vn,`RPC '${e}' ${o} timed out`),l(new Ae(fe.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const p=c.getStatus();if(Te(Vn,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const w=function(v){const I=v.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(I)>=0?I:fe.UNKNOWN}(_.status);l(new Ae(w,_.message))}else l(new Ae(fe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ae(fe.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Te(Vn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);Te(Vn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}qo(e,n,r){const i=L_(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=FL(),l=$L(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");Te(Vn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=a.createWebChannel(h,c);let y=!1,_=!1;const w=new FH({Eo:v=>{_?Te(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(y||(Te(Vn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Te(Vn,`RPC '${e}' stream ${i} sending:`,v),p.send(v))},Ao:()=>p.close()}),E=(v,I,A)=>{v.listen(I,R=>{try{A(R)}catch(j){setTimeout(()=>{throw j},0)}})};return E(p,Rf.EventType.OPEN,()=>{_||(Te(Vn,`RPC '${e}' stream ${i} transport opened.`),w.So())}),E(p,Rf.EventType.CLOSE,()=>{_||(_=!0,Te(Vn,`RPC '${e}' stream ${i} transport closed`),w.Do())}),E(p,Rf.EventType.ERROR,v=>{_||(_=!0,Cl(Vn,`RPC '${e}' stream ${i} transport errored:`,v),w.Do(new Ae(fe.UNAVAILABLE,"The operation could not be completed")))}),E(p,Rf.EventType.MESSAGE,v=>{var I;if(!_){const A=v.data[0];pt(!!A);const R=A,j=(R==null?void 0:R.error)||((I=R[0])===null||I===void 0?void 0:I.error);if(j){Te(Vn,`RPC '${e}' stream ${i} received error:`,j);const O=j.status;let D=function(M){const F=Zt[M];if(F!==void 0)return c$(F)}(O),P=j.message;D===void 0&&(D=fe.INTERNAL,P="Unknown error status: "+O+" with message "+j.message),_=!0,w.Do(new Ae(D,P)),p.close()}else Te(Vn,`RPC '${e}' stream ${i} received:`,A),w.vo(A)}}),E(l,LL.STAT_EVENT,v=>{v.stat===oE.PROXY?Te(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===oE.NOPROXY&&Te(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.bo()},0),w}}function $_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new KW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n,r,i,o,a,l,c){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new S$(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Ho(n.toString()),Ho("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Ae(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UH extends x${constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=XW(this.serializer,e),r=function(o){if(!("targetChange"in o))return ze.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ze.min():a.readTime?io(a.readTime):ze.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=pE(this.serializer),n.addTarget=function(o,a){let l;const c=a.target;if(l=lE(c)?{documents:ZW(o,c)}:{query:eH(o,c).ct},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=h$(o,a.resumeToken);const f=fE(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(ze.min())>0){l.readTime=Cm(o,a.snapshotVersion.toTimestamp());const f=fE(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=nH(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=pE(this.serializer),n.removeTarget=e,this.c_(n)}}class BH extends x${constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return pt(!!e.streamToken),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=JW(e.writeResults,e.commitTime),r=io(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=pE(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>QW(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Oo(e,dE(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(fe.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.ko(e,dE(n,r),i,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(fe.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class zH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ho(n),this.C_=!1):Te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(a=>{r.enqueueAndForget(async()=>{yu(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Ke(c);f.k_.add(4),await oh(f),f.K_.set("Unknown"),f.k_.delete(4),await Jg(f)}(this))})}),this.K_=new zH(r,i)}}async function Jg(t){if(yu(t))for(const e of t.q_)await e(!0)}async function oh(t){for(const e of t.q_)await e(!1)}function T$(t,e){const n=Ke(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Cx(n)?Px(n):pc(n).s_()&&Ix(n,e))}function Ax(t,e){const n=Ke(t),r=pc(n);n.B_.delete(e),r.s_()&&A$(n,e),n.B_.size===0&&(r.s_()?r.a_():yu(n)&&n.K_.set("Unknown"))}function Ix(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).V_(e)}function A$(t,e){t.U_.xe(e),pc(t).m_(e)}function Px(t){t.U_=new qW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.K_.F_()}function Cx(t){return yu(t)&&!pc(t).i_()&&t.B_.size>0}function yu(t){return Ke(t).k_.size===0}function I$(t){t.U_=void 0}async function HH(t){t.K_.set("Online")}async function KH(t){t.B_.forEach((e,n)=>{Ix(t,e)})}async function GH(t,e){I$(t),Cx(t)?(t.K_.O_(e),Px(t)):t.K_.set("Unknown")}async function YH(t,e,n){if(t.K_.set("Online"),e instanceof d$&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const l of o.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await km(t,r)}else if(e instanceof mm?t.U_.$e(e):e instanceof f$?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ze.min()))try{const r=await E$(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.U_.it(a);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.B_.get(f);h&&o.B_.set(f,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,f)=>{const h=o.B_.get(c);if(!h)return;o.B_.set(c,h.withResumeToken(Dn.EMPTY_BYTE_STRING,h.snapshotVersion)),A$(o,c);const p=new Fa(h.target,c,f,h.sequenceNumber);Ix(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Te("RemoteStore","Failed to raise snapshot:",r),await km(t,r)}}async function km(t,e,n){if(!dc(e))throw e;t.k_.add(1),await oh(t),t.K_.set("Offline"),n||(n=()=>E$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Jg(t)})}function P$(t,e){return e().catch(n=>km(t,n,e))}async function Zg(t){const e=Ke(t),n=Ja(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;XH(e);)try{const i=await NH(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,QH(e,i)}catch(i){await km(e,i)}C$(e)&&O$(e)}function XH(t){return yu(t)&&t.L_.length<10}function QH(t,e){t.L_.push(e);const n=Ja(t);n.s_()&&n.f_&&n.g_(e.mutations)}function C$(t){return yu(t)&&!Ja(t).i_()&&t.L_.length>0}function O$(t){Ja(t).start()}async function JH(t){Ja(t).w_()}async function ZH(t){const e=Ja(t);for(const n of t.L_)e.g_(n.mutations)}async function e7(t,e,n){const r=t.L_.shift(),i=wx.from(r,e,n);await P$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zg(t)}async function t7(t,e){e&&Ja(t).f_&&await async function(r,i){if(function(a){return VW(a)&&a!==fe.ABORTED}(i.code)){const o=r.L_.shift();Ja(r).__(),await P$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Zg(r)}}(t,e),C$(t)&&O$(t)}async function BC(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const r=yu(n);n.k_.add(3),await oh(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Jg(n)}async function n7(t,e){const n=Ke(t);e?(n.k_.delete(2),await Jg(n)):e||(n.k_.add(2),await oh(n),n.K_.set("Unknown"))}function pc(t){return t.W_||(t.W_=function(n,r,i){const o=Ke(n);return o.b_(),new UH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:HH.bind(null,t),mo:KH.bind(null,t),po:GH.bind(null,t),R_:YH.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Cx(t)?Px(t):t.K_.set("Unknown")):(await t.W_.stop(),I$(t))})),t.W_}function Ja(t){return t.G_||(t.G_=function(n,r,i){const o=Ke(n);return o.b_(),new BH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:JH.bind(null,t),po:t7.bind(null,t),p_:ZH.bind(null,t),y_:e7.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Zg(t)):(await t.G_.stop(),t.L_.length>0&&(Te("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new Ox(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kx(t,e){if(Ho("AsyncQueue",`${e}: ${t}`),dc(t))return new Ae(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Nf(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.z_=new Vt(Me.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):qe():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ml{constructor(e,n,r,i,o,a,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ml(e,n,xl.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class i7{constructor(){this.queries=zC(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Ke(n),o=i.queries;i.queries=zC(),o.forEach((a,l)=>{for(const c of l.J_)c.onError(r)})})(this,new Ae(fe.ABORTED,"Firestore shutting down"))}}function zC(){return new gu(t=>JL(t),Hg)}async function Rx(t,e){const n=Ke(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new r7,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=kx(a,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&Mx(n)}async function Nx(t,e){const n=Ke(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.J_.indexOf(e);a>=0&&(o.J_.splice(a,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function o7(t,e){const n=Ke(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.J_)l.ta(i)&&(r=!0);a.H_=i}}r&&Mx(n)}function a7(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function Mx(t){t.X_.forEach(e=>{e.next()})}var gE,WC;(WC=gE||(gE={})).na="default",WC.Cache="cache";class Dx{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==gE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.key=e}}class R${constructor(e){this.key=e}}class s7{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Je(),this.mutatedKeys=Je(),this.Va=ZL(e),this.ma=new xl(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new qC,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const y=i.get(h),_=Kg(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let v=!1;y&&_?y.data.isEqual(_.data)?w!==E&&(r.track({type:3,doc:_}),v=!0):this.ya(y,_)||(r.track({type:2,doc:_}),v=!0,(c&&this.Va(_,c)>0||f&&this.Va(_,f)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),v=!0):y&&!_&&(r.track({type:1,doc:y}),v=!0,(c||f)&&(l=!0)),v&&(_?(a=a.add(_),o=E?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ma:a,pa:r,ss:l,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const a=e.pa.j_();a.sort((h,p)=>function(_,w){const E=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return E(_)-E(w)}(h.type,p.type)||this.Va(h.doc,p.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],c=this.Ra.size===0&&this.current&&!i?1:0,f=c!==this.Aa;return this.Aa=c,a.length!==0||f?{snapshot:new Ml(this.query,e.ma,o,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new qC,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Je(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new R$(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new k$(r))}),n}va(e){this.da=e.ds,this.Ra=Je();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Ml.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class u7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class l7{constructor(e){this.key=e,this.Fa=!1}}class c7{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new gu(l=>JL(l),Hg),this.Oa=new Map,this.Na=new Set,this.La=new Vt(Me.comparator),this.Ba=new Map,this.ka=new Sx,this.qa={},this.Qa=new Map,this.Ka=Nl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function f7(t,e,n=!0){const r=$$(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await N$(r,e,n,!0),i}async function d7(t,e){const n=$$(t);await N$(n,e,!0,!1)}async function N$(t,e,n,r){const i=await MH(t.localStore,ro(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await h7(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&T$(t.remoteStore,i),l}async function h7(t,e,n,r,i){t.Ua=(p,y,_)=>async function(E,v,I,A){let R=v.view.ga(I);R.ss&&(R=await FC(E.localStore,v.query,!1).then(({documents:P})=>v.view.ga(P,R)));const j=A&&A.targetChanges.get(v.targetId),O=A&&A.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(R,E.isPrimaryClient,j,O);return KC(E,v.targetId,D.ba),D.snapshot}(t,p,y,_);const o=await FC(t.localStore,e,!0),a=new s7(e,o.ds),l=a.ga(o.documents),c=ih.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,c);KC(t,n,f.ba);const h=new u7(e,n,a);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),f.snapshot}async function p7(t,e,n){const r=Ke(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(a=>!Hg(a,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ax(r.remoteStore,i.targetId),yE(r,i.targetId)}).catch(fc)):(yE(r,i.targetId),await mE(r.localStore,i.targetId,!0))}async function m7(t,e){const n=Ke(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ax(n.remoteStore,r.targetId))}async function g7(t,e,n){const r=S7(t);try{const i=await function(a,l){const c=Ke(a),f=hn.now(),h=l.reduce((_,w)=>_.add(w.key),Je());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let w=Ko(),E=Je();return c.hs.getEntries(_,h).next(v=>{w=v,w.forEach((I,A)=>{A.isValidDocument()||(E=E.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,w)).next(v=>{p=v;const I=[];for(const A of l){const R=DW(A,p.get(A.key).overlayedDocument);R!=null&&I.push(new os(A.key,R,zL(R.value.mapValue),ei.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,I,l)}).next(v=>{y=v;const I=v.applyToLocalDocumentSet(p,E);return c.documentOverlayCache.saveOverlays(_,v.batchId,I)})}).then(()=>({batchId:y.batchId,changes:t$(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let f=a.qa[a.currentUser.toKey()];f||(f=new Vt(tt)),f=f.insert(l,c),a.qa[a.currentUser.toKey()]=f}(r,i.batchId,n),await ah(r,i.changes),await Zg(r.remoteStore)}catch(i){const o=kx(i,"Failed to persist write");n.reject(o)}}async function M$(t,e){const n=Ke(t);try{const r=await kH(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Ba.get(o);a&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Fa=!0:i.modifiedDocuments.size>0?pt(a.Fa):i.removedDocuments.size>0&&(pt(a.Fa),a.Fa=!1))}),await ah(n,r,e)}catch(r){await fc(r)}}function HC(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,a)=>{const l=a.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=Ke(a);c.onlineState=l;let f=!1;c.queries.forEach((h,p)=>{for(const y of p.J_)y.ea(l)&&(f=!0)}),f&&Mx(c)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y7(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let a=new Vt(Me.comparator);a=a.insert(o,qn.newNoDocument(o,ze.min()));const l=Je().add(o),c=new Xg(ze.min(),new Map,new Vt(tt),a,l);await M$(r,c),r.La=r.La.remove(o),r.Ba.delete(e),jx(r)}else await mE(r.localStore,e,!1).then(()=>yE(r,e,n)).catch(fc)}async function v7(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=await OH(n.localStore,e);j$(n,r,null),D$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ah(n,i)}catch(i){await fc(i)}}async function _7(t,e,n){const r=Ke(t);try{const i=await function(a,l){const c=Ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next(p=>(pt(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(r.localStore,e);j$(r,e,n),D$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ah(r,i)}catch(i){await fc(i)}}function D$(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function j$(t,e,n){const r=Ke(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function yE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||L$(t,r)})}function L$(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Ax(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),jx(t))}function KC(t,e,n){for(const r of n)r instanceof k$?(t.ka.addReference(r.key,e),w7(t,r)):r instanceof R$?(Te("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||L$(t,r.key)):qe()}function w7(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Te("SyncEngine","New document in limbo: "+n),t.Na.add(r),jx(t))}function jx(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Me(kt.fromString(e)),r=t.Ka.next();t.Ba.set(r,new l7(n)),t.La=t.La.insert(n,r),T$(t.remoteStore,new Fa(ro(Wg(n.path)),r,"TargetPurposeLimboResolution",Bg.oe))}}async function ah(t,e,n){const r=Ke(t),i=[],o=[],a=[];r.xa.isEmpty()||(r.xa.forEach((l,c)=>{a.push(r.Ua(c,e,n).then(f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=Tx.zi(c.targetId,f);o.push(p)}}))}),await Promise.all(a),r.Ma.R_(i),await async function(c,f){const h=Ke(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>de.forEach(f,y=>de.forEach(y.Wi,_=>h.persistence.referenceDelegate.addReference(p,y.targetId,_)).next(()=>de.forEach(y.Gi,_=>h.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))}catch(p){if(!dc(p))throw p;Te("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const _=h.us.get(y),w=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(w);h.us=h.us.insert(y,E)}}}(r.localStore,o))}async function b7(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const r=await b$(n.localStore,e);n.currentUser=e,function(o,a){o.Qa.forEach(l=>{l.forEach(c=>{c.reject(new Ae(fe.CANCELLED,a))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ah(n,r.Ts)}}function E7(t,e){const n=Ke(t),r=n.Ba.get(e);if(r&&r.Fa)return Je().add(r.key);{let i=Je();const o=n.Oa.get(e);if(!o)return i;for(const a of o){const l=n.xa.get(a);i=i.unionWith(l.view.fa)}return i}}function $$(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y7.bind(null,e),e.Ma.R_=o7.bind(null,e.eventManager),e.Ma.Wa=a7.bind(null,e.eventManager),e}function S7(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_7.bind(null,e),e}class Rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return CH(this.persistence,new IH,e.initialUser,this.serializer)}ja(e){return new w$(xx.ei,this.serializer)}za(e){return new jH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rm.provider={build:()=>new Rm};class x7 extends Rm{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){pt(this.persistence.referenceDelegate instanceof Om);const r=this.persistence.referenceDelegate.garbageCollector;return new dH(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new w$(r=>Om.ei(r,n),this.serializer)}}class vE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b7.bind(null,this.syncEngine),await n7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i7}()}createDatastore(e){const n=Qg(e.databaseInfo.databaseId),r=function(o){return new VH(o)}(e.databaseInfo);return function(o,a,l,c){return new qH(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,l){return new WH(r,i,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>HC(this.syncEngine,n,0),function(){return UC.p()?new UC:new LH}())}createSyncEngine(e,n){return function(i,o,a,l,c,f,h){const p=new c7(i,o,a,l,c,f);return h&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ke(i);Te("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await oh(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vE.provider={build:()=>new vE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ho("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bn.UNAUTHENTICATED,this.clientId=UL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Te("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Te("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function F_(t,e){t.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await b$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A7(t);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>BC(e.remoteStore,i)),t._onlineComponents=e}async function A7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await F_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await F_(t,new Rm)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await F_(t,new x7(void 0));return t._offlineComponents}async function F$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await GC(t,t._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await GC(t,new vE))),t._onlineComponents}function I7(t){return F$(t).then(e=>e.syncEngine)}async function Nm(t){const e=await F$(t),n=e.eventManager;return n.onListen=f7.bind(null,e.syncEngine),n.onUnlisten=p7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m7.bind(null,e.syncEngine),n}function P7(t,e,n={}){const r=new $o;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,f){const h=new Lx({next:y=>{h.eu(),a.enqueueAndForget(()=>Nx(o,p));const _=y.docs.has(l);!_&&y.fromCache?f.reject(new Ae(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?f.reject(new Ae(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new Dx(Wg(l.path),h,{includeMetadataChanges:!0,ua:!0});return Rx(o,p)}(await Nm(t),t.asyncQueue,e,n,r)),r.promise}function C7(t,e,n={}){const r=new $o;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,f){const h=new Lx({next:y=>{h.eu(),a.enqueueAndForget(()=>Nx(o,p)),y.fromCache&&c.source==="server"?f.reject(new Ae(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new Dx(l,h,{includeMetadataChanges:!0,ua:!0});return Rx(o,p)}(await Nm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t,e,n){if(!n)throw new Ae(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O7(t,e,n,r){if(e===!0&&r===!0)throw new Ae(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XC(t){if(!Me.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QC(t){if(Me.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ey(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ey(t);throw new Ae(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U8;switch(r.type){case"firstParty":return new W8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YC.get(n);r&&(Te("ComponentProvider","Removing Datastore"),YC.delete(n),r.terminate())}(this),Promise.resolve()}}function k7(t,e,n,r={}){var i;const o=(t=vr(t,ty))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Bn.MOCK_USER;else{l=Wj(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ae(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Bn(f)}t._authCredentials=new B8(new VL(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Ba extends ta{constructor(e,n,r){super(e,n,Wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Me(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function ht(t,e,...n){if(t=lt(t),U$("collection","path",e),t instanceof ty){const r=kt.fromString(e,...n);return QC(r),new Ba(t,null,r)}{if(!(t instanceof Hn||t instanceof Ba))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return QC(r),new Ba(t.firestore,null,r)}}function Fo(t,e,...n){if(t=lt(t),arguments.length===1&&(e=UL.newId()),U$("doc","path",e),t instanceof ty){const r=kt.fromString(e,...n);return XC(r),new Hn(t,null,new Me(r))}{if(!(t instanceof Hn||t instanceof Ba))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return XC(r),new Hn(t.firestore,t instanceof Ba?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new S$(this,"async_queue_retry"),this.fu=()=>{const r=$_();r&&Te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=$_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=$_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new $o;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!dc(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Ho("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Ox.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&qe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function eO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Go extends ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZC(e),this._firestoreClient=void 0,await e}}}function $r(t,e){const n=typeof t=="object"?t:Jd(),r=typeof t=="string"?t:"(default)",i=ns(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ZS("firestore");o&&k7(i,...o)}return i}function ny(t){if(t._terminated)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||R7(t),t._firestoreClient}function R7(t){var e,n,r;const i=t._freezeSettings(),o=function(l,c,f,h){return new aW(l,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,V$(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new T7(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(Dn.fromBase64String(e))}catch(n){throw new Ae(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dl(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=/^__.*__$/;class M7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new rh(e,this.data,n,this.fieldTransforms)}}class B${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function q$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class Vx{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Vx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Mm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(q$(this.Mu)&&N7.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class D7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qg(e)}$u(e,n,r,i=!1){return new Vx({Mu:e,methodName:n,Ku:r,path:Nn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oy(t){const e=t._freezeSettings(),n=Qg(t._databaseId);return new D7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z$(t,e,n,r,i,o={}){const a=t.$u(o.merge||o.mergeFields?2:0,e,n,i);Bx("Data must be an object, but it was:",a,r);const l=W$(r,a);let c,f;if(o.merge)c=new Dr(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const y=_E(e,p,n);if(!a.contains(y))throw new Ae(fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);K$(h,y)||h.push(y)}c=new Dr(h),f=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=a.fieldTransforms;return new M7(new gr(l),c,f)}class ay extends iy{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ay}}class Ux extends iy{_toFieldTransform(e){return new kW(e.path,new sd)}isEqual(e){return e instanceof Ux}}function j7(t,e,n,r){const i=t.$u(1,e,n);Bx("Data must be an object, but it was:",i,r);const o=[],a=gr.empty();is(r,(c,f)=>{const h=qx(e,c,n);f=lt(f);const p=i.Bu(h);if(f instanceof ay)o.push(h);else{const y=sh(f,p);y!=null&&(o.push(h),a.set(h,y))}});const l=new Dr(o);return new B$(a,l,i.fieldTransforms)}function L7(t,e,n,r,i,o){const a=t.$u(1,e,n),l=[_E(e,r,n)],c=[i];if(o.length%2!=0)throw new Ae(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)l.push(_E(e,o[y])),c.push(o[y+1]);const f=[],h=gr.empty();for(let y=l.length-1;y>=0;--y)if(!K$(f,l[y])){const _=l[y];let w=c[y];w=lt(w);const E=a.Bu(_);if(w instanceof ay)f.push(_);else{const v=sh(w,E);v!=null&&(f.push(_),h.set(_,v))}}const p=new Dr(f);return new B$(h,p,a.fieldTransforms)}function $7(t,e,n,r=!1){return sh(n,t.$u(r?4:3,e))}function sh(t,e){if(H$(t=lt(t)))return Bx("Unsupported field value:",e,t),W$(t,e);if(t instanceof iy)return function(r,i){if(!q$(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const l of r){let c=sh(l,i.ku(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=hn.fromDate(r);return{timestampValue:Cm(i.serializer,o)}}if(r instanceof hn){const o=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cm(i.serializer,o)}}if(r instanceof $x)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dl)return{bytesValue:h$(i.serializer,r._byteString)};if(r instanceof Hn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ex(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fx)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.qu("VectorValues must only contain numeric values.");return vx(l.serializer,c)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${ey(r)}`)}(t,e)}function W$(t,e){const n={};return BL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,(r,i)=>{const o=sh(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function H$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof $x||t instanceof Dl||t instanceof Hn||t instanceof iy||t instanceof Fx)}function Bx(t,e,n){if(!H$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ey(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function _E(t,e,n){if((e=lt(e))instanceof ry)return e._internalPath;if(typeof e=="string")return qx(t,e);throw Mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const F7=new RegExp("[~\\*/\\[\\]]");function qx(t,e,n){if(e.search(F7)>=0)throw Mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ry(...e.split("."))._internalPath}catch{throw Mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mm(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Ae(fe.INVALID_ARGUMENT,l+t+c)}function K$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V7 extends G${data(){return super.data()}}function sy(t,e){return typeof e=="string"?qx(t,e):e instanceof ry?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zx{}class Wx extends zx{}function tn(t,e,...n){let r=[];e instanceof zx&&r.push(e),r=r.concat(n),function(o){const a=o.filter(c=>c instanceof Hx).length,l=o.filter(c=>c instanceof uy).length;if(a>1||a>0&&l>0)throw new Ae(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uy extends Wx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uy(e,n,r)}_apply(e){const n=this._parse(e);return X$(e._query,n),new ta(e.firestore,e.converter,cE(e._query,n))}_parse(e){const n=oy(e.firestore);return function(o,a,l,c,f,h,p){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){rO(p,h);const _=[];for(const w of p)_.push(nO(c,o,w));y={arrayValue:{values:_}}}else y=nO(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||rO(p,h),y=$7(l,a,p,h==="in"||h==="not-in");return nn.create(f,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sn(t,e,n){const r=e,i=sy("where",t);return uy._create(i,r,n)}class Hx extends zx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const l=o.getFlattenedFilters();for(const c of l)X$(a,c),a=cE(a,c)}(e._query,n),new ta(e.firestore,e.converter,cE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kx extends Wx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kx(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ad(o,a)}(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new hc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function tO(t,e="asc"){const n=e,r=sy("orderBy",t);return Kx._create(r,n)}class Gx extends Wx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Gx(e,n,r)}_apply(e){return new ta(e.firestore,e.converter,Im(e._query,this._limit,this._limitType))}}function U7(t){return Gx._create("limit",t,"F")}function nO(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QL(e)&&n.indexOf("/")!==-1)throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!Me.isDocumentKey(r))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bC(t,new Me(r))}if(n instanceof Hn)return bC(t,n._key);throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ey(n)}.`)}function rO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X$(t,e){const n=function(i,o){for(const a of i)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ae(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B7{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return is(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Yt(a.doubleValue));return new Fx(o)}convertGeoPoint(e){return new $x(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const n=Ya(e);return new hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);pt(_$(r));const i=new id(r.get(1),r.get(3)),o=new Me(r.popFirst(5));return i.isEqual(n)||Ho(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J$ extends G${constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gm extends J${data(e={}){return super.data(e)}}class Z${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Df(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gm(this._firestore,this._userDataWriter,r.key,r,new Df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new gm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Df(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new gm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Df(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:q7(l.type),doc:c,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function q7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){t=vr(t,Hn);const e=vr(t.firestore,Go);return P7(ny(e),t._key).then(n=>eF(e,t,n))}class Yx extends B7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function Ot(t){t=vr(t,ta);const e=vr(t.firestore,Go),n=ny(e),r=new Yx(e);return Y$(t._query),C7(n,t._query).then(i=>new Z$(e,r,t,i))}function z7(t,e,n){t=vr(t,Hn);const r=vr(t.firestore,Go),i=Q$(t.converter,e);return fy(r,[z$(oy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ei.none())])}function Za(t,e,n,...r){t=vr(t,Hn);const i=vr(t.firestore,Go),o=oy(i);let a;return a=typeof(e=lt(e))=="string"||e instanceof ry?L7(o,"updateDoc",t._key,e,n,r):j7(o,"updateDoc",t._key,e),fy(i,[a.toMutation(t._key,ei.exists(!0))])}function W7(t){return fy(vr(t.firestore,Go),[new _x(t._key,ei.none())])}function cy(t,e){const n=vr(t.firestore,Go),r=Fo(t),i=Q$(t.converter,e);return fy(n,[z$(oy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then(()=>r)}function wE(t,...e){var n,r,i;t=lt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||eO(e[a])||(o=e[a],a++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eO(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,f,h;if(t instanceof Hn)f=vr(t.firestore,Go),h=Wg(t._key.path),c={next:p=>{e[a]&&e[a](eF(f,t,p))},error:e[a+1],complete:e[a+2]};else{const p=vr(t,ta);f=vr(p.firestore,Go),h=p._query;const y=new Yx(f);c={next:_=>{e[a]&&e[a](new Z$(f,y,p,_))},error:e[a+1],complete:e[a+2]},Y$(t._query)}return function(y,_,w,E){const v=new Lx(E),I=new Dx(_,v,w);return y.asyncQueue.enqueueAndForget(async()=>Rx(await Nm(y),I)),()=>{v.eu(),y.asyncQueue.enqueueAndForget(async()=>Nx(await Nm(y),I))}}(ny(f),h,l,c)}function fy(t,e){return function(r,i){const o=new $o;return r.asyncQueue.enqueueAndForget(async()=>g7(await I7(r),i,o)),o.promise}(ny(t),e)}function eF(t,e,n){const r=n.docs.get(e._key),i=new Yx(t);return new J$(t,i,e._key,r,new Df(n.hasPendingWrites,n.fromCache),e.converter)}function Xx(){return new Ux("serverTimestamp")}(function(e,n=!0){(function(i){cc=i})(mu),ii(new jr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Go(new q8(r.getProvider("auth-internal")),new K8(r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ae(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(f.options.projectId,h)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Wn(mC,"4.7.5",e),Wn(mC,"4.7.5","esm2017")})();const H7=()=>{const t=ts(),[e,n]=U.useState(null),[r,i]=U.useState(null),[o,a]=U.useState(!1),[l,c]=U.useState([]),[f,h]=U.useState([]),[p,y]=U.useState(null);U.useState(!1);const[_,w]=U.useState(0),[E,v]=U.useState(!0),I=Fi(),A=$r();U.useEffect(()=>{const C=I.onAuthStateChanged(async K=>{if(n(K),v(!0),K){const Z=K.email,re=await R(Z);i(re),t("/dashboard",{state:{userData:re}})}v(!1)});return(async()=>{try{if("NDEFReader"in window){const K=await window.NDEFReader;K&&(K.abort(),console.log("Existing NFC reader cleaned up"))}}catch(K){console.error("Error cleaning up NFC reader:",K)}})(),()=>{C(),p&&p.abort()}},[]),U.useEffect(()=>{if(e){const C=ht(A,"Messages"),W=wE(tn(C,Sn("sendTo","==",e.email),Sn("read","==",!1)),K=>{w(K.docs.length)},K=>{console.error("Error listening to messages:",K)});return()=>W()}},[e,A]),U.useEffect(()=>{(async()=>{try{const K=(await Ot(ht(A,"RegisteredTeacher"))).docs.map(Q=>Q.data().name).slice(0,5);c(K);const re=(await Ot(ht(A,"RegisteredStudent"))).docs.map(Q=>Q.data().name).slice(0,5);h(re)}catch(W){console.error("Error fetching registered users:",W)}})()},[A]);const R=async C=>{try{const W=tn(ht(A,"RegisteredAdmin"),Sn("email","==",C)),K=await Ot(W);if(!K.empty)return K.docs[0].data();const Z=tn(ht(A,"RegisteredTeacher"),Sn("email","==",C)),re=await Ot(Z);if(!re.empty)return re.docs[0].data();const Q=tn(ht(A,"RegisteredStudent"),Sn("email","==",C)),X=await Ot(Q);return X.empty?null:X.docs[0].data()}catch(W){return console.error("Error fetching user data:",W),null}},j=()=>{r&&(t("/dashboard/create-event",{state:{userData:r}}),a(!1))},O=()=>{a(!1),t("/dashboard",{state:{userData:r}})},D=()=>{a(!1),t("/dashboard/file-manager",{state:{userData:r}})},P=()=>{a(!o)},k=async()=>{try{p&&p.abort(),await td(I),console.log("User signed out successfully"),t("/login")}catch(C){console.error("Error signing out:",C)}},M=()=>S.jsx(Jr,{to:"/dashboard/request-message",className:_e.navLink,onClick:()=>a(!1),children:S.jsxs("div",{className:_e.navLinkWithBadge,children:[S.jsx(JS,{size:20}),S.jsx("span",{children:"Mailbox"}),_>0&&S.jsx("span",{className:_e.messageBadge,children:_})]})}),F=(r==null?void 0:r.position)==="Student",L=(r==null?void 0:r.position)==="Teacher",V=(r==null?void 0:r.position)==="Admin";return E?S.jsx("div",{className:_e.loadingContainer,children:S.jsx(NP,{text:"Loading dashboard...",size:"large"})}):!r&&!E?S.jsx("div",{className:_e.loadingContainer,children:S.jsx(NP,{text:"Loading dashboard...",size:"large"})}):S.jsxs(S.Fragment,{children:[S.jsx("button",{className:_e.hamburgerBtn,onClick:P,children:o?S.jsx(Xd,{size:24}):S.jsx(jj,{size:24})}),S.jsxs("div",{className:`${_e.sidebar} ${o?_e.sidebarOpen:""}`,children:[S.jsx("div",{className:_e.profileSection,children:e&&r&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:_e.avatar,children:S.jsx("img",{src:e.photoURL||r.selfieUrl,alt:"Profile"})}),S.jsxs("div",{className:_e.userInfo,children:[S.jsx("h3",{children:r.name}),S.jsx("p",{children:e.email}),S.jsx("br",{}),S.jsx("span",{children:r.position})]})]})}),S.jsx("nav",{className:_e.navigation,children:S.jsxs("ul",{className:_e.navList,children:[S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{className:_e.navLink,onClick:O,children:[S.jsx(q6,{size:20}),S.jsx("span",{children:"Dashboard"})]})}),F?S.jsxs(S.Fragment,{children:[S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(gf,{size:20}),S.jsx("span",{children:"Event Attendance"})]})}),S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(gf,{size:20}),S.jsx("span",{children:"Room Attendance"})]})}),S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(gf,{size:20}),S.jsx("span",{children:"Membership Attendance"})]})}),(F||L||V)&&S.jsx(M,{})]}):L?S.jsxs(S.Fragment,{children:[S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{onClick:j,className:_e.navLink,style:{cursor:"pointer"},children:[S.jsx(Y1,{size:20}),S.jsx("span",{children:"Create Event"})]})}),S.jsxs(Jr,{to:"/dashboard/event-list",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(MP,{size:20}),S.jsx("span",{children:"Event List"})]}),S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(gf,{size:20}),S.jsx("span",{children:"Archive"})]})}),S.jsxs("li",{className:_e.navItem,children:[S.jsxs(Jr,{to:"/dashboard/registered-students",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(Na,{size:20}),S.jsx("span",{children:"Registered Students"})]}),S.jsx("ul",{className:_e.dropdown,children:f.map((C,W)=>S.jsx("li",{className:_e.dropdownItem,children:C},W))})]}),(F||L||V)&&S.jsx(M,{}),S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{className:_e.navLink,onClick:D,children:[S.jsx(jP,{size:20}),S.jsx("span",{children:"File Manager"})]})})]}):S.jsxs(S.Fragment,{children:[S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{onClick:j,className:_e.navLink,style:{cursor:"pointer"},children:[S.jsx(Y1,{size:20}),S.jsx("span",{children:"Create Event"})]})}),S.jsxs(Jr,{to:"/dashboard/event-list",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(MP,{size:20}),S.jsx("span",{children:"Event List"})]}),S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(gf,{size:20}),S.jsx("span",{children:"Archive"})]})}),(F||L||V)&&S.jsx(M,{}),S.jsxs("li",{className:_e.navItem,children:[S.jsxs(Jr,{to:"/dashboard/registered-students",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(Na,{size:20}),S.jsx("span",{children:"Registered Students"})]}),S.jsx("ul",{className:_e.dropdown,children:f.map((C,W)=>S.jsx("li",{className:_e.dropdownItem,children:C},W))})]}),S.jsxs("li",{className:_e.navItem,children:[S.jsxs(Jr,{to:"/dashboard/registered-teachers",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(Na,{size:20}),S.jsx("span",{children:"Registered Teacher"})]}),S.jsx("ul",{className:_e.dropdown,children:l.map((C,W)=>S.jsx("li",{className:_e.dropdownItem,children:C},W))})]}),S.jsx("li",{className:_e.navItem,children:S.jsxs(Jr,{to:"/dashboard/teacher-registration",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(Na,{size:20}),S.jsx("span",{children:"Teacher Registration"})]})}),S.jsx("li",{className:_e.navItem,children:S.jsxs(Jr,{to:"/dashboard/student-registration",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(Na,{size:20}),S.jsx("span",{children:"Student Registration"})]})}),S.jsx("li",{className:_e.navItem,children:S.jsxs(Jr,{to:"/dashboard/nfc-reader",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(DP,{size:20}),S.jsx("span",{children:"NFC Reader"})]})}),S.jsx("li",{className:_e.navItem,children:S.jsxs(Jr,{to:"/dashboard/nfc-scanner",className:_e.navLink,onClick:()=>a(!1),children:[S.jsx(DP,{size:20}),S.jsx("span",{children:"NFC Scanner"})]})}),S.jsx("li",{className:_e.navItem,children:S.jsxs("div",{className:_e.navLink,onClick:D,children:[S.jsx(jP,{size:20}),S.jsx("span",{children:"File Manager"})]})})]})]})}),S.jsxs("button",{className:_e.logoutBtn,onClick:k,children:[S.jsx(z6,{size:20}),S.jsx("span",{children:"Logout"})]})]}),o&&S.jsx("div",{className:_e.overlay,onClick:P})]})};var K7="firebase",G7="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(K7,G7,"app");function tF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ut(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tF(t))&&(r&&(r+=" "),r+=e);return r}var V_,iO;function _r(){if(iO)return V_;iO=1;var t=Array.isArray;return V_=t,V_}var U_,oO;function nF(){if(oO)return U_;oO=1;var t=typeof Np=="object"&&Np&&Np.Object===Object&&Np;return U_=t,U_}var B_,aO;function lo(){if(aO)return B_;aO=1;var t=nF(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return B_=n,B_}var q_,sO;function uh(){if(sO)return q_;sO=1;var t=lo(),e=t.Symbol;return q_=e,q_}var z_,uO;function Y7(){if(uO)return z_;uO=1;var t=uh(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var l=n.call(a,i),c=a[i];try{a[i]=void 0;var f=!0}catch{}var h=r.call(a);return f&&(l?a[i]=c:delete a[i]),h}return z_=o,z_}var W_,lO;function X7(){if(lO)return W_;lO=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return W_=n,W_}var H_,cO;function na(){if(cO)return H_;cO=1;var t=uh(),e=Y7(),n=X7(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return H_=a,H_}var K_,fO;function ra(){if(fO)return K_;fO=1;function t(e){return e!=null&&typeof e=="object"}return K_=t,K_}var G_,dO;function mc(){if(dO)return G_;dO=1;var t=na(),e=ra(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return G_=r,G_}var Y_,hO;function Qx(){if(hO)return Y_;hO=1;var t=_r(),e=mc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Y_=i,Y_}var X_,pO;function as(){if(pO)return X_;pO=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return X_=t,X_}var Q_,mO;function Jx(){if(mO)return Q_;mO=1;var t=na(),e=as(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return Q_=a,Q_}var J_,gO;function Q7(){if(gO)return J_;gO=1;var t=lo(),e=t["__core-js_shared__"];return J_=e,J_}var Z_,yO;function J7(){if(yO)return Z_;yO=1;var t=Q7(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Z_=n,Z_}var e0,vO;function rF(){if(vO)return e0;vO=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return e0=n,e0}var t0,_O;function Z7(){if(_O)return t0;_O=1;var t=Jx(),e=J7(),n=as(),r=rF(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,c=a.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?h:o;return _.test(r(y))}return t0=p,t0}var n0,wO;function eK(){if(wO)return n0;wO=1;function t(e,n){return e==null?void 0:e[n]}return n0=t,n0}var r0,bO;function vu(){if(bO)return r0;bO=1;var t=Z7(),e=eK();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return r0=n,r0}var i0,EO;function dy(){if(EO)return i0;EO=1;var t=vu(),e=t(Object,"create");return i0=e,i0}var o0,SO;function tK(){if(SO)return o0;SO=1;var t=dy();function e(){this.__data__=t?t(null):{},this.size=0}return o0=e,o0}var a0,xO;function nK(){if(xO)return a0;xO=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return a0=t,a0}var s0,TO;function rK(){if(TO)return s0;TO=1;var t=dy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(t){var l=a[o];return l===e?void 0:l}return r.call(a,o)?a[o]:void 0}return s0=i,s0}var u0,AO;function iK(){if(AO)return u0;AO=1;var t=dy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return u0=r,u0}var l0,IO;function oK(){if(IO)return l0;IO=1;var t=dy(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return l0=n,l0}var c0,PO;function aK(){if(PO)return c0;PO=1;var t=tK(),e=nK(),n=rK(),r=iK(),i=oK();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,c0=o,c0}var f0,CO;function sK(){if(CO)return f0;CO=1;function t(){this.__data__=[],this.size=0}return f0=t,f0}var d0,OO;function Zx(){if(OO)return d0;OO=1;function t(e,n){return e===n||e!==e&&n!==n}return d0=t,d0}var h0,kO;function hy(){if(kO)return h0;kO=1;var t=Zx();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return h0=e,h0}var p0,RO;function uK(){if(RO)return p0;RO=1;var t=hy(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var l=o.length-1;return a==l?o.pop():n.call(o,a,1),--this.size,!0}return p0=r,p0}var m0,NO;function lK(){if(NO)return m0;NO=1;var t=hy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return m0=e,m0}var g0,MO;function cK(){if(MO)return g0;MO=1;var t=hy();function e(n){return t(this.__data__,n)>-1}return g0=e,g0}var y0,DO;function fK(){if(DO)return y0;DO=1;var t=hy();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return y0=e,y0}var v0,jO;function py(){if(jO)return v0;jO=1;var t=sK(),e=uK(),n=lK(),r=cK(),i=fK();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,v0=o,v0}var _0,LO;function eT(){if(LO)return _0;LO=1;var t=vu(),e=lo(),n=t(e,"Map");return _0=n,_0}var w0,$O;function dK(){if($O)return w0;$O=1;var t=aK(),e=py(),n=eT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return w0=r,w0}var b0,FO;function hK(){if(FO)return b0;FO=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return b0=t,b0}var E0,VO;function my(){if(VO)return E0;VO=1;var t=hK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return E0=e,E0}var S0,UO;function pK(){if(UO)return S0;UO=1;var t=my();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return S0=e,S0}var x0,BO;function mK(){if(BO)return x0;BO=1;var t=my();function e(n){return t(this,n).get(n)}return x0=e,x0}var T0,qO;function gK(){if(qO)return T0;qO=1;var t=my();function e(n){return t(this,n).has(n)}return T0=e,T0}var A0,zO;function yK(){if(zO)return A0;zO=1;var t=my();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return A0=e,A0}var I0,WO;function tT(){if(WO)return I0;WO=1;var t=dK(),e=pK(),n=mK(),r=gK(),i=yK();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,I0=o,I0}var P0,HO;function iF(){if(HO)return P0;HO=1;var t=tT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,l=i?i.apply(this,a):a[0],c=o.cache;if(c.has(l))return c.get(l);var f=r.apply(this,a);return o.cache=c.set(l,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,P0=n,P0}var C0,KO;function vK(){if(KO)return C0;KO=1;var t=iF(),e=500;function n(r){var i=t(r,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return C0=n,C0}var O0,GO;function _K(){if(GO)return O0;GO=1;var t=vK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,l,c,f){o.push(c?f.replace(n,"$1"):l||a)}),o});return O0=r,O0}var k0,YO;function nT(){if(YO)return k0;YO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return k0=t,k0}var R0,XO;function wK(){if(XO)return R0;XO=1;var t=uh(),e=nT(),n=_r(),r=mc(),i=1/0,o=t?t.prototype:void 0,a=o?o.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return a?a.call(c):"";var f=c+"";return f=="0"&&1/c==-i?"-0":f}return R0=l,R0}var N0,QO;function oF(){if(QO)return N0;QO=1;var t=wK();function e(n){return n==null?"":t(n)}return N0=e,N0}var M0,JO;function aF(){if(JO)return M0;JO=1;var t=_r(),e=Qx(),n=_K(),r=oF();function i(o,a){return t(o)?o:e(o,a)?[o]:n(r(o))}return M0=i,M0}var D0,ZO;function gy(){if(ZO)return D0;ZO=1;var t=mc(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return D0=n,D0}var j0,ek;function rT(){if(ek)return j0;ek=1;var t=aF(),e=gy();function n(r,i){i=t(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[e(i[o++])];return o&&o==a?r:void 0}return j0=n,j0}var L0,tk;function sF(){if(tk)return L0;tk=1;var t=rT();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return L0=e,L0}var bK=sF();const ti=At(bK);var $0,nk;function EK(){if(nk)return $0;nk=1;function t(e){return e==null}return $0=t,$0}var SK=EK();const Ze=At(SK);var F0,rk;function xK(){if(rk)return F0;rk=1;var t=na(),e=_r(),n=ra(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return F0=i,F0}var TK=xK();const lh=At(TK);var AK=Jx();const Qe=At(AK);var IK=as();const gc=At(IK);var V0={exports:{}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik;function PK(){if(ik)return ft;ik=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function E(v){if(typeof v=="object"&&v!==null){var I=v.$$typeof;switch(I){case t:switch(v=v.type,v){case n:case i:case r:case f:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case a:case c:case y:case p:case o:return v;default:return I}}case e:return I}}}return ft.ContextConsumer=a,ft.ContextProvider=o,ft.Element=t,ft.ForwardRef=c,ft.Fragment=n,ft.Lazy=y,ft.Memo=p,ft.Portal=e,ft.Profiler=i,ft.StrictMode=r,ft.Suspense=f,ft.SuspenseList=h,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(v){return E(v)===a},ft.isContextProvider=function(v){return E(v)===o},ft.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},ft.isForwardRef=function(v){return E(v)===c},ft.isFragment=function(v){return E(v)===n},ft.isLazy=function(v){return E(v)===y},ft.isMemo=function(v){return E(v)===p},ft.isPortal=function(v){return E(v)===e},ft.isProfiler=function(v){return E(v)===i},ft.isStrictMode=function(v){return E(v)===r},ft.isSuspense=function(v){return E(v)===f},ft.isSuspenseList=function(v){return E(v)===h},ft.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===i||v===r||v===f||v===h||v===_||typeof v=="object"&&v!==null&&(v.$$typeof===y||v.$$typeof===p||v.$$typeof===o||v.$$typeof===a||v.$$typeof===c||v.$$typeof===w||v.getModuleId!==void 0)},ft.typeOf=E,ft}var ok;function CK(){return ok||(ok=1,V0.exports=PK()),V0.exports}var OK=CK(),U0,ak;function uF(){if(ak)return U0;ak=1;var t=na(),e=ra(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return U0=r,U0}var B0,sk;function kK(){if(sk)return B0;sk=1;var t=uF();function e(n){return t(n)&&n!=+n}return B0=e,B0}var RK=kK();const ch=At(RK);var NK=uF();const MK=At(NK);var Ri=function(e){return e===0?0:e>0?1:-1},Gs=function(e){return lh(e)&&e.indexOf("%")===e.length-1},Se=function(e){return MK(e)&&!ch(e)},dn=function(e){return Se(e)||lh(e)},DK=0,fh=function(e){var n=++DK;return"".concat(e||"").concat(n)},su=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&!lh(e))return r;var o;if(Gs(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ch(o)&&(o=r),i&&o>n&&(o=n),o},yl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},jK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ci=function(e,n){return Se(e)&&Se(n)?function(r){return e+r*(n-e)}:function(){return n}};function Dm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ti(r,e))===n})}function Tl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function bE(t){"@babel/helpers - typeof";return bE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bE(t)}var LK=["viewBox","children"],$K=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uk=["points","pathLength"],q0={svg:LK,polygon:uk,polyline:uk},iT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!gc(r))return null;var i={};return Object.keys(r).forEach(function(o){iT.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},FK=function(e,n,r){return function(i){return e(n,r,i),null}},Lm=function(e,n,r){if(!gc(e)||bE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];iT.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=FK(a,n,r))}),i},VK=["children"],UK=["children"];function lk(t,e){if(t==null)return{};var n=BK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EE(t){"@babel/helpers - typeof";return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EE(t)}var ck={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fk=null,z0=null,oT=function t(e){if(e===fk&&Array.isArray(z0))return z0;var n=[];return U.Children.forEach(e,function(r){Ze(r)||(OK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),z0=n,fk=e,n};function ni(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vo(i)}):r=[Vo(e)],oT(t).forEach(function(i){var o=ti(i,"type.displayName")||ti(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Nr(t,e){var n=ni(t,e);return n&&n[0]}var dk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Se(r)||r<=0||!Se(i)||i<=0)},qK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zK=function(e){return e&&e.type&&lh(e.type)&&qK.indexOf(e.type)>=0},WK=function(e){return e&&EE(e)==="object"&&"clipDot"in e},HK=function(e,n,r,i){var o,a=(o=q0==null?void 0:q0[i])!==null&&o!==void 0?o:[];return!Qe(e)&&(i&&a.includes(n)||$K.includes(n))||r&&iT.includes(n)},it=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!gc(i))return null;var o={};return Object.keys(i).forEach(function(a){var l;HK((l=i)===null||l===void 0?void 0:l[a],a,n,r)&&(o[a]=i[a])}),o},SE=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return hk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!hk(o,a))return!1}return!0},hk=function(e,n){if(Ze(e)&&Ze(n))return!0;if(!Ze(e)&&!Ze(n)){var r=e.props||{},i=r.children,o=lk(r,VK),a=n.props||{},l=a.children,c=lk(a,UK);return i&&l?Tl(o,c)&&SE(i,l):!i&&!l?Tl(o,c):!1}return!1},pk=function(e,n){var r=[],i={};return oT(e).forEach(function(o,a){if(zK(o))r.push(o);else if(o){var l=Vo(o.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var p=f(o,l,a);r.push(p),i[l]=!0}}}),r},KK=function(e){var n=e&&e.type;return n&&ck[n]?ck[n]:null},GK=function(e,n){return oT(n).indexOf(e)},YK=["children","width","height","viewBox","className","style","title","desc"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(this,arguments)}function XK(t,e){if(t==null)return{};var n=QK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,l=t.title,c=t.desc,f=XK(t,YK),h=i||{width:n,height:r,x:0,y:0},p=ut("recharts-surface",o);return ee.createElement("svg",xE({},it(f,!0,"svg"),{className:p,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),ee.createElement("title",null,l),ee.createElement("desc",null,c),e)}var JK=["children","className"];function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(this,arguments)}function ZK(t,e){if(t==null)return{};var n=eG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xt=ee.forwardRef(function(t,e){var n=t.children,r=t.className,i=ZK(t,JK),o=ut("recharts-layer",r);return ee.createElement("g",AE({className:o},it(i,!0),{ref:e}),n)}),eu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},W0,mk;function tG(){if(mk)return W0;mk=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+n];return a}return W0=t,W0}var H0,gk;function nG(){if(gk)return H0;gk=1;var t=tG();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return H0=e,H0}var K0,yk;function lF(){if(yk)return K0;yk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+t+i+o+"]");function c(f){return l.test(f)}return K0=c,K0}var G0,vk;function rG(){if(vk)return G0;vk=1;function t(e){return e.split("")}return G0=t,G0}var Y0,_k;function iG(){if(_k)return Y0;_k=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",w=f+"?",E="["+o+"]?",v="(?:"+_+"(?:"+[h,p,y].join("|")+")"+E+w+")*",I=E+w+v,A="(?:"+[h+l+"?",l,p,y,a].join("|")+")",R=RegExp(c+"(?="+c+")|"+A+I,"g");function j(O){return O.match(R)||[]}return Y0=j,Y0}var X0,wk;function oG(){if(wk)return X0;wk=1;var t=rG(),e=lF(),n=iG();function r(i){return e(i)?n(i):t(i)}return X0=r,X0}var Q0,bk;function aG(){if(bk)return Q0;bk=1;var t=nG(),e=lF(),n=oG(),r=oF();function i(o){return function(a){a=r(a);var l=e(a)?n(a):void 0,c=l?l[0]:a.charAt(0),f=l?t(l,1).join(""):a.slice(1);return c[o]()+f}}return Q0=i,Q0}var J0,Ek;function sG(){if(Ek)return J0;Ek=1;var t=aG(),e=t("toUpperCase");return J0=e,J0}var uG=sG();const yy=At(uG);function Tt(t){return function(){return t}}const cF=Math.cos,$m=Math.sin,Vi=Math.sqrt,Fm=Math.PI,vy=2*Fm,IE=Math.PI,PE=2*IE,qs=1e-6,lG=PE-qs;function fF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fF;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class fG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fF:cG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,c=r-e,f=i-n,h=a-e,p=l-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>qs)if(!(Math.abs(p*c-f*h)>qs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-a,w=i-l,E=c*c+f*f,v=_*_+w*w,I=Math.sqrt(E),A=Math.sqrt(y),R=o*Math.tan((IE-Math.acos((E+y-v)/(2*I*A)))/2),j=R/A,O=R/I;Math.abs(j-1)>qs&&this._append`L${e+j*h},${n+j*p}`,this._append`A${o},${o},0,0,${+(p*_>h*w)},${this._x1=e+O*c},${this._y1=n+O*f}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,p=1^a,y=a?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>qs||Math.abs(this._y1-h)>qs)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%PE+PE),y>lG?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:y>qs&&this._append`A${r},${r},0,${+(y>=IE)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new fG(e)}function sT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dF(t){this._context=t}dF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _y(t){return new dF(t)}function hF(t){return t[0]}function pF(t){return t[1]}function mF(t,e){var n=Tt(!0),r=null,i=_y,o=null,a=aT(l);t=typeof t=="function"?t:t===void 0?hF:Tt(t),e=typeof e=="function"?e:e===void 0?pF:Tt(e);function l(c){var f,h=(c=sT(c)).length,p,y=!1,_;for(r==null&&(o=i(_=a())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(p,f,c),+e(p,f,c));if(_)return o=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Tt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Tt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Tt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function zp(t,e,n){var r=null,i=Tt(!0),o=null,a=_y,l=null,c=aT(f);t=typeof t=="function"?t:t===void 0?hF:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?pF:Tt(+n);function f(p){var y,_,w,E=(p=sT(p)).length,v,I=!1,A,R=new Array(E),j=new Array(E);for(o==null&&(l=a(A=c())),y=0;y<=E;++y){if(!(y<E&&i(v=p[y],y,p))===I)if(I=!I)_=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=y-1;w>=_;--w)l.point(R[w],j[w]);l.lineEnd(),l.areaEnd()}I&&(R[y]=+t(v,y,p),j[y]=+e(v,y,p),l.point(r?+r(v,y,p):R[y],n?+n(v,y,p):j[y]))}if(A)return l=null,A+""||null}function h(){return mF().defined(i).curve(a).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Tt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Tt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Tt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Tt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Tt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Tt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Tt(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,o!=null&&(l=a(o)),f):a},f.context=function(p){return arguments.length?(p==null?o=l=null:l=a(o=p),f):o},f}class gF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function dG(t){return new gF(t,!0)}function hG(t){return new gF(t,!1)}const uT={draw(t,e){const n=Vi(e/Fm);t.moveTo(n,0),t.arc(0,0,n,0,vy)}},pG={draw(t,e){const n=Vi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},yF=Vi(1/3),mG=yF*2,gG={draw(t,e){const n=Vi(e/mG),r=n*yF;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},yG={draw(t,e){const n=Vi(e),r=-n/2;t.rect(r,r,n,n)}},vG=.8908130915292852,vF=$m(Fm/10)/$m(7*Fm/10),_G=$m(vy/10)*vF,wG=-cF(vy/10)*vF,bG={draw(t,e){const n=Vi(e*vG),r=_G*n,i=wG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=vy*o/5,l=cF(a),c=$m(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Z0=Vi(3),EG={draw(t,e){const n=-Vi(e/(Z0*3));t.moveTo(0,n*2),t.lineTo(-Z0*n,-n),t.lineTo(Z0*n,-n),t.closePath()}},Yr=-.5,Xr=Vi(3)/2,CE=1/Vi(12),SG=(CE/2+1)*3,xG={draw(t,e){const n=Vi(e/SG),r=n/2,i=n*CE,o=r,a=n*CE+n,l=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(l,c),t.lineTo(Yr*r-Xr*i,Xr*r+Yr*i),t.lineTo(Yr*o-Xr*a,Xr*o+Yr*a),t.lineTo(Yr*l-Xr*c,Xr*l+Yr*c),t.lineTo(Yr*r+Xr*i,Yr*i-Xr*r),t.lineTo(Yr*o+Xr*a,Yr*a-Xr*o),t.lineTo(Yr*l+Xr*c,Yr*c-Xr*l),t.closePath()}};function TG(t,e){let n=null,r=aT(i);t=typeof t=="function"?t:Tt(t||uT),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Vm(){}function Um(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _F(t){this._context=t}_F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AG(t){return new _F(t)}function wF(t){this._context=t}wF.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IG(t){return new wF(t)}function bF(t){this._context=t}bF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PG(t){return new bF(t)}function EF(t){this._context=t}EF.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function CG(t){return new EF(t)}function Sk(t){return t<0?-1:1}function xk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(Sk(o)+Sk(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function Tk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ew(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,a-l*n,o,a)}function Bm(t){this._context=t}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ew(this,this._t0,Tk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ew(this,Tk(this,n=xk(this,t,e)),n);break;default:ew(this,this._t0,n=xk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function SF(t){this._context=new xF(t)}(SF.prototype=Object.create(Bm.prototype)).point=function(t,e){Bm.prototype.point.call(this,e,t)};function xF(t){this._context=t}xF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function OG(t){return new Bm(t)}function kG(t){return new SF(t)}function TF(t){this._context=t}TF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ak(t),i=Ak(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ak(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function RG(t){return new TF(t)}function wy(t,e){this._context=t,this._t=e}wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function NG(t){return new wy(t,.5)}function MG(t){return new wy(t,0)}function DG(t){return new wy(t,1)}function jl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,l=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function OE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jG(t,e){return t[e]}function LG(t){const e=[];return e.key=t,e}function $G(){var t=Tt([]),e=OE,n=jl,r=jG;function i(o){var a=Array.from(t.apply(this,arguments),LG),l,c=a.length,f=-1,h;for(const p of o)for(l=0,++f;l<c;++l)(a[l][f]=[0,+r(p,a[l].key,f,o)]).data=p;for(l=0,h=sT(e(a));l<c;++l)a[h[l]].index=l;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Tt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?OE:typeof o=="function"?o:Tt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??jl,i):n},i}function FG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}jl(t,e)}}function VG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}jl(t,e)}}function UG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var l=0,c=0,f=0;l<a;++l){for(var h=t[e[l]],p=h[r][1]||0,y=h[r-1][1]||0,_=(p-y)/2,w=0;w<l;++w){var E=t[e[w]],v=E[r][1]||0,I=E[r-1][1]||0;_+=v-I}c+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,jl(t,e)}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}var BG=["type","size","sizeType"];function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return e=zG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zG(t){var e=WG(t,"string");return cd(e)=="symbol"?e:e+""}function WG(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HG(t,e){if(t==null)return{};var n=KG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AF={symbolCircle:uT,symbolCross:pG,symbolDiamond:gG,symbolSquare:yG,symbolStar:bG,symbolTriangle:EG,symbolWye:xG},GG=Math.PI/180,YG=function(e){var n="symbol".concat(yy(e));return AF[n]||uT},XG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*GG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QG=function(e,n){AF["symbol".concat(yy(e))]=n},lT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,l=a===void 0?"area":a,c=HG(e,BG),f=Pk(Pk({},c),{},{type:r,size:o,sizeType:l}),h=function(){var v=YG(r),I=TG().type(v).size(XG(o,l,r));return I()},p=f.className,y=f.cx,_=f.cy,w=it(f,!0);return y===+y&&_===+_&&o===+o?ee.createElement("path",kE({},w,{className:ut("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};lT.registerSymbol=QG;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){fd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PF(r.key),r)}}function tY(t,e,n){return e&&eY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nY(t,e,n){return e=qm(e),rY(t,IF()?Reflect.construct(e,n||[],qm(t).constructor):e.apply(t,n))}function rY(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iY(t)}function iY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(t)}function oY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NE(t,e)}function fd(t,e,n){return e=PF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PF(t){var e=aY(t,"string");return Ll(e)=="symbol"?e:e+""}function aY(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qr=32,cT=function(t){function e(){return ZG(this,e),nY(this,e,arguments)}return oY(e,t),tY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Qr/2,a=Qr/6,l=Qr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return ee.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Qr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return ee.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Qr,"M").concat(2*l,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return ee.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Qr/8,"h").concat(Qr,"v").concat(Qr*3/4,"h").concat(-Qr,"z"),className:"recharts-legend-icon"});if(ee.isValidElement(r.legendIcon)){var f=JG({},r);return delete f.legendIcon,ee.cloneElement(r.legendIcon,f)}return ee.createElement(lT,{fill:c,cx:o,cy:o,size:Qr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Qr,height:Qr},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(_,w){var E=_.formatter||c,v=ut(fd(fd({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",_.inactive));if(_.type==="none")return null;var I=Qe(_.value)?null:_.value;eu(!Qe(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=_.inactive?f:_.color;return ee.createElement("li",RE({className:v,style:p,key:"legend-item-".concat(w)},Lm(r.props,_,w)),ee.createElement(TE,{width:a,height:a,viewBox:h,style:y},r.renderIcon(_)),ee.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E?E(I,_,w):I))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return ee.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(U.PureComponent);fd(cT,"displayName","Legend");fd(cT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tw,Ok;function sY(){if(Ok)return tw;Ok=1;var t=py();function e(){this.__data__=new t,this.size=0}return tw=e,tw}var nw,kk;function uY(){if(kk)return nw;kk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return nw=t,nw}var rw,Rk;function lY(){if(Rk)return rw;Rk=1;function t(e){return this.__data__.get(e)}return rw=t,rw}var iw,Nk;function cY(){if(Nk)return iw;Nk=1;function t(e){return this.__data__.has(e)}return iw=t,iw}var ow,Mk;function fY(){if(Mk)return ow;Mk=1;var t=py(),e=eT(),n=tT(),r=200;function i(o,a){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,a]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,a),this.size=l.size,this}return ow=i,ow}var aw,Dk;function CF(){if(Dk)return aw;Dk=1;var t=py(),e=sY(),n=uY(),r=lY(),i=cY(),o=fY();function a(l){var c=this.__data__=new t(l);this.size=c.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,aw=a,aw}var sw,jk;function dY(){if(jk)return sw;jk=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return sw=e,sw}var uw,Lk;function hY(){if(Lk)return uw;Lk=1;function t(e){return this.__data__.has(e)}return uw=t,uw}var lw,$k;function OF(){if($k)return lw;$k=1;var t=tT(),e=dY(),n=hY();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,lw=r,lw}var cw,Fk;function kF(){if(Fk)return cw;Fk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return cw=t,cw}var fw,Vk;function RF(){if(Vk)return fw;Vk=1;function t(e,n){return e.has(n)}return fw=t,fw}var dw,Uk;function NF(){if(Uk)return dw;Uk=1;var t=OF(),e=kF(),n=RF(),r=1,i=2;function o(a,l,c,f,h,p){var y=c&r,_=a.length,w=l.length;if(_!=w&&!(y&&w>_))return!1;var E=p.get(a),v=p.get(l);if(E&&v)return E==l&&v==a;var I=-1,A=!0,R=c&i?new t:void 0;for(p.set(a,l),p.set(l,a);++I<_;){var j=a[I],O=l[I];if(f)var D=y?f(O,j,I,l,a,p):f(j,O,I,a,l,p);if(D!==void 0){if(D)continue;A=!1;break}if(R){if(!e(l,function(P,k){if(!n(R,k)&&(j===P||h(j,P,c,f,p)))return R.push(k)})){A=!1;break}}else if(!(j===O||h(j,O,c,f,p))){A=!1;break}}return p.delete(a),p.delete(l),A}return dw=o,dw}var hw,Bk;function pY(){if(Bk)return hw;Bk=1;var t=lo(),e=t.Uint8Array;return hw=e,hw}var pw,qk;function mY(){if(qk)return pw;qk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return pw=t,pw}var mw,zk;function fT(){if(zk)return mw;zk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return mw=t,mw}var gw,Wk;function gY(){if(Wk)return gw;Wk=1;var t=uh(),e=pY(),n=Zx(),r=NF(),i=mY(),o=fT(),a=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",_="[object RegExp]",w="[object Set]",E="[object String]",v="[object Symbol]",I="[object ArrayBuffer]",A="[object DataView]",R=t?t.prototype:void 0,j=R?R.valueOf:void 0;function O(D,P,k,M,F,L,V){switch(k){case A:if(D.byteLength!=P.byteLength||D.byteOffset!=P.byteOffset)return!1;D=D.buffer,P=P.buffer;case I:return!(D.byteLength!=P.byteLength||!L(new e(D),new e(P)));case c:case f:case y:return n(+D,+P);case h:return D.name==P.name&&D.message==P.message;case _:case E:return D==P+"";case p:var C=i;case w:var W=M&a;if(C||(C=o),D.size!=P.size&&!W)return!1;var K=V.get(D);if(K)return K==P;M|=l,V.set(D,P);var Z=r(C(D),C(P),M,F,L,V);return V.delete(D),Z;case v:if(j)return j.call(D)==j.call(P)}return!1}return gw=O,gw}var yw,Hk;function MF(){if(Hk)return yw;Hk=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return yw=t,yw}var vw,Kk;function yY(){if(Kk)return vw;Kk=1;var t=MF(),e=_r();function n(r,i,o){var a=i(r);return e(r)?a:t(a,o(r))}return vw=n,vw}var _w,Gk;function vY(){if(Gk)return _w;Gk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,a=[];++r<i;){var l=e[r];n(l,r,e)&&(a[o++]=l)}return a}return _w=t,_w}var ww,Yk;function _Y(){if(Yk)return ww;Yk=1;function t(){return[]}return ww=t,ww}var bw,Xk;function wY(){if(Xk)return bw;Xk=1;var t=vY(),e=_Y(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(l){return r.call(a,l)}))}:e;return bw=o,bw}var Ew,Qk;function bY(){if(Qk)return Ew;Qk=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Ew=t,Ew}var Sw,Jk;function EY(){if(Jk)return Sw;Jk=1;var t=na(),e=ra(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Sw=r,Sw}var xw,Zk;function dT(){if(Zk)return xw;Zk=1;var t=EY(),e=ra(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return xw=o,xw}var jf={exports:{}},Tw,eR;function SY(){if(eR)return Tw;eR=1;function t(){return!1}return Tw=t,Tw}jf.exports;var tR;function DF(){return tR||(tR=1,function(t,e){var n=lo(),r=SY(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f}(jf,jf.exports)),jf.exports}var Aw,nR;function hT(){if(nR)return Aw;nR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Aw=n,Aw}var Iw,rR;function pT(){if(rR)return Iw;rR=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Iw=e,Iw}var Pw,iR;function xY(){if(iR)return Pw;iR=1;var t=na(),e=pT(),n=ra(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",w="[object String]",E="[object WeakMap]",v="[object ArrayBuffer]",I="[object DataView]",A="[object Float32Array]",R="[object Float64Array]",j="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",P="[object Uint8Array]",k="[object Uint8ClampedArray]",M="[object Uint16Array]",F="[object Uint32Array]",L={};L[A]=L[R]=L[j]=L[O]=L[D]=L[P]=L[k]=L[M]=L[F]=!0,L[r]=L[i]=L[v]=L[o]=L[I]=L[a]=L[l]=L[c]=L[f]=L[h]=L[p]=L[y]=L[_]=L[w]=L[E]=!1;function V(C){return n(C)&&e(C.length)&&!!L[t(C)]}return Pw=V,Pw}var Cw,oR;function jF(){if(oR)return Cw;oR=1;function t(e){return function(n){return e(n)}}return Cw=t,Cw}var Lf={exports:{}};Lf.exports;var aR;function TY(){return aR||(aR=1,function(t,e){var n=nF(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l}(Lf,Lf.exports)),Lf.exports}var Ow,sR;function LF(){if(sR)return Ow;sR=1;var t=xY(),e=jF(),n=TY(),r=n&&n.isTypedArray,i=r?e(r):t;return Ow=i,Ow}var kw,uR;function AY(){if(uR)return kw;uR=1;var t=bY(),e=dT(),n=_r(),r=DF(),i=hT(),o=LF(),a=Object.prototype,l=a.hasOwnProperty;function c(f,h){var p=n(f),y=!p&&e(f),_=!p&&!y&&r(f),w=!p&&!y&&!_&&o(f),E=p||y||_||w,v=E?t(f.length,String):[],I=v.length;for(var A in f)(h||l.call(f,A))&&!(E&&(A=="length"||_&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,I)))&&v.push(A);return v}return kw=c,kw}var Rw,lR;function IY(){if(lR)return Rw;lR=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Rw=e,Rw}var Nw,cR;function $F(){if(cR)return Nw;cR=1;function t(e,n){return function(r){return e(n(r))}}return Nw=t,Nw}var Mw,fR;function PY(){if(fR)return Mw;fR=1;var t=$F(),e=t(Object.keys,Object);return Mw=e,Mw}var Dw,dR;function CY(){if(dR)return Dw;dR=1;var t=IY(),e=PY(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&a.push(l);return a}return Dw=i,Dw}var jw,hR;function dh(){if(hR)return jw;hR=1;var t=Jx(),e=pT();function n(r){return r!=null&&e(r.length)&&!t(r)}return jw=n,jw}var Lw,pR;function by(){if(pR)return Lw;pR=1;var t=AY(),e=CY(),n=dh();function r(i){return n(i)?t(i):e(i)}return Lw=r,Lw}var $w,mR;function OY(){if(mR)return $w;mR=1;var t=yY(),e=wY(),n=by();function r(i){return t(i,n,e)}return $w=r,$w}var Fw,gR;function kY(){if(gR)return Fw;gR=1;var t=OY(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,l,c,f,h){var p=l&e,y=t(o),_=y.length,w=t(a),E=w.length;if(_!=E&&!p)return!1;for(var v=_;v--;){var I=y[v];if(!(p?I in a:r.call(a,I)))return!1}var A=h.get(o),R=h.get(a);if(A&&R)return A==a&&R==o;var j=!0;h.set(o,a),h.set(a,o);for(var O=p;++v<_;){I=y[v];var D=o[I],P=a[I];if(c)var k=p?c(P,D,I,a,o,h):c(D,P,I,o,a,h);if(!(k===void 0?D===P||f(D,P,l,c,h):k)){j=!1;break}O||(O=I=="constructor")}if(j&&!O){var M=o.constructor,F=a.constructor;M!=F&&"constructor"in o&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(j=!1)}return h.delete(o),h.delete(a),j}return Fw=i,Fw}var Vw,yR;function RY(){if(yR)return Vw;yR=1;var t=vu(),e=lo(),n=t(e,"DataView");return Vw=n,Vw}var Uw,vR;function NY(){if(vR)return Uw;vR=1;var t=vu(),e=lo(),n=t(e,"Promise");return Uw=n,Uw}var Bw,_R;function FF(){if(_R)return Bw;_R=1;var t=vu(),e=lo(),n=t(e,"Set");return Bw=n,Bw}var qw,wR;function MY(){if(wR)return qw;wR=1;var t=vu(),e=lo(),n=t(e,"WeakMap");return qw=n,qw}var zw,bR;function DY(){if(bR)return zw;bR=1;var t=RY(),e=eT(),n=NY(),r=FF(),i=MY(),o=na(),a=rF(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",_=a(t),w=a(e),E=a(n),v=a(r),I=a(i),A=o;return(t&&A(new t(new ArrayBuffer(1)))!=y||e&&A(new e)!=l||n&&A(n.resolve())!=f||r&&A(new r)!=h||i&&A(new i)!=p)&&(A=function(R){var j=o(R),O=j==c?R.constructor:void 0,D=O?a(O):"";if(D)switch(D){case _:return y;case w:return l;case E:return f;case v:return h;case I:return p}return j}),zw=A,zw}var Ww,ER;function jY(){if(ER)return Ww;ER=1;var t=CF(),e=NF(),n=gY(),r=kY(),i=DY(),o=_r(),a=DF(),l=LF(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function w(E,v,I,A,R,j){var O=o(E),D=o(v),P=O?h:i(E),k=D?h:i(v);P=P==f?p:P,k=k==f?p:k;var M=P==p,F=k==p,L=P==k;if(L&&a(E)){if(!a(v))return!1;O=!0,M=!1}if(L&&!M)return j||(j=new t),O||l(E)?e(E,v,I,A,R,j):n(E,v,P,I,A,R,j);if(!(I&c)){var V=M&&_.call(E,"__wrapped__"),C=F&&_.call(v,"__wrapped__");if(V||C){var W=V?E.value():E,K=C?v.value():v;return j||(j=new t),R(W,K,I,A,j)}}return L?(j||(j=new t),r(E,v,I,A,R,j)):!1}return Ww=w,Ww}var Hw,SR;function mT(){if(SR)return Hw;SR=1;var t=jY(),e=ra();function n(r,i,o,a,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,a,n,l)}return Hw=n,Hw}var Kw,xR;function LY(){if(xR)return Kw;xR=1;var t=CF(),e=mT(),n=1,r=2;function i(o,a,l,c){var f=l.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var y=l[f];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<h;){y=l[f];var _=y[0],w=o[_],E=y[1];if(p&&y[2]){if(w===void 0&&!(_ in o))return!1}else{var v=new t;if(c)var I=c(w,E,_,o,a,v);if(!(I===void 0?e(E,w,n|r,c,v):I))return!1}}return!0}return Kw=i,Kw}var Gw,TR;function VF(){if(TR)return Gw;TR=1;var t=as();function e(n){return n===n&&!t(n)}return Gw=e,Gw}var Yw,AR;function $Y(){if(AR)return Yw;AR=1;var t=VF(),e=by();function n(r){for(var i=e(r),o=i.length;o--;){var a=i[o],l=r[a];i[o]=[a,l,t(l)]}return i}return Yw=n,Yw}var Xw,IR;function UF(){if(IR)return Xw;IR=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Xw=t,Xw}var Qw,PR;function FY(){if(PR)return Qw;PR=1;var t=LY(),e=$Y(),n=UF();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return Qw=r,Qw}var Jw,CR;function VY(){if(CR)return Jw;CR=1;function t(e,n){return e!=null&&n in Object(e)}return Jw=t,Jw}var Zw,OR;function UY(){if(OR)return Zw;OR=1;var t=aF(),e=dT(),n=_r(),r=hT(),i=pT(),o=gy();function a(l,c,f){c=t(c,l);for(var h=-1,p=c.length,y=!1;++h<p;){var _=o(c[h]);if(!(y=l!=null&&f(l,_)))break;l=l[_]}return y||++h!=p?y:(p=l==null?0:l.length,!!p&&i(p)&&r(_,p)&&(n(l)||e(l)))}return Zw=a,Zw}var eb,kR;function BY(){if(kR)return eb;kR=1;var t=VY(),e=UY();function n(r,i){return r!=null&&e(r,i,t)}return eb=n,eb}var tb,RR;function qY(){if(RR)return tb;RR=1;var t=mT(),e=sF(),n=BY(),r=Qx(),i=VF(),o=UF(),a=gy(),l=1,c=2;function f(h,p){return r(h)&&i(p)?o(a(h),p):function(y){var _=e(y,h);return _===void 0&&_===p?n(y,h):t(p,_,l|c)}}return tb=f,tb}var nb,NR;function yc(){if(NR)return nb;NR=1;function t(e){return e}return nb=t,nb}var rb,MR;function zY(){if(MR)return rb;MR=1;function t(e){return function(n){return n==null?void 0:n[e]}}return rb=t,rb}var ib,DR;function WY(){if(DR)return ib;DR=1;var t=rT();function e(n){return function(r){return t(r,n)}}return ib=e,ib}var ob,jR;function HY(){if(jR)return ob;jR=1;var t=zY(),e=WY(),n=Qx(),r=gy();function i(o){return n(o)?t(r(o)):e(o)}return ob=i,ob}var ab,LR;function ss(){if(LR)return ab;LR=1;var t=FY(),e=qY(),n=yc(),r=_r(),i=HY();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return ab=o,ab}var sb,$R;function BF(){if($R)return sb;$R=1;function t(e,n,r,i){for(var o=e.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(e[a],a,e))return a;return-1}return sb=t,sb}var ub,FR;function KY(){if(FR)return ub;FR=1;function t(e){return e!==e}return ub=t,ub}var lb,VR;function GY(){if(VR)return lb;VR=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return lb=t,lb}var cb,UR;function YY(){if(UR)return cb;UR=1;var t=BF(),e=KY(),n=GY();function r(i,o,a){return o===o?n(i,o,a):t(i,e,a)}return cb=r,cb}var fb,BR;function XY(){if(BR)return fb;BR=1;var t=YY();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return fb=e,fb}var db,qR;function QY(){if(qR)return db;qR=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return db=t,db}var hb,zR;function JY(){if(zR)return hb;zR=1;function t(){}return hb=t,hb}var pb,WR;function ZY(){if(WR)return pb;WR=1;var t=FF(),e=JY(),n=fT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return pb=i,pb}var mb,HR;function eX(){if(HR)return mb;HR=1;var t=OF(),e=XY(),n=QY(),r=RF(),i=ZY(),o=fT(),a=200;function l(c,f,h){var p=-1,y=e,_=c.length,w=!0,E=[],v=E;if(h)w=!1,y=n;else if(_>=a){var I=f?null:i(c);if(I)return o(I);w=!1,y=r,v=new t}else v=f?[]:E;e:for(;++p<_;){var A=c[p],R=f?f(A):A;if(A=h||A!==0?A:0,w&&R===R){for(var j=v.length;j--;)if(v[j]===R)continue e;f&&v.push(R),E.push(A)}else y(v,R,h)||(v!==E&&v.push(R),E.push(A))}return E}return mb=l,mb}var gb,KR;function tX(){if(KR)return gb;KR=1;var t=ss(),e=eX();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return gb=n,gb}var nX=tX();const GR=At(nX);function qF(t,e,n){return e===!0?GR(t,n):Qe(e)?GR(t,e):t}function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}var rX=["ref"];function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WF(r.key),r)}}function oX(t,e,n){return e&&XR(t.prototype,e),n&&XR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aX(t,e,n){return e=zm(e),sX(t,zF()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function sX(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uX(t)}function uX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zF=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function lX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ME(t,e)}function Ey(t,e,n){return e=WF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WF(t){var e=cX(t,"string");return $l(e)=="symbol"?e:e+""}function cX(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fX(t,e){if(t==null)return{};var n=dX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hX(t){return t.value}function pX(t,e){if(ee.isValidElement(t))return ee.cloneElement(t,e);if(typeof t=="function")return ee.createElement(t,e);e.ref;var n=fX(e,rX);return ee.createElement(cT,n)}var QR=1,qa=function(t){function e(){var n;iX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=aX(this,e,[].concat(i)),Ey(n,"lastBoundingBox",{width:-1,height:-1}),n}return lX(e,t),oX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>QR||Math.abs(i.height-this.lastBoundingBox.height)>QR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var _=this.getBBoxSnapshot();p={left:((f||0)-_.width)/2}}else p=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();y={top:((h||0)-w.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Io(Io({},p),y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Io(Io({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ee.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){r.wrapperNode=_}},pX(o,Io(Io({},this.props),{},{payload:qF(h,f,hX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Io(Io({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Se(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);Ey(qa,"displayName","Legend");Ey(qa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yb,JR;function mX(){if(JR)return yb;JR=1;var t=uh(),e=dT(),n=_r(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return yb=i,yb}var vb,ZR;function HF(){if(ZR)return vb;ZR=1;var t=MF(),e=mX();function n(r,i,o,a,l){var c=-1,f=r.length;for(o||(o=e),l||(l=[]);++c<f;){var h=r[c];i>0&&o(h)?i>1?n(h,i-1,o,a,l):t(l,h):a||(l[l.length]=h)}return l}return vb=n,vb}var _b,eN;function gX(){if(eN)return _b;eN=1;function t(e){return function(n,r,i){for(var o=-1,a=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++o];if(r(a[f],f,a)===!1)break}return n}}return _b=t,_b}var wb,tN;function yX(){if(tN)return wb;tN=1;var t=gX(),e=t();return wb=e,wb}var bb,nN;function KF(){if(nN)return bb;nN=1;var t=yX(),e=by();function n(r,i){return r&&t(r,i,e)}return bb=n,bb}var Eb,rN;function vX(){if(rN)return Eb;rN=1;var t=dh();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var a=i.length,l=r?a:-1,c=Object(i);(r?l--:++l<a)&&o(c[l],l,c)!==!1;);return i}}return Eb=e,Eb}var Sb,iN;function gT(){if(iN)return Sb;iN=1;var t=KF(),e=vX(),n=e(t);return Sb=n,Sb}var xb,oN;function GF(){if(oN)return xb;oN=1;var t=gT(),e=dh();function n(r,i){var o=-1,a=e(r)?Array(r.length):[];return t(r,function(l,c,f){a[++o]=i(l,c,f)}),a}return xb=n,xb}var Tb,aN;function _X(){if(aN)return Tb;aN=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Tb=t,Tb}var Ab,sN;function wX(){if(sN)return Ab;sN=1;var t=mc();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!l&&n>r||l&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!a)return 1;if(!o&&!l&&!p&&n<r||p&&i&&a&&!o&&!l||f&&i&&a||!c&&a||!h)return-1}return 0}return Ab=e,Ab}var Ib,uN;function bX(){if(uN)return Ib;uN=1;var t=wX();function e(n,r,i){for(var o=-1,a=n.criteria,l=r.criteria,c=a.length,f=i.length;++o<c;){var h=t(a[o],l[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return n.index-r.index}return Ib=e,Ib}var Pb,lN;function EX(){if(lN)return Pb;lN=1;var t=nT(),e=rT(),n=ss(),r=GF(),i=_X(),o=jF(),a=bX(),l=yc(),c=_r();function f(h,p,y){p.length?p=t(p,function(E){return c(E)?function(v){return e(v,E.length===1?E[0]:E)}:E}):p=[l];var _=-1;p=t(p,o(n));var w=r(h,function(E,v,I){var A=t(p,function(R){return R(E)});return{criteria:A,index:++_,value:E}});return i(w,function(E,v){return a(E,v,y)})}return Pb=f,Pb}var Cb,cN;function SX(){if(cN)return Cb;cN=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Cb=t,Cb}var Ob,fN;function xX(){if(fN)return Ob;fN=1;var t=SX(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,l=-1,c=e(a.length-i,0),f=Array(c);++l<c;)f[l]=a[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=a[l];return h[i]=o(f),t(r,this,h)}}return Ob=n,Ob}var kb,dN;function TX(){if(dN)return kb;dN=1;function t(e){return function(){return e}}return kb=t,kb}var Rb,hN;function YF(){if(hN)return Rb;hN=1;var t=vu(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Rb=e,Rb}var Nb,pN;function AX(){if(pN)return Nb;pN=1;var t=TX(),e=YF(),n=yc(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return Nb=r,Nb}var Mb,mN;function IX(){if(mN)return Mb;mN=1;var t=800,e=16,n=Date.now;function r(i){var o=0,a=0;return function(){var l=n(),c=e-(l-a);if(a=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Mb=r,Mb}var Db,gN;function PX(){if(gN)return Db;gN=1;var t=AX(),e=IX(),n=e(t);return Db=n,Db}var jb,yN;function CX(){if(yN)return jb;yN=1;var t=yc(),e=xX(),n=PX();function r(i,o){return n(e(i,o,t),i+"")}return jb=r,jb}var Lb,vN;function Sy(){if(vN)return Lb;vN=1;var t=Zx(),e=dh(),n=hT(),r=as();function i(o,a,l){if(!r(l))return!1;var c=typeof a;return(c=="number"?e(l)&&n(a,l.length):c=="string"&&a in l)?t(l[a],o):!1}return Lb=i,Lb}var $b,_N;function OX(){if(_N)return $b;_N=1;var t=HF(),e=EX(),n=CX(),r=Sy(),i=n(function(o,a){if(o==null)return[];var l=a.length;return l>1&&r(o,a[0],a[1])?a=[]:l>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return $b=i,$b}var kX=OX();const yT=At(kX);function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}function RX(t,e){return jX(t)||DX(t,e)||MX(t,e)||NX()}function NX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MX(t,e){if(t){if(typeof t=="string")return wN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(t,e)}}function wN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function jX(t){if(Array.isArray(t))return t}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){LX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LX(t,e,n){return e=$X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $X(t){var e=FX(t,"string");return dd(e)=="symbol"?e:e+""}function FX(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VX(t){return Array.isArray(t)&&dn(t[0])&&dn(t[1])?t.join(" ~ "):t}var UX=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,l=a===void 0?{}:a,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,y=e.itemSorter,_=e.wrapperClassName,w=e.labelClassName,E=e.label,v=e.labelFormatter,I=e.accessibilityLayer,A=I===void 0?!1:I,R=function(){if(h&&h.length){var V={padding:0,margin:0},C=(y?yT(h,y):h).map(function(W,K){if(W.type==="none")return null;var Z=Fb({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),re=W.formatter||p||VX,Q=W.value,X=W.name,J=Q,z=X;if(re&&J!=null&&z!=null){var Y=re(Q,X,W,K,h);if(Array.isArray(Y)){var le=RX(Y,2);J=le[0],z=le[1]}else J=Y}return ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:Z},dn(z)?ee.createElement("span",{className:"recharts-tooltip-item-name"},z):null,dn(z)?ee.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ee.createElement("span",{className:"recharts-tooltip-item-value"},J),ee.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return ee.createElement("ul",{className:"recharts-tooltip-item-list",style:V},C)}return null},j=Fb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),O=Fb({margin:0},f),D=!Ze(E),P=D?E:"",k=ut("recharts-default-tooltip",_),M=ut("recharts-tooltip-label",w);D&&v&&h!==void 0&&h!==null&&(P=v(E,h));var F=A?{role:"status","aria-live":"assertive"}:{};return ee.createElement("div",DE({className:k,style:j},F),ee.createElement("p",{className:M,style:O},ee.isValidElement(P)?P:"".concat(P)),R())};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function Wp(t,e,n){return e=BX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=qX(t,"string");return hd(e)=="symbol"?e:e+""}function qX(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yf="recharts-tooltip-wrapper",zX={visibility:"hidden"};function WX(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ut(yf,Wp(Wp(Wp(Wp({},"".concat(yf,"-right"),Se(n)&&e&&Se(e.x)&&n>=e.x),"".concat(yf,"-left"),Se(n)&&e&&Se(e.x)&&n<e.x),"".concat(yf,"-bottom"),Se(r)&&e&&Se(e.y)&&r>=e.y),"".concat(yf,"-top"),Se(r)&&e&&Se(e.y)&&r<e.y))}function EN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&Se(o[r]))return o[r];var h=n[r]-l-i,p=n[r]+i;if(e[r])return a[r]?h:p;if(a[r]){var y=h,_=c[r];return y<_?Math.max(p,c[r]):Math.max(h,c[r])}var w=p+l,E=c[r]+f;return w>E?Math.max(h,c[r]):Math.max(p,c[r])}function HX(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function KX(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,p;return a.height>0&&a.width>0&&n?(h=EN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=EN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),f=HX({translateX:h,translateY:p,useTranslate3d:l})):f=zX,{cssProperties:f,cssClasses:WX({translateX:h,translateY:p,coordinate:n})}}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){LE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QF(r.key),r)}}function XX(t,e,n){return e&&YX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QX(t,e,n){return e=Wm(e),JX(t,XF()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function JX(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZX(t)}function ZX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function eQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(t,e)}function LE(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=tQ(t,"string");return Fl(e)=="symbol"?e:e+""}function tQ(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TN=1,nQ=function(t){function e(){var n;GX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=QX(this,e,[].concat(i)),LE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),LE(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return eQ(e,t),XX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>TN||Math.abs(r.height-this.state.lastBoundingBox.height)>TN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,_=i.offset,w=i.position,E=i.reverseDirection,v=i.useTranslate3d,I=i.viewBox,A=i.wrapperStyle,R=KX({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:_,position:w,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:I}),j=R.cssClasses,O=R.cssProperties,D=xN(xN({transition:y&&o?"transform ".concat(l,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return ee.createElement("div",{tabIndex:-1,className:j,style:D,ref:function(k){r.wrapperNode=k}},f)}}])}(U.PureComponent),rQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Uo={isSsr:rQ(),get:function(e){return Uo[e]},set:function(e,n){if(typeof e=="string")Uo[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Uo[i]=e[i]})}}};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){vT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZF(r.key),r)}}function aQ(t,e,n){return e&&oQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sQ(t,e,n){return e=Hm(e),uQ(t,JF()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function uQ(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(t)}function lQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JF=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function cQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$E(t,e)}function $E(t,e){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$E(t,e)}function vT(t,e,n){return e=ZF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZF(t){var e=fQ(t,"string");return Vl(e)=="symbol"?e:e+""}function fQ(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dQ(t){return t.dataKey}function hQ(t,e){return ee.isValidElement(t)?ee.cloneElement(t,e):typeof t=="function"?ee.createElement(t,e):ee.createElement(UX,e)}var Ai=function(t){function e(){return iQ(this,e),sQ(this,e,arguments)}return cQ(e,t),aQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,y=i.isAnimationActive,_=i.offset,w=i.payload,E=i.payloadUniqBy,v=i.position,I=i.reverseDirection,A=i.useTranslate3d,R=i.viewBox,j=i.wrapperStyle,O=w??[];p&&O.length&&(O=qF(w.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),E,dQ));var D=O.length>0;return ee.createElement(nQ,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:y,active:o,coordinate:h,hasPayload:D,offset:_,position:v,reverseDirection:I,useTranslate3d:A,viewBox:R,wrapperStyle:j},hQ(f,IN(IN({},this.props),{},{payload:O})))}}])}(U.PureComponent);vT(Ai,"displayName","Tooltip");vT(Ai,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Uo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vb,PN;function pQ(){if(PN)return Vb;PN=1;var t=lo(),e=function(){return t.Date.now()};return Vb=e,Vb}var Ub,CN;function mQ(){if(CN)return Ub;CN=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Ub=e,Ub}var Bb,ON;function gQ(){if(ON)return Bb;ON=1;var t=mQ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Bb=n,Bb}var qb,kN;function eV(){if(kN)return qb;kN=1;var t=gQ(),e=as(),n=mc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||a.test(f)?l(f.slice(2),p?2:8):i.test(f)?r:+f}return qb=c,qb}var zb,RN;function yQ(){if(RN)return zb;RN=1;var t=as(),e=pQ(),n=eV(),r="Expected a function",i=Math.max,o=Math.min;function a(l,c,f){var h,p,y,_,w,E,v=0,I=!1,A=!1,R=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(I=!!f.leading,A="maxWait"in f,y=A?i(n(f.maxWait)||0,c):y,R="trailing"in f?!!f.trailing:R);function j(C){var W=h,K=p;return h=p=void 0,v=C,_=l.apply(K,W),_}function O(C){return v=C,w=setTimeout(k,c),I?j(C):_}function D(C){var W=C-E,K=C-v,Z=c-W;return A?o(Z,y-K):Z}function P(C){var W=C-E,K=C-v;return E===void 0||W>=c||W<0||A&&K>=y}function k(){var C=e();if(P(C))return M(C);w=setTimeout(k,D(C))}function M(C){return w=void 0,R&&h?j(C):(h=p=void 0,_)}function F(){w!==void 0&&clearTimeout(w),v=0,h=E=p=w=void 0}function L(){return w===void 0?_:M(e())}function V(){var C=e(),W=P(C);if(h=arguments,p=this,E=C,W){if(w===void 0)return O(E);if(A)return clearTimeout(w),w=setTimeout(k,c),j(E)}return w===void 0&&(w=setTimeout(k,c)),_}return V.cancel=F,V.flush=L,V}return zb=a,zb}var Wb,NN;function vQ(){if(NN)return Wb;NN=1;var t=yQ(),e=as(),n="Expected a function";function r(i,o,a){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(l="leading"in a?!!a.leading:l,c="trailing"in a?!!a.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return Wb=r,Wb}var _Q=vQ();const tV=At(_Q);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=bQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQ(t){var e=EQ(t,"string");return pd(e)=="symbol"?e:e+""}function EQ(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SQ(t,e){return IQ(t)||AQ(t,e)||TQ(t,e)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return DN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(t,e)}}function DN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function IQ(t){if(Array.isArray(t))return t}var jN=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,_=t.children,w=t.debounce,E=w===void 0?0:w,v=t.id,I=t.className,A=t.onResize,R=t.style,j=R===void 0?{}:R,O=U.useRef(null),D=U.useRef();D.current=A,U.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var P=U.useState({containerWidth:i.width,containerHeight:i.height}),k=SQ(P,2),M=k[0],F=k[1],L=U.useCallback(function(C,W){F(function(K){var Z=Math.round(C),re=Math.round(W);return K.containerWidth===Z&&K.containerHeight===re?K:{containerWidth:Z,containerHeight:re}})},[]);U.useEffect(function(){var C=function(X){var J,z=X[0].contentRect,Y=z.width,le=z.height;L(Y,le),(J=D.current)===null||J===void 0||J.call(D,Y,le)};E>0&&(C=tV(C,E,{trailing:!0,leading:!1}));var W=new ResizeObserver(C),K=O.current.getBoundingClientRect(),Z=K.width,re=K.height;return L(Z,re),W.observe(O.current),function(){W.disconnect()}},[L,E]);var V=U.useMemo(function(){var C=M.containerWidth,W=M.containerHeight;if(C<0||W<0)return null;eu(Gs(a)||Gs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),eu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Gs(a)?C:a,Z=Gs(c)?W:c;n&&n>0&&(K?Z=K/n:Z&&(K=Z*n),y&&Z>y&&(Z=y)),eu(K>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,Z,a,c,h,p,n);var re=!Array.isArray(_)&&Vo(_.type).endsWith("Chart");return ee.Children.map(_,function(Q){return ee.isValidElement(Q)?U.cloneElement(Q,Hp({width:K,height:Z},re?{style:Hp({height:"100%",width:"100%",maxHeight:Z,maxWidth:K},Q.props.style)}:{})):Q})},[n,_,c,y,p,h,M,a]);return ee.createElement("div",{id:v?"".concat(v):void 0,className:ut("recharts-responsive-container",I),style:Hp(Hp({},j),{},{width:a,height:c,minWidth:h,minHeight:p,maxHeight:y}),ref:O},V)}),nV=function(e){return null};nV.displayName="Cell";function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){PQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n){return e=CQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t){var e=OQ(t,"string");return md(e)=="symbol"?e:e+""}function OQ(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ul={widthCache:{},cacheCount:0},kQ=2e3,RQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$N="recharts_measurement_span";function NQ(t){var e=FE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var zf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Uo.isSsr)return{width:0,height:0};var r=NQ(n),i=JSON.stringify({text:e,copyStyle:r});if(ul.widthCache[i])return ul.widthCache[i];try{var o=document.getElementById($N);o||(o=document.createElement("span"),o.setAttribute("id",$N),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=FE(FE({},RQ),r);Object.assign(o.style,a),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return ul.widthCache[i]=c,++ul.cacheCount>kQ&&(ul.cacheCount=0,ul.widthCache={}),c}catch{return{width:0,height:0}}},MQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function Km(t,e){return $Q(t)||LQ(t,e)||jQ(t,e)||DQ()}function DQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQ(t,e){if(t){if(typeof t=="string")return FN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FN(t,e)}}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function $Q(t){if(Array.isArray(t))return t}function FQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UQ(r.key),r)}}function VQ(t,e,n){return e&&VN(t.prototype,e),n&&VN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UQ(t){var e=BQ(t,"string");return gd(e)=="symbol"?e:e+""}function BQ(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WQ=Object.keys(rV),vl="NaN";function HQ(t,e){return t*rV[e]}var Kp=function(){function t(e,n){FQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!qQ.test(n)&&(this.num=NaN,this.unit=""),WQ.includes(n)&&(this.num=HQ(e,n),this.unit="px")}return VQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=zQ.exec(n))!==null&&r!==void 0?r:[],o=Km(i,3),a=o[1],l=o[2];return new t(parseFloat(a),l??"")}}])}();function iV(t){if(t.includes(vl))return vl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=UN.exec(e))!==null&&n!==void 0?n:[],i=Km(r,4),o=i[1],a=i[2],l=i[3],c=Kp.parse(o??""),f=Kp.parse(l??""),h=a==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return vl;e=e.replace(UN,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=BN.exec(e))!==null&&p!==void 0?p:[],_=Km(y,4),w=_[1],E=_[2],v=_[3],I=Kp.parse(w??""),A=Kp.parse(v??""),R=E==="+"?I.add(A):I.subtract(A);if(R.isNaN())return vl;e=e.replace(BN,R.toString())}return e}var qN=/\(([^()]*)\)/;function KQ(t){for(var e=t;e.includes("(");){var n=qN.exec(e),r=Km(n,2),i=r[1];e=e.replace(qN,iV(i))}return e}function GQ(t){var e=t.replace(/\s+/g,"");return e=KQ(e),e=iV(e),e}function YQ(t){try{return GQ(t)}catch{return vl}}function Hb(t){var e=YQ(t.slice(5,-1));return e===vl?"":e}var XQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QQ=["dx","dy","angle","className","breakAll"];function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(this,arguments)}function zN(t,e){if(t==null)return{};var n=JQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WN(t,e){return nJ(t)||tJ(t,e)||eJ(t,e)||ZQ()}function ZQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJ(t,e){if(t){if(typeof t=="string")return HN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HN(t,e)}}function HN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function nJ(t){if(Array.isArray(t))return t}var oV=/[ \f\n\r\t\v\u2028\u2029]+/,aV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ze(n)||(r?o=n.toString().split(""):o=n.toString().split(oV));var a=o.map(function(c){return{word:c,width:zf(c,i).width}}),l=r?0:zf(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},rJ=function(e,n,r,i,o){var a=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=Se(a),p=l,y=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(Z,re){var Q=re.word,X=re.width,J=Z[Z.length-1];if(J&&(i==null||o||J.width+X+r<Number(i)))J.words.push(Q),J.width+=X+r;else{var z={words:[Q],width:X};Z.push(z)}return Z},[])},_=y(n),w=function(K){return K.reduce(function(Z,re){return Z.width>re.width?Z:re})};if(!h)return _;for(var E="…",v=function(K){var Z=p.slice(0,K),re=aV({breakAll:f,style:c,children:Z+E}).wordsWithComputedWidth,Q=y(re),X=Q.length>a||w(Q).width>Number(i);return[X,Q]},I=0,A=p.length-1,R=0,j;I<=A&&R<=p.length-1;){var O=Math.floor((I+A)/2),D=O-1,P=v(D),k=WN(P,2),M=k[0],F=k[1],L=v(O),V=WN(L,1),C=V[0];if(!M&&!C&&(I=O+1),M&&C&&(A=O-1),!M&&C){j=F;break}R++}return j||_},KN=function(e){var n=Ze(e)?[]:e.toString().split(oV);return[{words:n}]},iJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!Uo.isSsr){var c,f,h=aV({breakAll:a,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,y=h.spaceWidth;c=p,f=y}else return KN(i);return rJ({breakAll:a,children:i,maxLines:l,style:o},c,f,n,r)}return KN(i)},GN="#808080",Gm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,l=a===void 0?"1em":a,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,w=e.verticalAnchor,E=w===void 0?"end":w,v=e.fill,I=v===void 0?GN:v,A=zN(e,XQ),R=U.useMemo(function(){return iJ({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),j=A.dx,O=A.dy,D=A.angle,P=A.className,k=A.breakAll,M=zN(A,QQ);if(!dn(r)||!dn(o))return null;var F=r+(Se(j)?j:0),L=o+(Se(O)?O:0),V;switch(E){case"start":V=Hb("calc(".concat(f,")"));break;case"middle":V=Hb("calc(".concat((R.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:V=Hb("calc(".concat(R.length-1," * -").concat(l,")"));break}var C=[];if(p){var W=R[0].width,K=A.width;C.push("scale(".concat((Se(K)?K/W:1)/W,")"))}return D&&C.push("rotate(".concat(D,", ").concat(F,", ").concat(L,")")),C.length&&(M.transform=C.join(" ")),ee.createElement("text",VE({},it(M,!0),{x:F,y:L,className:ut("recharts-text",P),textAnchor:_,fill:I.includes("url")?GN:I}),R.map(function(Z,re){var Q=Z.words.join(k?"":" ");return ee.createElement("tspan",{x:F,dy:re===0?V:l,key:"".concat(Q,"-").concat(re)},Q)}))};function za(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _T(t){let e,n,r;t.length!==2?(e=za,n=(l,c)=>za(t(l),c),r=(l,c)=>t(l)-c):(e=t===za||t===oJ?t:aJ,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function a(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:a,right:o}}function aJ(){return 0}function sV(t){return t===null?NaN:+t}function*sJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const uJ=_T(za),hh=uJ.right;_T(sV).center;class YN extends Map{constructor(e,n=fJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(XN(this,e))}has(e){return super.has(XN(this,e))}set(e,n){return super.set(lJ(this,e),n)}delete(e){return super.delete(cJ(this,e))}}function XN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dJ(t=za){if(t===za)return uV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function uV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hJ=Math.sqrt(50),pJ=Math.sqrt(10),mJ=Math.sqrt(2);function Ym(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=hJ?10:o>=pJ?5:o>=mJ?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Ym(t,e,n*2):[l,c,f]}function UE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ym(e,t,n):Ym(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)c[f]=(o-f)/-a;else for(let f=0;f<l;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<l;++f)c[f]=(i+f)/-a;else for(let f=0;f<l;++f)c[f]=(i+f)*a;return c}function BE(t,e,n){return e=+e,t=+t,n=+n,Ym(t,e,n)[2]}function qE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?BE(e,t,n):BE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?uV:dJ(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/c+y)),w=Math.min(r,Math.floor(e+(c-f)*p/c+y));lV(t,e,_,w,i)}const o=t[e];let a=n,l=r;for(vf(t,n,e),i(t[r],o)>0&&vf(t,n,r);a<l;){for(vf(t,a,l),++a,--l;i(t[a],o)<0;)++a;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?vf(t,n,l):(++l,vf(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function vf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function gJ(t,e,n){if(t=Float64Array.from(sJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JN(t);if(e>=1)return QN(t);var r,i=(r-1)*e,o=Math.floor(i),a=QN(lV(t,o).subarray(0,o+1)),l=JN(t.subarray(o+1));return a+(l-a)*(i-o)}}function yJ(t,e,n=sV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return a+(l-a)*(i-o)}}function vJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ia(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const zE=Symbol("implicit");function wT(){var t=new YN,e=[],n=[],r=zE;function i(o){let a=t.get(o);if(a===void 0){if(r!==zE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new YN;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wT(e,n).unknown(r)},li.apply(i,arguments),i}function yd(){var t=wT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var y=e().length,_=i<r,w=_?i:r,E=_?r:i;o=(E-w)/Math.max(1,y-c+f*2),l&&(o=Math.floor(o)),w+=(E-w-o*(y-c))*h,a=o*(1-c),l&&(w=Math.round(w),a=Math.round(a));var v=vJ(y).map(function(I){return w+o*I});return n(_?v.reverse():v)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return yd(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},li.apply(p(),arguments)}function cV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cV(e())},t}function Wf(){return cV(yd.apply(null,arguments).paddingInner(1))}function bT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ph(){}var vd=.7,Xm=1/vd,Al="\\s*([+-]?\\d+)\\s*",_d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_J=/^#([0-9a-f]{3,8})$/,wJ=new RegExp(`^rgb\\(${Al},${Al},${Al}\\)$`),bJ=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),EJ=new RegExp(`^rgba\\(${Al},${Al},${Al},${_d}\\)$`),SJ=new RegExp(`^rgba\\(${oo},${oo},${oo},${_d}\\)$`),xJ=new RegExp(`^hsl\\(${_d},${oo},${oo}\\)$`),TJ=new RegExp(`^hsla\\(${_d},${oo},${oo},${_d}\\)$`),ZN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bT(ph,wd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:e2,formatHex:e2,formatHex8:AJ,formatHsl:IJ,formatRgb:t2,toString:t2});function e2(){return this.rgb().formatHex()}function AJ(){return this.rgb().formatHex8()}function IJ(){return dV(this).formatHsl()}function t2(){return this.rgb().formatRgb()}function wd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_J.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?n2(e):n===3?new yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wJ.exec(t))?new yr(e[1],e[2],e[3],1):(e=bJ.exec(t))?new yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EJ.exec(t))?Gp(e[1],e[2],e[3],e[4]):(e=SJ.exec(t))?Gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xJ.exec(t))?o2(e[1],e[2]/100,e[3]/100,1):(e=TJ.exec(t))?o2(e[1],e[2]/100,e[3]/100,e[4]):ZN.hasOwnProperty(t)?n2(ZN[t]):t==="transparent"?new yr(NaN,NaN,NaN,0):null}function n2(t){return new yr(t>>16&255,t>>8&255,t&255,1)}function Gp(t,e,n,r){return r<=0&&(t=e=n=NaN),new yr(t,e,n,r)}function PJ(t){return t instanceof ph||(t=wd(t)),t?(t=t.rgb(),new yr(t.r,t.g,t.b,t.opacity)):new yr}function WE(t,e,n,r){return arguments.length===1?PJ(t):new yr(t,e,n,r??1)}function yr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bT(yr,WE,fV(ph,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vd:Math.pow(vd,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yr(tu(this.r),tu(this.g),tu(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r2,formatHex:r2,formatHex8:CJ,formatRgb:i2,toString:i2}));function r2(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}`}function CJ(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}${Ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function i2(){const t=Qm(this.opacity);return`${t===1?"rgb(":"rgba("}${tu(this.r)}, ${tu(this.g)}, ${tu(this.b)}${t===1?")":`, ${t})`}`}function Qm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ys(t){return t=tu(t),(t<16?"0":"")+t.toString(16)}function o2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oi(t,e,n,r)}function dV(t){if(t instanceof Oi)return new Oi(t.h,t.s,t.l,t.opacity);if(t instanceof ph||(t=wd(t)),!t)return new Oi;if(t instanceof Oi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,c=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?o+i:2-o-i,a*=60):l=c>0&&c<1?0:a,new Oi(a,l,c,t.opacity)}function OJ(t,e,n,r){return arguments.length===1?dV(t):new Oi(t,e,n,r??1)}function Oi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bT(Oi,OJ,fV(ph,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Oi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vd:Math.pow(vd,t),new Oi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yr(Kb(t>=240?t-240:t+120,i,r),Kb(t,i,r),Kb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Oi(a2(this.h),Yp(this.s),Yp(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qm(this.opacity);return`${t===1?"hsl(":"hsla("}${a2(this.h)}, ${Yp(this.s)*100}%, ${Yp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function a2(t){return t=(t||0)%360,t<0?t+360:t}function Yp(t){return Math.max(0,Math.min(1,t||0))}function Kb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ET=t=>()=>t;function kJ(t,e){return function(n){return t+n*e}}function RJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function NJ(t){return(t=+t)==1?hV:function(e,n){return n-e?RJ(e,n,t):ET(isNaN(e)?n:e)}}function hV(t,e){var n=e-t;return n?kJ(t,n):ET(isNaN(t)?e:t)}const s2=function t(e){var n=NJ(e);function r(i,o){var a=n((i=WE(i)).r,(o=WE(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=hV(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r}(1);function MJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function DJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=vc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function LJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $J(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=vc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var HE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gb=new RegExp(HE.source,"g");function FJ(t){return function(){return t}}function VJ(t){return function(e){return t(e)+""}}function UJ(t,e){var n=HE.lastIndex=Gb.lastIndex=0,r,i,o,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=HE.exec(t))&&(i=Gb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Jm(r,i)})),n=Gb.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?VJ(c[0].x):FJ(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function vc(t,e){var n=typeof e,r;return e==null||n==="boolean"?ET(e):(n==="number"?Jm:n==="string"?(r=wd(e))?(e=r,s2):UJ:e instanceof wd?s2:e instanceof Date?LJ:DJ(e)?MJ:Array.isArray(e)?jJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$J:Jm)(t,e)}function ST(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function BJ(t,e){e===void 0&&(e=t,t=vc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[l](a-l)}}function qJ(t){return function(){return t}}function Zm(t){return+t}var u2=[0,1];function nr(t){return t}function KE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qJ(isNaN(e)?NaN:.5)}function zJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function WJ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=KE(i,r),o=n(a,o)):(r=KE(r,i),o=n(o,a)),function(l){return o(r(l))}}function HJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=KE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var c=hh(t,l,1,r)-1;return o[c](i[c](l))}}function mh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xy(){var t=u2,e=u2,n=vc,r,i,o,a=nr,l,c,f;function h(){var y=Math.min(t.length,e.length);return a!==nr&&(a=zJ(t[0],t[y-1])),l=y>2?HJ:WJ,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?o:(c||(c=l(t.map(r),e,n)))(r(a(y)))}return p.invert=function(y){return a(i((f||(f=l(e,t.map(r),Jm)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Zm),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=ST,h()},p.clamp=function(y){return arguments.length?(a=y?!0:nr,h()):a!==nr},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,_){return r=y,i=_,h()}}function xT(){return xy()(nr,nr)}function KJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ul(t){return t=eg(Math.abs(t)),t?t[1]:NaN}function GJ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function YJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var XJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bd(t){if(!(e=XJ.exec(t)))throw new Error("invalid format: "+t);var e;return new TT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bd.prototype=TT.prototype;function TT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var pV;function JJ(t,e){var n=eg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(pV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eg(t,Math.max(0,e+o-1))[0]}function l2(t,e){var n=eg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const c2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:KJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>l2(t*100,e),r:l2,s:JJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function f2(t){return t}var d2=Array.prototype.map,h2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ZJ(t){var e=t.grouping===void 0||t.thousands===void 0?f2:GJ(d2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?f2:YJ(d2.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=bd(p);var y=p.fill,_=p.align,w=p.sign,E=p.symbol,v=p.zero,I=p.width,A=p.comma,R=p.precision,j=p.trim,O=p.type;O==="n"?(A=!0,O="g"):c2[O]||(R===void 0&&(R=12),j=!0,O="g"),(v||y==="0"&&_==="=")&&(v=!0,y="0",_="=");var D=E==="$"?n:E==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",P=E==="$"?r:/[%p]/.test(O)?a:"",k=c2[O],M=/[defgprs%]/.test(O);R=R===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function F(L){var V=D,C=P,W,K,Z;if(O==="c")C=k(L)+C,L="";else{L=+L;var re=L<0||1/L<0;if(L=isNaN(L)?c:k(Math.abs(L),R),j&&(L=QJ(L)),re&&+L==0&&w!=="+"&&(re=!1),V=(re?w==="("?w:l:w==="-"||w==="("?"":w)+V,C=(O==="s"?h2[8+pV/3]:"")+C+(re&&w==="("?")":""),M){for(W=-1,K=L.length;++W<K;)if(Z=L.charCodeAt(W),48>Z||Z>57){C=(Z===46?i+L.slice(W+1):L.slice(W))+C,L=L.slice(0,W);break}}}A&&!v&&(L=e(L,1/0));var Q=V.length+L.length+C.length,X=Q<I?new Array(I-Q+1).join(y):"";switch(A&&v&&(L=e(X+L,X.length?I-C.length:1/0),X=""),_){case"<":L=V+L+C+X;break;case"=":L=V+X+L+C;break;case"^":L=X.slice(0,Q=X.length>>1)+V+L+C+X.slice(Q);break;default:L=X+V+L+C;break}return o(L)}return F.toString=function(){return p+""},F}function h(p,y){var _=f((p=bd(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Ul(y)/3)))*3,E=Math.pow(10,-w),v=h2[8+w/3];return function(I){return _(E*I)+v}}return{format:f,formatPrefix:h}}var Xp,AT,mV;eZ({thousands:",",grouping:[3],currency:["$",""]});function eZ(t){return Xp=ZJ(t),AT=Xp.format,mV=Xp.formatPrefix,Xp}function tZ(t){return Math.max(0,-Ul(Math.abs(t)))}function nZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ul(e)/3)))*3-Ul(Math.abs(t)))}function rZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ul(e)-Ul(t))+1}function gV(t,e,n,r){var i=qE(t,e,n),o;switch(r=bd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=nZ(i,a))&&(r.precision=o),mV(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=rZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=tZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return AT(r)}function us(t){var e=t.domain;return t.ticks=function(n){var r=e();return UE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return gV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],c,f,h=10;for(l<a&&(f=a,a=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=BE(a,l,n),f===c)return r[i]=a,r[o]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function tg(){var t=xT();return t.copy=function(){return mh(t,tg())},li.apply(t,arguments),us(t)}function yV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Zm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return yV(t).unknown(e)},t=arguments.length?Array.from(t,Zm):[0,1],us(n)}function vV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function p2(t){return Math.log(t)}function m2(t){return Math.exp(t)}function iZ(t){return-Math.log(-t)}function oZ(t){return-Math.exp(-t)}function aZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sZ(t){return t===10?aZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function g2(t){return(e,n)=>-t(-e,n)}function IT(t){const e=t(p2,m2),n=e.domain;let r=10,i,o;function a(){return i=uZ(r),o=sZ(r),n()[0]<0?(i=g2(i),o=g2(o),t(iZ,oZ)):t(p2,m2),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=i(f),_=i(h),w,E;const v=l==null?10:+l;let I=[];if(!(r%1)&&_-y<v){if(y=Math.floor(y),_=Math.ceil(_),f>0){for(;y<=_;++y)for(w=1;w<r;++w)if(E=y<0?w/o(-y):w*o(y),!(E<f)){if(E>h)break;I.push(E)}}else for(;y<=_;++y)for(w=r-1;w>=1;--w)if(E=y>0?w/o(-y):w*o(y),!(E<f)){if(E>h)break;I.push(E)}I.length*2<v&&(I=UE(f,h,v))}else I=UE(y,_,Math.min(_-y,v)).map(o);return p?I.reverse():I},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=bd(c)).precision==null&&(c.trim=!0),c=AT(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(vV(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function _V(){const t=IT(xy()).domain([1,10]);return t.copy=()=>mh(t,_V()).base(t.base()),li.apply(t,arguments),t}function y2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function v2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function PT(t){var e=1,n=t(y2(e),v2(e));return n.constant=function(r){return arguments.length?t(y2(e=+r),v2(e)):e},us(n)}function wV(){var t=PT(xy());return t.copy=function(){return mh(t,wV()).constant(t.constant())},li.apply(t,arguments)}function _2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function lZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cZ(t){return t<0?-t*t:t*t}function CT(t){var e=t(nr,nr),n=1;function r(){return n===1?t(nr,nr):n===.5?t(lZ,cZ):t(_2(n),_2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},us(e)}function OT(){var t=CT(xy());return t.copy=function(){return mh(t,OT()).exponent(t.exponent())},li.apply(t,arguments),t}function fZ(){return OT.apply(null,arguments).exponent(.5)}function w2(t){return Math.sign(t)*t*t}function dZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bV(){var t=xT(),e=[0,1],n=!1,r;function i(o){var a=dZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(w2(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Zm)).map(w2)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},li.apply(i,arguments),us(i)}function EV(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=yJ(t,a/l);return o}function o(a){return a==null||isNaN(a=+a)?r:e[hh(n,a)]}return o.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(za),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return EV().domain(t).range(e).unknown(r)},li.apply(o,arguments)}function SV(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[hh(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return SV().domain([t,e]).range(i).unknown(o)},li.apply(us(a),arguments)}function xV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[hh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xV().domain(t).range(e).unknown(n)},li.apply(i,arguments)}const Yb=new Date,Xb=new Date;function mn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<a);return c},i.filter=o=>mn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Yb.setTime(+o),Xb.setTime(+a),t(Yb),t(Xb),Math.floor(n(Yb,Xb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ng=mn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ng.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ng);ng.range;const No=1e3,Zr=No*60,Mo=Zr*60,Yo=Mo*24,kT=Yo*7,b2=Yo*30,Qb=Yo*365,Xs=mn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*No)},(t,e)=>(e-t)/No,t=>t.getUTCSeconds());Xs.range;const RT=mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*No)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getMinutes());RT.range;const NT=mn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getUTCMinutes());NT.range;const MT=mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*No-t.getMinutes()*Zr)},(t,e)=>{t.setTime(+t+e*Mo)},(t,e)=>(e-t)/Mo,t=>t.getHours());MT.range;const DT=mn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Mo)},(t,e)=>(e-t)/Mo,t=>t.getUTCHours());DT.range;const gh=mn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zr)/Yo,t=>t.getDate()-1);gh.range;const Ty=mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yo,t=>t.getUTCDate()-1);Ty.range;const TV=mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yo,t=>Math.floor(t/Yo));TV.range;function _u(t){return mn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zr)/kT)}const Ay=_u(0),rg=_u(1),hZ=_u(2),pZ=_u(3),Bl=_u(4),mZ=_u(5),gZ=_u(6);Ay.range;rg.range;hZ.range;pZ.range;Bl.range;mZ.range;gZ.range;function wu(t){return mn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/kT)}const Iy=wu(0),ig=wu(1),yZ=wu(2),vZ=wu(3),ql=wu(4),_Z=wu(5),wZ=wu(6);Iy.range;ig.range;yZ.range;vZ.range;ql.range;_Z.range;wZ.range;const jT=mn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jT.range;const LT=mn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LT.range;const Xo=mn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xo.range;const Qo=mn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qo.range;function AV(t,e,n,r,i,o){const a=[[Xs,1,No],[Xs,5,5*No],[Xs,15,15*No],[Xs,30,30*No],[o,1,Zr],[o,5,5*Zr],[o,15,15*Zr],[o,30,30*Zr],[i,1,Mo],[i,3,3*Mo],[i,6,6*Mo],[i,12,12*Mo],[r,1,Yo],[r,2,2*Yo],[n,1,kT],[e,1,b2],[e,3,3*b2],[t,1,Qb]];function l(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const _=p&&typeof p.range=="function"?p:c(f,h,p),w=_?_.range(f,+h+1):[];return y?w.reverse():w}function c(f,h,p){const y=Math.abs(h-f)/p,_=_T(([,,v])=>v).right(a,y);if(_===a.length)return t.every(qE(f/Qb,h/Qb,p));if(_===0)return ng.every(Math.max(qE(f,h,p),1));const[w,E]=a[y/a[_-1][2]<a[_][2]/y?_-1:_];return w.every(E)}return[l,c]}const[bZ,EZ]=AV(Qo,LT,Iy,TV,DT,NT),[SZ,xZ]=AV(Xo,jT,Ay,gh,MT,RT);function Jb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _f(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function TZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,f=wf(i),h=bf(i),p=wf(o),y=bf(o),_=wf(a),w=bf(a),E=wf(l),v=bf(l),I=wf(c),A=bf(c),R={a:re,A:Q,b:X,B:J,c:null,d:I2,e:I2,f:GZ,g:iee,G:aee,H:WZ,I:HZ,j:KZ,L:IV,m:YZ,M:XZ,p:z,q:Y,Q:O2,s:k2,S:QZ,u:JZ,U:ZZ,V:eee,w:tee,W:nee,x:null,X:null,y:ree,Y:oee,Z:see,"%":C2},j={a:le,A:be,b:xe,B:Ne,c:null,d:P2,e:P2,f:fee,g:bee,G:See,H:uee,I:lee,j:cee,L:CV,m:dee,M:hee,p:De,q:ce,Q:O2,s:k2,S:pee,u:mee,U:gee,V:yee,w:vee,W:_ee,x:null,X:null,y:wee,Y:Eee,Z:xee,"%":C2},O={a:F,A:L,b:V,B:C,c:W,d:T2,e:T2,f:UZ,g:x2,G:S2,H:A2,I:A2,j:LZ,L:VZ,m:jZ,M:$Z,p:M,q:DZ,Q:qZ,s:zZ,S:FZ,u:OZ,U:kZ,V:RZ,w:CZ,W:NZ,x:K,X:Z,y:x2,Y:S2,Z:MZ,"%":BZ};R.x=D(n,R),R.X=D(r,R),R.c=D(e,R),j.x=D(n,j),j.X=D(r,j),j.c=D(e,j);function D(oe,ye){return function(Ie){var he=[],We=-1,je=0,mt=oe.length,wt,Ut,wr;for(Ie instanceof Date||(Ie=new Date(+Ie));++We<mt;)oe.charCodeAt(We)===37&&(he.push(oe.slice(je,We)),(Ut=E2[wt=oe.charAt(++We)])!=null?wt=oe.charAt(++We):Ut=wt==="e"?" ":"0",(wr=ye[wt])&&(wt=wr(Ie,Ut)),he.push(wt),je=We+1);return he.push(oe.slice(je,We)),he.join("")}}function P(oe,ye){return function(Ie){var he=_f(1900,void 0,1),We=k(he,oe,Ie+="",0),je,mt;if(We!=Ie.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ye&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(je=Zb(_f(he.y,0,1)),mt=je.getUTCDay(),je=mt>4||mt===0?ig.ceil(je):ig(je),je=Ty.offset(je,(he.V-1)*7),he.y=je.getUTCFullYear(),he.m=je.getUTCMonth(),he.d=je.getUTCDate()+(he.w+6)%7):(je=Jb(_f(he.y,0,1)),mt=je.getDay(),je=mt>4||mt===0?rg.ceil(je):rg(je),je=gh.offset(je,(he.V-1)*7),he.y=je.getFullYear(),he.m=je.getMonth(),he.d=je.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),mt="Z"in he?Zb(_f(he.y,0,1)).getUTCDay():Jb(_f(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(mt+5)%7:he.w+he.U*7-(mt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Zb(he)):Jb(he)}}function k(oe,ye,Ie,he){for(var We=0,je=ye.length,mt=Ie.length,wt,Ut;We<je;){if(he>=mt)return-1;if(wt=ye.charCodeAt(We++),wt===37){if(wt=ye.charAt(We++),Ut=O[wt in E2?ye.charAt(We++):wt],!Ut||(he=Ut(oe,Ie,he))<0)return-1}else if(wt!=Ie.charCodeAt(he++))return-1}return he}function M(oe,ye,Ie){var he=f.exec(ye.slice(Ie));return he?(oe.p=h.get(he[0].toLowerCase()),Ie+he[0].length):-1}function F(oe,ye,Ie){var he=_.exec(ye.slice(Ie));return he?(oe.w=w.get(he[0].toLowerCase()),Ie+he[0].length):-1}function L(oe,ye,Ie){var he=p.exec(ye.slice(Ie));return he?(oe.w=y.get(he[0].toLowerCase()),Ie+he[0].length):-1}function V(oe,ye,Ie){var he=I.exec(ye.slice(Ie));return he?(oe.m=A.get(he[0].toLowerCase()),Ie+he[0].length):-1}function C(oe,ye,Ie){var he=E.exec(ye.slice(Ie));return he?(oe.m=v.get(he[0].toLowerCase()),Ie+he[0].length):-1}function W(oe,ye,Ie){return k(oe,e,ye,Ie)}function K(oe,ye,Ie){return k(oe,n,ye,Ie)}function Z(oe,ye,Ie){return k(oe,r,ye,Ie)}function re(oe){return a[oe.getDay()]}function Q(oe){return o[oe.getDay()]}function X(oe){return c[oe.getMonth()]}function J(oe){return l[oe.getMonth()]}function z(oe){return i[+(oe.getHours()>=12)]}function Y(oe){return 1+~~(oe.getMonth()/3)}function le(oe){return a[oe.getUTCDay()]}function be(oe){return o[oe.getUTCDay()]}function xe(oe){return c[oe.getUTCMonth()]}function Ne(oe){return l[oe.getUTCMonth()]}function De(oe){return i[+(oe.getUTCHours()>=12)]}function ce(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ye=D(oe+="",R);return ye.toString=function(){return oe},ye},parse:function(oe){var ye=P(oe+="",!1);return ye.toString=function(){return oe},ye},utcFormat:function(oe){var ye=D(oe+="",j);return ye.toString=function(){return oe},ye},utcParse:function(oe){var ye=P(oe+="",!0);return ye.toString=function(){return oe},ye}}}var E2={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,AZ=/^%/,IZ=/[\\^$*+?|[\]().{}]/g;function ct(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function PZ(t){return t.replace(IZ,"\\$&")}function wf(t){return new RegExp("^(?:"+t.map(PZ).join("|")+")","i")}function bf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function CZ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function OZ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function kZ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function RZ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function NZ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function S2(t,e,n){var r=xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function x2(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function MZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DZ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jZ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function T2(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function LZ(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function A2(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $Z(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function FZ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function VZ(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function UZ(t,e,n){var r=xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function BZ(t,e,n){var r=AZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qZ(t,e,n){var r=xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zZ(t,e,n){var r=xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function I2(t,e){return ct(t.getDate(),e,2)}function WZ(t,e){return ct(t.getHours(),e,2)}function HZ(t,e){return ct(t.getHours()%12||12,e,2)}function KZ(t,e){return ct(1+gh.count(Xo(t),t),e,3)}function IV(t,e){return ct(t.getMilliseconds(),e,3)}function GZ(t,e){return IV(t,e)+"000"}function YZ(t,e){return ct(t.getMonth()+1,e,2)}function XZ(t,e){return ct(t.getMinutes(),e,2)}function QZ(t,e){return ct(t.getSeconds(),e,2)}function JZ(t){var e=t.getDay();return e===0?7:e}function ZZ(t,e){return ct(Ay.count(Xo(t)-1,t),e,2)}function PV(t){var e=t.getDay();return e>=4||e===0?Bl(t):Bl.ceil(t)}function eee(t,e){return t=PV(t),ct(Bl.count(Xo(t),t)+(Xo(t).getDay()===4),e,2)}function tee(t){return t.getDay()}function nee(t,e){return ct(rg.count(Xo(t)-1,t),e,2)}function ree(t,e){return ct(t.getFullYear()%100,e,2)}function iee(t,e){return t=PV(t),ct(t.getFullYear()%100,e,2)}function oee(t,e){return ct(t.getFullYear()%1e4,e,4)}function aee(t,e){var n=t.getDay();return t=n>=4||n===0?Bl(t):Bl.ceil(t),ct(t.getFullYear()%1e4,e,4)}function see(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ct(e/60|0,"0",2)+ct(e%60,"0",2)}function P2(t,e){return ct(t.getUTCDate(),e,2)}function uee(t,e){return ct(t.getUTCHours(),e,2)}function lee(t,e){return ct(t.getUTCHours()%12||12,e,2)}function cee(t,e){return ct(1+Ty.count(Qo(t),t),e,3)}function CV(t,e){return ct(t.getUTCMilliseconds(),e,3)}function fee(t,e){return CV(t,e)+"000"}function dee(t,e){return ct(t.getUTCMonth()+1,e,2)}function hee(t,e){return ct(t.getUTCMinutes(),e,2)}function pee(t,e){return ct(t.getUTCSeconds(),e,2)}function mee(t){var e=t.getUTCDay();return e===0?7:e}function gee(t,e){return ct(Iy.count(Qo(t)-1,t),e,2)}function OV(t){var e=t.getUTCDay();return e>=4||e===0?ql(t):ql.ceil(t)}function yee(t,e){return t=OV(t),ct(ql.count(Qo(t),t)+(Qo(t).getUTCDay()===4),e,2)}function vee(t){return t.getUTCDay()}function _ee(t,e){return ct(ig.count(Qo(t)-1,t),e,2)}function wee(t,e){return ct(t.getUTCFullYear()%100,e,2)}function bee(t,e){return t=OV(t),ct(t.getUTCFullYear()%100,e,2)}function Eee(t,e){return ct(t.getUTCFullYear()%1e4,e,4)}function See(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ql(t):ql.ceil(t),ct(t.getUTCFullYear()%1e4,e,4)}function xee(){return"+0000"}function C2(){return"%"}function O2(t){return+t}function k2(t){return Math.floor(+t/1e3)}var ll,kV,RV;Tee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tee(t){return ll=TZ(t),kV=ll.format,ll.parse,RV=ll.utcFormat,ll.utcParse,ll}function Aee(t){return new Date(t)}function Iee(t){return t instanceof Date?+t:+new Date(+t)}function $T(t,e,n,r,i,o,a,l,c,f){var h=xT(),p=h.invert,y=h.domain,_=f(".%L"),w=f(":%S"),E=f("%I:%M"),v=f("%I %p"),I=f("%a %d"),A=f("%b %d"),R=f("%B"),j=f("%Y");function O(D){return(c(D)<D?_:l(D)<D?w:a(D)<D?E:o(D)<D?v:r(D)<D?i(D)<D?I:A:n(D)<D?R:j)(D)}return h.invert=function(D){return new Date(p(D))},h.domain=function(D){return arguments.length?y(Array.from(D,Iee)):y().map(Aee)},h.ticks=function(D){var P=y();return t(P[0],P[P.length-1],D??10)},h.tickFormat=function(D,P){return P==null?O:f(P)},h.nice=function(D){var P=y();return(!D||typeof D.range!="function")&&(D=e(P[0],P[P.length-1],D??10)),D?y(vV(P,D)):h},h.copy=function(){return mh(h,$T(t,e,n,r,i,o,a,l,c,f))},h}function Pee(){return li.apply($T(SZ,xZ,Xo,jT,Ay,gh,MT,RT,Xs,kV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cee(){return li.apply($T(bZ,EZ,Qo,LT,Iy,Ty,DT,NT,Xs,RV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Py(){var t=0,e=1,n,r,i,o,a=nr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(a=p,f):a};function h(p){return function(y){var _,w;return arguments.length?([_,w]=y,a=p(_,w),f):[a(0),a(1)]}}return f.range=h(vc),f.rangeRound=h(ST),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function ls(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function NV(){var t=us(Py()(nr));return t.copy=function(){return ls(t,NV())},ia.apply(t,arguments)}function MV(){var t=IT(Py()).domain([1,10]);return t.copy=function(){return ls(t,MV()).base(t.base())},ia.apply(t,arguments)}function DV(){var t=PT(Py());return t.copy=function(){return ls(t,DV()).constant(t.constant())},ia.apply(t,arguments)}function FT(){var t=CT(Py());return t.copy=function(){return ls(t,FT()).exponent(t.exponent())},ia.apply(t,arguments)}function Oee(){return FT.apply(null,arguments).exponent(.5)}function jV(){var t=[],e=nr;function n(r){if(r!=null&&!isNaN(r=+r))return e((hh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(za),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>gJ(t,o/r))},n.copy=function(){return jV(e).domain(t)},ia.apply(n,arguments)}function Cy(){var t=0,e=.5,n=1,r=1,i,o,a,l,c,f=nr,h,p=!1,y;function _(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-o)*(r*E<r*o?l:c),f(p?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),o=h(e=+e),a=h(n=+n),l=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(p=!!E,_):p},_.interpolator=function(E){return arguments.length?(f=E,_):f};function w(E){return function(v){var I,A,R;return arguments.length?([I,A,R]=v,f=BJ(E,[I,A,R]),_):[f(0),f(.5),f(1)]}}return _.range=w(vc),_.rangeRound=w(ST),_.unknown=function(E){return arguments.length?(y=E,_):y},function(E){return h=E,i=E(t),o=E(e),a=E(n),l=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,_}}function LV(){var t=us(Cy()(nr));return t.copy=function(){return ls(t,LV())},ia.apply(t,arguments)}function $V(){var t=IT(Cy()).domain([.1,1,10]);return t.copy=function(){return ls(t,$V()).base(t.base())},ia.apply(t,arguments)}function FV(){var t=PT(Cy());return t.copy=function(){return ls(t,FV()).constant(t.constant())},ia.apply(t,arguments)}function VT(){var t=CT(Cy());return t.copy=function(){return ls(t,VT()).exponent(t.exponent())},ia.apply(t,arguments)}function kee(){return VT.apply(null,arguments).exponent(.5)}const R2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yd,scaleDiverging:LV,scaleDivergingLog:$V,scaleDivergingPow:VT,scaleDivergingSqrt:kee,scaleDivergingSymlog:FV,scaleIdentity:yV,scaleImplicit:zE,scaleLinear:tg,scaleLog:_V,scaleOrdinal:wT,scalePoint:Wf,scalePow:OT,scaleQuantile:EV,scaleQuantize:SV,scaleRadial:bV,scaleSequential:NV,scaleSequentialLog:MV,scaleSequentialPow:FT,scaleSequentialQuantile:jV,scaleSequentialSqrt:Oee,scaleSequentialSymlog:DV,scaleSqrt:fZ,scaleSymlog:wV,scaleThreshold:xV,scaleTime:Pee,scaleUtc:Cee,tickFormat:gV},Symbol.toStringTag,{value:"Module"}));var e1,N2;function VV(){if(N2)return e1;N2=1;var t=mc();function e(n,r,i){for(var o=-1,a=n.length;++o<a;){var l=n[o],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return e1=e,e1}var t1,M2;function Ree(){if(M2)return t1;M2=1;function t(e,n){return e>n}return t1=t,t1}var n1,D2;function Nee(){if(D2)return n1;D2=1;var t=VV(),e=Ree(),n=yc();function r(i){return i&&i.length?t(i,n,e):void 0}return n1=r,n1}var Mee=Nee();const Oy=At(Mee);var r1,j2;function Dee(){if(j2)return r1;j2=1;function t(e,n){return e<n}return r1=t,r1}var i1,L2;function jee(){if(L2)return i1;L2=1;var t=VV(),e=Dee(),n=yc();function r(i){return i&&i.length?t(i,n,e):void 0}return i1=r,i1}var Lee=jee();const ky=At(Lee);var o1,$2;function $ee(){if($2)return o1;$2=1;var t=nT(),e=ss(),n=GF(),r=_r();function i(o,a){var l=r(o)?t:n;return l(o,e(a,3))}return o1=i,o1}var a1,F2;function Fee(){if(F2)return a1;F2=1;var t=HF(),e=$ee();function n(r,i){return t(e(r,i),1)}return a1=n,a1}var Vee=Fee();const Uee=At(Vee);var s1,V2;function Bee(){if(V2)return s1;V2=1;var t=mT();function e(n,r){return t(n,r)}return s1=e,s1}var qee=Bee();const Ry=At(qee);var _c=1e9,zee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BT,Mt=!0,ai="[DecimalError] ",nu=ai+"Invalid argument: ",UT=ai+"Exponent out of range: ",wc=Math.floor,zs=Math.pow,Wee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,En=1e7,Ct=7,UV=9007199254740991,og=wc(UV/Ct),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return Bo(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return Et(Bo(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return on(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mr))throw Error(ai+"NaN");if(n.s<1)throw Error(ai+(n.s?"NaN":"-Infinity"));return n.eq(Mr)?new r(0):(Mt=!1,e=Bo(Ed(n,o),Ed(t,o),o),Mt=!0,Et(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zV(e,t):BV(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ai+"NaN");return n.s?(Mt=!1,e=Bo(n,t,0,1).times(t),Mt=!0,n.minus(e)):Et(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return qV(this)};Ce.naturalLogarithm=Ce.ln=function(){return Ed(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BV(e,t):zV(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nu+t);if(e=on(i)+1,r=i.d.length-1,n=r*Ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,o,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ai+"NaN")}for(t=on(l),Mt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=eo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(Bo(l,o,a+2)).times(.5),eo(o.d).slice(0,a)===(e=eo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Et(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;a+=4}return Mt=!0,Et(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,o,a,l,c,f,h=this,p=h.constructor,y=h.d,_=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=_.length,c<f&&(o=y,y=_,_=o,a=c,c=f,f=a),o=[],a=c+f,r=a;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+_[r]*y[i-r-1]+e,o[i--]=l%En|0,e=l/En|0;o[i]=(o[i]+e)%En|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Mt?Et(t,p.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(uo(t,0,_c),e===void 0?e=r.rounding:uo(e,0,8),Et(n,t+on(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uu(r,!0):(uo(t,0,_c),e===void 0?e=i.rounding:uo(e,0,8),r=Et(new i(r),t+1,e),n=uu(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?uu(i):(uo(t,0,_c),e===void 0?e=o.rounding:uo(e,0,8),r=Et(new o(i),t+on(i)+1,e),n=uu(r.abs(),!1,t+on(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return Et(new e(t),on(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,o,a,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Mr);if(l=new c(l),!l.s){if(t.s<1)throw Error(ai+"Infinity");return l}if(l.eq(Mr))return l;if(r=c.precision,t.eq(Mr))return Et(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=l.s,a){if((n=h<0?-h:h)<=UV){for(i=new c(Mr),e=Math.ceil(r/Ct+4),Mt=!1;n%2&&(i=i.times(l),B2(i.d,e)),n=wc(n/2),n!==0;)l=l.times(l),B2(l.d,e);return Mt=!0,t.s<0?new c(Mr).div(i):Et(i,r)}}else if(o<0)throw Error(ai+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Mt=!1,i=t.times(Ed(l,r+f)),Mt=!0,i=qV(i),i.s=o,i};Ce.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=on(i),r=uu(i,n<=o.toExpNeg||n>=o.toExpPos)):(uo(t,1,_c),e===void 0?e=o.rounding:uo(e,0,8),i=Et(new o(i),t,e),n=on(i),r=uu(i,t<=n||n<=o.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(uo(t,1,_c),e===void 0?e=r.rounding:uo(e,0,8)),Et(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),n=t.constructor;return uu(t,e<=n.toExpNeg||e>=n.toExpPos)};function BV(t,e){var n,r,i,o,a,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Mt?Et(e,p):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=a,l=c.length),a=Math.ceil(p/Ct),l=a>l?a+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/En|0,c[o]%=En;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Mt?Et(e,p):e}function uo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nu+t)}function eo(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ct-r.length,n&&(o+=Ra(n)),o+=r;a=t[e],r=a+"",n=Ct-r.length,n&&(o+=Ra(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Bo=function(){function t(r,i){var o,a=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+a,r[l]=o%En|0,a=o/En|0;return a&&r.unshift(a),r}function e(r,i,o,a){var l,c;if(o!=a)c=o>a?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*En+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var l,c,f,h,p,y,_,w,E,v,I,A,R,j,O,D,P,k,M=r.constructor,F=r.s==i.s?1:-1,L=r.d,V=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(ai+"Division by zero");for(c=r.e-i.e,P=V.length,O=L.length,_=new M(F),w=_.d=[],f=0;V[f]==(L[f]||0);)++f;if(V[f]>(L[f]||0)&&--c,o==null?A=o=M.precision:a?A=o+(on(r)-on(i))+1:A=o,A<0)return new M(0);if(A=A/Ct+2|0,f=0,P==1)for(h=0,V=V[0],A++;(f<O||h)&&A--;f++)R=h*En+(L[f]||0),w[f]=R/V|0,h=R%V|0;else{for(h=En/(V[0]+1)|0,h>1&&(V=t(V,h),L=t(L,h),P=V.length,O=L.length),j=P,E=L.slice(0,P),v=E.length;v<P;)E[v++]=0;k=V.slice(),k.unshift(0),D=V[0],V[1]>=En/2&&++D;do h=0,l=e(V,E,P,v),l<0?(I=E[0],P!=v&&(I=I*En+(E[1]||0)),h=I/D|0,h>1?(h>=En&&(h=En-1),p=t(V,h),y=p.length,v=E.length,l=e(p,E,y,v),l==1&&(h--,n(p,P<y?k:V,y))):(h==0&&(l=h=1),p=V.slice()),y=p.length,y<v&&p.unshift(0),n(E,p,v),l==-1&&(v=E.length,l=e(V,E,P,v),l<1&&(h++,n(E,P<v?k:V,v))),v=E.length):l===0&&(h++,E=[0]),w[f++]=h,l&&E[0]?E[v++]=L[j]||0:(E=[L[j]],v=1);while((j++<O||E[0]!==void 0)&&A--)}return w[0]||w.shift(),_.e=c,Et(_,a?o+on(_)+1:o)}}();function qV(t,e){var n,r,i,o,a,l,c=0,f=0,h=t.constructor,p=h.precision;if(on(t)>16)throw Error(UT+on(t));if(!t.s)return new h(Mr);for(e==null?(Mt=!1,l=p):l=e,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(zs(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new h(Mr),h.precision=l;;){if(i=Et(i.times(t),l),n=n.times(++c),a=o.plus(Bo(i,n,l)),eo(a.d).slice(0,l)===eo(o.d).slice(0,l)){for(;f--;)o=Et(o.times(o),l);return h.precision=p,e==null?(Mt=!0,Et(o,p)):o}o=a}}function on(t){for(var e=t.e*Ct,n=t.d[0];n>=10;n/=10)e++;return e}function u1(t,e,n){if(e>t.LN10.sd())throw Mt=!0,n&&(t.precision=n),Error(ai+"LN10 precision limit exceeded");return Et(new t(t.LN10),e)}function Ra(t){for(var e="";t--;)e+="0";return e}function Ed(t,e){var n,r,i,o,a,l,c,f,h,p=1,y=10,_=t,w=_.d,E=_.constructor,v=E.precision;if(_.s<1)throw Error(ai+(_.s?"NaN":"-Infinity"));if(_.eq(Mr))return new E(0);if(e==null?(Mt=!1,f=v):f=e,_.eq(10))return e==null&&(Mt=!0),u1(E,f);if(f+=y,E.precision=f,n=eo(w),r=n.charAt(0),o=on(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=eo(_.d),r=n.charAt(0),p++;o=on(_),r>1?(_=new E("0."+n),o++):_=new E(r+"."+n.slice(1))}else return c=u1(E,f+2,v).times(o+""),_=Ed(new E(r+"."+n.slice(1)),f-y).plus(c),E.precision=v,e==null?(Mt=!0,Et(_,v)):_;for(l=a=_=Bo(_.minus(Mr),_.plus(Mr),f),h=Et(_.times(_),f),i=3;;){if(a=Et(a.times(h),f),c=l.plus(Bo(a,new E(i),f)),eo(c.d).slice(0,f)===eo(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(u1(E,f+2,v).times(o+""))),l=Bo(l,new E(p),f),E.precision=v,e==null?(Mt=!0,Et(l,v)):l;l=c,i+=2}}function U2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=wc(n/Ct),t.d=[],r=(n+1)%Ct,n<0&&(r+=Ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ct;r<i;)t.d.push(+e.slice(r,r+=Ct));e=e.slice(r),r=Ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Mt&&(t.e>og||t.e<-og))throw Error(UT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Et(t,e,n){var r,i,o,a,l,c,f,h,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ct,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Ct),o=p.length,h>=o)return t;for(f=o=p[h],a=1;o>=10;o/=10)a++;r%=Ct,i=r-Ct+a}if(n!==void 0&&(o=zs(10,a-i-1),l=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/zs(10,a-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=on(t),p.length=1,e=e-o-1,p[0]=zs(10,(Ct-e%Ct)%Ct),t.e=wc(-e/Ct)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=zs(10,Ct-r),p[h]=i>0?(f/zs(10,a-i)%zs(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==En&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=En)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Mt&&(t.e>og||t.e<-og))throw Error(UT+on(t));return t}function zV(t,e){var n,r,i,o,a,l,c,f,h,p,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Mt?Et(e,_):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),a=f-r,a){for(h=a<0,h?(n=c,a=-a,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(_/Ct),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}a=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=En-1;--c[o],c[i]+=En}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Mt?Et(e,_):e):new y(0)}function uu(t,e,n){var r,i=on(t),o=eo(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ra(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ra(-i-1)+o,n&&(r=n-a)>0&&(o+=Ra(r))):i>=a?(o+=Ra(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ra(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ra(r))),t.s<0?"-"+o:o}function B2(t,e){if(t.length>e)return t.length=e,!0}function WV(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(nu+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return U2(a,o.toString())}else if(typeof o!="string")throw Error(nu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Wee.test(o))U2(a,o);else throw Error(nu+o)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WV,i.config=i.set=Hee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Hee(t){if(!t||typeof t!="object")throw Error(ai+"Object expected");var e,n,r,i=["precision",1,_c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(wc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nu+n+": "+r);return this}var BT=WV(zee);Mr=new BT(1);const _t=BT;function Kee(t){return Qee(t)||Xee(t)||Yee(t)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yee(t,e){if(t){if(typeof t=="string")return GE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GE(t,e)}}function Xee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qee(t){if(Array.isArray(t))return GE(t)}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jee=function(e){return e},HV={"@@functional/placeholder":!0},KV=function(e){return e===HV},q2=function(e){return function n(){return arguments.length===0||arguments.length===1&&KV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Zee=function t(e,n){return e===1?n:q2(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(l){return l!==HV}).length;return a>=e?n.apply(void 0,i):t(e-a,q2(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(p){return KV(p)?c.shift():p});return n.apply(void 0,Kee(h).concat(c))}))})},Ny=function(e){return Zee(e.length,e)},YE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},ete=Ny(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),tte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Jee;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},XE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},GV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function nte(t){var e;return t===0?e=1:e=Math.floor(new _t(t).abs().log(10).toNumber())+1,e}function rte(t,e,n){for(var r=new _t(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var ite=Ny(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ote=Ny(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ate=Ny(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const My={rangeStep:rte,getDigitCount:nte,interpolateNumber:ite,uninterpolateNumber:ote,uninterpolateTruncation:ate};function QE(t){return lte(t)||ute(t)||YV(t)||ste()}function ste(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lte(t){if(Array.isArray(t))return JE(t)}function Sd(t,e){return dte(t)||fte(t,e)||YV(t,e)||cte()}function cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YV(t,e){if(t){if(typeof t=="string")return JE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JE(t,e)}}function JE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function dte(t){if(Array.isArray(t))return t}function XV(t){var e=Sd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function QV(t,e,n){if(t.lte(0))return new _t(0);var r=My.getDigitCount(t.toNumber()),i=new _t(10).pow(r),o=t.div(i),a=r!==1?.05:.1,l=new _t(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?c:new _t(Math.ceil(c))}function hte(t,e,n){var r=1,i=new _t(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new _t(10).pow(My.getDigitCount(t)-1),i=new _t(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new _t(Math.floor(t)))}else t===0?i=new _t(Math.floor((e-1)/2)):n||(i=new _t(Math.floor(t)));var a=Math.floor((e-1)/2),l=tte(ete(function(c){return i.add(new _t(c-a).mul(r)).toNumber()}),YE);return l(0,e)}function JV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var o=QV(new _t(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new _t(0):(a=new _t(t).add(e).div(2),a=a.sub(new _t(a).mod(o)));var l=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new _t(e).sub(a).div(o).toNumber()),f=l+c+1;return f>n?JV(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:o,tickMin:a.sub(new _t(l).mul(o)),tickMax:a.add(new _t(c).mul(o))})}function pte(t){var e=Sd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=XV([n,r]),c=Sd(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(QE(YE(0,i-1).map(function(){return 1/0}))):[].concat(QE(YE(0,i-1).map(function(){return-1/0})),[h]);return n>r?XE(p):p}if(f===h)return hte(f,i,o);var y=JV(f,h,a,o),_=y.step,w=y.tickMin,E=y.tickMax,v=My.rangeStep(w,E.add(new _t(.1).mul(_)),_);return n>r?XE(v):v}function mte(t,e){var n=Sd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=XV([r,i]),l=Sd(a,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=QV(new _t(f).sub(c).div(h-1),o,0),y=[].concat(QE(My.rangeStep(new _t(c),new _t(f).sub(new _t(.99).mul(p)),p)),[f]);return r>i?XE(y):y}var gte=GV(pte),yte=GV(mte),vte="Invariant failed";function lu(t,e){throw new Error(vte)}var _te=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function wte(t,e){return xte(t)||Ste(t,e)||Ete(t,e)||bte()}function bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(t,e){if(t){if(typeof t=="string")return z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(t,e)}}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ste(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function xte(t){if(Array.isArray(t))return t}function Tte(t,e){if(t==null)return{};var n=Ate(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ate(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ite(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t4(r.key),r)}}function Cte(t,e,n){return e&&Pte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ote(t,e,n){return e=sg(e),kte(t,ZV()?Reflect.construct(e,n||[],sg(t).constructor):e.apply(t,n))}function kte(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rte(t)}function Rte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function Nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZE(t,e)}function e4(t,e,n){return e=t4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t4(t){var e=Mte(t,"string");return zl(e)=="symbol"?e:e+""}function Mte(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yh=function(t){function e(){return Ite(this,e),Ote(this,e,arguments)}return Nte(e,t),Cte(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,y=Tte(r,_te),_=it(y,!1);this.props.direction==="x"&&h.type!=="number"&&lu();var w=c.map(function(E){var v=f(E,l),I=v.x,A=v.y,R=v.value,j=v.errorVal;if(!j)return null;var O=[],D,P;if(Array.isArray(j)){var k=wte(j,2);D=k[0],P=k[1]}else D=P=j;if(o==="vertical"){var M=h.scale,F=A+i,L=F+a,V=F-a,C=M(R-D),W=M(R+P);O.push({x1:W,y1:L,x2:W,y2:V}),O.push({x1:C,y1:F,x2:W,y2:F}),O.push({x1:C,y1:L,x2:C,y2:V})}else if(o==="horizontal"){var K=p.scale,Z=I+i,re=Z-a,Q=Z+a,X=K(R-D),J=K(R+P);O.push({x1:re,y1:J,x2:Q,y2:J}),O.push({x1:Z,y1:X,x2:Z,y2:J}),O.push({x1:re,y1:X,x2:Q,y2:X})}return ee.createElement(Xt,ag({className:"recharts-errorBar",key:"bar-".concat(O.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},_),O.map(function(z){return ee.createElement("line",ag({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return ee.createElement(Xt,{className:"recharts-errorBars"},w)}}])}(ee.Component);e4(yh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});e4(yh,"displayName","ErrorBar");function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return e=jte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Lte(t,"string");return xd(e)=="symbol"?e:e+""}function Lte(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n4=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Nr(n,qa);if(!a)return null;var l=qa.defaultProps,c=l!==void 0?Fs(Fs({},l),a.props):{},f;return a.props&&a.props.payload?f=a.props&&a.props.payload:o==="children"?f=(r||[]).reduce(function(h,p){var y=p.item,_=p.props,w=_.sectors||_.data||[];return h.concat(w.map(function(E){return{type:a.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var p=h.item,y=p.type.defaultProps,_=y!==void 0?Fs(Fs({},y),p.props):{},w=_.dataKey,E=_.name,v=_.legendType,I=_.hide;return{inactive:I,dataKey:w,type:c.iconType||v||"square",color:qT(p),value:E||w,payload:_}}),Fs(Fs(Fs({},c),qa.getWithHeight(a,i)),{},{payload:f,item:a})};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function H2(t){return Ute(t)||Vte(t)||Fte(t)||$te()}function $te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fte(t,e){if(t){if(typeof t=="string")return eS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(t,e)}}function Vte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ute(t){if(Array.isArray(t))return eS(t)}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){Il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Il(t,e,n){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=qte(t,"string");return Td(e)=="symbol"?e:e+""}function qte(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lr(t,e,n){return Ze(t)||Ze(e)?n:dn(e)?ti(t,e,n):Qe(e)?e(t):n}function Hf(t,e,n,r){var i=Uee(t,function(l){return Lr(l,e)});if(n==="number"){var o=i.filter(function(l){return Se(l)||parseFloat(l)});return o.length?[ky(o),Oy(o)]:[1/0,-1/0]}var a=r?i.filter(function(l){return!Ze(l)}):i;return a.map(function(l){return dn(l)||l instanceof Date?l:""})}var zte=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,y=f>=l-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(Ri(p-h)!==Ri(y-p)){var w=[];if(Ri(y-p)===Ri(c[1]-c[0])){_=y;var E=p+c[1]-c[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{_=h;var v=y+c[1]-c[0];w[0]=Math.min(p,(v+p)/2),w[1]=Math.max(p,(v+p)/2)}var I=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(e>I[0]&&e<=I[1]||e>=w[0]&&e<=w[1]){a=i[f].index;break}}else{var A=Math.min(h,y),R=Math.max(h,y);if(e>(A+p)/2&&e<=(R+p)/2){a=i[f].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){a=r[j].index;break}return a},qT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,a=o.stroke,l=o.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},Wte=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var h=o[l[c]].stackGroups,p=Object.keys(h),y=0,_=p.length;y<_;y++){var w=h[p[y]],E=w.items,v=w.cateAxisId,I=E.filter(function(P){return Vo(P.type).indexOf("Bar")>=0});if(I&&I.length){var A=I[0].type.defaultProps,R=A!==void 0?zt(zt({},A),I[0].props):I[0].props,j=R.barSize,O=R[v];a[O]||(a[O]=[]);var D=Ze(j)?n:j;a[O].push({item:I[0],stackList:I.slice(1),barSize:Ze(D)?void 0:su(D,r,0)})}}return a},Hte=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,l=e.maxBarSize,c=a.length;if(c<1)return null;var f=su(n,i,0,!0),h,p=[];if(a[0].barSize===+a[0].barSize){var y=!1,_=i/c,w=a.reduce(function(j,O){return j+O.barSize||0},0);w+=(c-1)*f,w>=i&&(w-=(c-1)*f,f=0),w>=i&&_>0&&(y=!0,_*=.9,w=c*_);var E=(i-w)/2>>0,v={offset:E-f,size:0};h=a.reduce(function(j,O){var D={item:O.item,position:{offset:v.offset+v.size+f,size:y?_:O.barSize}},P=[].concat(H2(j),[D]);return v=P[P.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(k){P.push({item:k,position:v})}),P},p)}else{var I=su(r,i,0,!0);i-2*I-(c-1)*f<=0&&(f=0);var A=(i-2*I-(c-1)*f)/c;A>1&&(A>>=0);var R=l===+l?Math.min(A,l):A;h=a.reduce(function(j,O,D){var P=[].concat(H2(j),[{item:O.item,position:{offset:I+(A+f)*D+(A-R)/2,size:R}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(k){P.push({item:k,position:P[P.length-1].position})}),P},p)}return h},Kte=function(e,n,r,i){var o=r.children,a=r.width,l=r.margin,c=a-(l.left||0)-(l.right||0),f=n4({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,y=h.height,_=f.align,w=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&w==="middle")&&_!=="center"&&Se(e[_]))return zt(zt({},e),{},Il({},_,e[_]+(p||0)));if((E==="horizontal"||E==="vertical"&&_==="center")&&w!=="middle"&&Se(e[w]))return zt(zt({},e),{},Il({},w,e[w]+(y||0)))}return e},Gte=function(e,n,r){return Ze(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},r4=function(e,n,r,i,o){var a=n.props.children,l=ni(a,yh).filter(function(f){return Gte(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=Lr(h,r);if(Ze(p))return f;var y=Array.isArray(p)?[ky(p),Oy(p)]:[p,p],_=c.reduce(function(w,E){var v=Lr(h,E,0),I=y[0]-Math.abs(Array.isArray(v)?v[0]:v),A=y[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(I,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},Yte=function(e,n,r,i,o){var a=n.map(function(l){return r4(e,l,r,o,i)}).filter(function(l){return!Ze(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},i4=function(e,n,r,i,o){var a=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&r4(e,c,f,i)||Hf(e,f,r,o)});if(r==="number")return a.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},o4=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Qs=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ri(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var y=o?o.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return h.filter(function(p){return!ch(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:o?o[p]:p,index:y,offset:f}})},l1=new WeakMap,Qp=function(e,n){if(typeof n!="function")return e;l1.has(e)||l1.set(e,new WeakMap);var r=l1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Xte=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,l=e.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:yd(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:tg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Wf(),realScaleType:"point"}:o==="category"?{scale:yd(),realScaleType:"band"}:{scale:tg(),realScaleType:"linear"};if(lh(i)){var c="scale".concat(yy(i));return{scale:(R2[c]||Wf)(),realScaleType:R2[c]?c:"point"}}return Qe(i)?{scale:i}:{scale:Wf(),realScaleType:"point"}},G2=1e-4,Qte=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-G2,a=Math.max(i[0],i[1])+G2,l=e(n[0]),c=e(n[r-1]);(l<o||l>a||c<o||c>a)&&e.domain([n[0],n[r-1]])}},Jte=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Zte=function(e,n){if(!n||n.length!==2||!Se(n[0])||!Se(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Se(e[0])||e[0]<r)&&(o[0]=r),(!Se(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ene=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,l=0;l<n;++l){var c=ch(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1])}},tne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var l=ch(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},nne={sign:ene,expand:FG,none:jl,silhouette:VG,wiggle:UG,positive:tne},rne=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=nne[r],a=$G().keys(i).value(function(l,c){return+Lr(l,c,0)}).order(OE).offset(o);return a(e)},ine=function(e,n,r,i,o,a){if(!e)return null;var l=a?n.reverse():n,c={},f=l.reduce(function(p,y){var _,w=(_=y.type)!==null&&_!==void 0&&_.defaultProps?zt(zt({},y.type.defaultProps),y.props):y.props,E=w.stackId,v=w.hide;if(v)return p;var I=w[r],A=p[I]||{hasStack:!1,stackGroups:{}};if(dn(E)){var R=A.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};R.items.push(y),A.hasStack=!0,A.stackGroups[E]=R}else A.stackGroups[fh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return zt(zt({},p),{},Il({},I,A))},c),h={};return Object.keys(f).reduce(function(p,y){var _=f[y];if(_.hasStack){var w={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(E,v){var I=_.stackGroups[v];return zt(zt({},E),{},Il({},v,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:rne(e,I.items,o)}))},w)}return zt(zt({},p),{},Il({},y,_))},h)},one=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=gte(f,o,l);return e.domain([ky(h),Oy(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),y=yte(p,o,l);return{niceTicks:y}}return null};function Y2(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ze(i[e.dataKey])){var l=Dm(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=Lr(i,Ze(a)?e.dataKey:a);return Ze(c)?null:e.scale(c)}var X2=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Lr(a,n.dataKey,n.domain[l]);return Ze(c)?null:n.scale(c)-o/2+i},ane=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},sne=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(dn(o)){var a=n[o];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},une=function(e){return e.reduce(function(n,r){return[ky(r.concat([n[0]]).filter(Se)),Oy(r.concat([n[1]]).filter(Se))]},[1/0,-1/0])},a4=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],l=a.stackedData,c=l.reduce(function(f,h){var p=une(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Q2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tS=function(e,n,r){if(Qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Se(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Q2.test(e[0])){var o=+Q2.exec(e[0])[1];i[0]=n[0]-o}else Qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Se(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(J2.test(e[1])){var a=+J2.exec(e[1])[1];i[1]=n[1]+a}else Qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ug=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=yT(n,function(p){return p.coordinate}),a=1/0,l=1,c=o.length;l<c;l++){var f=o[l],h=o[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Z2=function(e,n,r){return!e||!e.length||Ry(e,ti(r,"type.defaultProps.domain"))?n:e},s4=function(e,n){var r=e.type.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return zt(zt({},it(e,!1)),{},{dataKey:i,unit:a,formatter:l,name:o||i,color:qT(e),value:Lr(n,i),type:c,payload:n,chartType:f,hide:h})};function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e,n){return e=cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=fne(t,"string");return Ad(e)=="symbol"?e:e+""}function fne(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lg=Math.PI/180,dne=function(e){return e*180/Math.PI},Mn=function(e,n,r,i){return{x:e+Math.cos(-lg*i)*r,y:n+Math.sin(-lg*i)*r}},hne=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},pne=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,l=hne({x:r,y:i},{x:o,y:a});if(l<=0)return{radius:l};var c=(r-o)/l,f=Math.acos(c);return i>a&&(f=2*Math.PI-f),{radius:l,angle:dne(f),angleInRadian:f}},mne=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},gne=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),l=Math.min(o,a);return e+l*360},nM=function(e,n){var r=e.x,i=e.y,o=pne({x:r,y:i},n),a=o.radius,l=o.angle,c=n.innerRadius,f=n.outerRadius;if(a<c||a>f)return!1;if(a===0)return!0;var h=mne(n),p=h.startAngle,y=h.endAngle,_=l,w;if(p<=y){for(;_>y;)_-=360;for(;_<p;)_+=360;w=_>=p&&_<=y}else{for(;_>p;)_-=360;for(;_<y;)_+=360;w=_>=y&&_<=p}return w?tM(tM({},n),{},{radius:a,angle:gne(_,n)}):null};function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}var yne=["offset"];function vne(t){return Ene(t)||bne(t)||wne(t)||_ne()}function _ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wne(t,e){if(t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function bne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ene(t){if(Array.isArray(t))return nS(t)}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sne(t,e){if(t==null)return{};var n=xne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tne(t,e,n){return e=Ane(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=Ine(t,"string");return Id(e)=="symbol"?e:e+""}function Ine(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pd.apply(this,arguments)}var Pne=function(e){var n=e.value,r=e.formatter,i=Ze(e.children)?n:e.children;return Qe(r)?r(i):i},Cne=function(e,n){var r=Ri(n-e),i=Math.min(Math.abs(n-e),360);return r*i},One=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,l=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,y=c.outerRadius,_=c.startAngle,w=c.endAngle,E=c.clockWise,v=(p+y)/2,I=Cne(_,w),A=I>=0?1:-1,R,j;i==="insideStart"?(R=_+A*a,j=E):i==="insideEnd"?(R=w-A*a,j=!E):i==="end"&&(R=w+A*a,j=E),j=I<=0?j:!j;var O=Mn(f,h,v,R),D=Mn(f,h,v,R+(j?1:-1)*359),P="M".concat(O.x,",").concat(O.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(D.x,",").concat(D.y),k=Ze(e.id)?fh("recharts-radial-line-"):e.id;return ee.createElement("text",Pd({},r,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),ee.createElement("defs",null,ee.createElement("path",{id:k,d:P})),ee.createElement("textPath",{xlinkHref:"#".concat(k)},n))},kne=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,y=(h+p)/2;if(i==="outside"){var _=Mn(a,l,f+r,y),w=_.x,E=_.y;return{x:w,y:E,textAnchor:w>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+f)/2,I=Mn(a,l,v,y),A=I.x,R=I.y;return{x:A,y:R,textAnchor:"middle",verticalAnchor:"middle"}},Rne=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,l=a.x,c=a.y,f=a.width,h=a.height,p=h>=0?1:-1,y=p*i,_=p>0?"end":"start",w=p>0?"start":"end",E=f>=0?1:-1,v=E*i,I=E>0?"end":"start",A=E>0?"start":"end";if(o==="top"){var R={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:_};return fn(fn({},R),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var j={x:l+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:w};return fn(fn({},j),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(o==="left"){var O={x:l-v,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return fn(fn({},O),r?{width:Math.max(O.x-r.x,0),height:h}:{})}if(o==="right"){var D={x:l+f+v,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return fn(fn({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:h}:{})}var P=r?{width:f,height:h}:{};return o==="insideLeft"?fn({x:l+v,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},P):o==="insideRight"?fn({x:l+f-v,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},P):o==="insideTop"?fn({x:l+f/2,y:c+y,textAnchor:"middle",verticalAnchor:w},P):o==="insideBottom"?fn({x:l+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:_},P):o==="insideTopLeft"?fn({x:l+v,y:c+y,textAnchor:A,verticalAnchor:w},P):o==="insideTopRight"?fn({x:l+f-v,y:c+y,textAnchor:I,verticalAnchor:w},P):o==="insideBottomLeft"?fn({x:l+v,y:c+h-y,textAnchor:A,verticalAnchor:_},P):o==="insideBottomRight"?fn({x:l+f-v,y:c+h-y,textAnchor:I,verticalAnchor:_},P):gc(o)&&(Se(o.x)||Gs(o.x))&&(Se(o.y)||Gs(o.y))?fn({x:l+su(o.x,f),y:c+su(o.y,h),textAnchor:"end",verticalAnchor:"end"},P):fn({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Nne=function(e){return"cx"in e&&Se(e.cx)};function zn(t){var e=t.offset,n=e===void 0?5:e,r=Sne(t,yne),i=fn({offset:n},r),o=i.viewBox,a=i.position,l=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,y=i.textBreakAll;if(!o||Ze(l)&&Ze(c)&&!U.isValidElement(f)&&!Qe(f))return null;if(U.isValidElement(f))return U.cloneElement(f,i);var _;if(Qe(f)){if(_=U.createElement(f,i),U.isValidElement(_))return _}else _=Pne(i);var w=Nne(o),E=it(i,!0);if(w&&(a==="insideStart"||a==="insideEnd"||a==="end"))return One(i,_,E);var v=w?kne(i):Rne(i);return ee.createElement(Gm,Pd({className:ut("recharts-label",p)},E,v,{breakAll:y}),_)}zn.displayName="Label";var u4=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,y=e.y,_=e.top,w=e.left,E=e.width,v=e.height,I=e.clockWise,A=e.labelViewBox;if(A)return A;if(Se(E)&&Se(v)){if(Se(p)&&Se(y))return{x:p,y,width:E,height:v};if(Se(_)&&Se(w))return{x:_,y:w,width:E,height:v}}return Se(p)&&Se(y)?{x:p,y,width:0,height:0}:Se(n)&&Se(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:I}:e.viewBox?e.viewBox:{}},Mne=function(e,n){return e?e===!0?ee.createElement(zn,{key:"label-implicit",viewBox:n}):dn(e)?ee.createElement(zn,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===zn?U.cloneElement(e,{key:"label-implicit",viewBox:n}):ee.createElement(zn,{key:"label-implicit",content:e,viewBox:n}):Qe(e)?ee.createElement(zn,{key:"label-implicit",content:e,viewBox:n}):gc(e)?ee.createElement(zn,Pd({viewBox:n},e,{key:"label-implicit"})):null:null},Dne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=u4(e),a=ni(i,zn).map(function(c,f){return U.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return a;var l=Mne(e.label,n||o);return[l].concat(vne(a))};zn.parseViewBox=u4;zn.renderCallByParent=Dne;var c1,iM;function jne(){if(iM)return c1;iM=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return c1=t,c1}var Lne=jne();const $ne=At(Lne);function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var Fne=["valueAccessor"],Vne=["data","dataKey","clockWise","id","textBreakAll"];function Une(t){return Wne(t)||zne(t)||qne(t)||Bne()}function Bne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(t,e){if(t){if(typeof t=="string")return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(t,e)}}function zne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wne(t){if(Array.isArray(t))return rS(t)}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Gne(t,"string");return Cd(e)=="symbol"?e:e+""}function Gne(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sM(t,e){if(t==null)return{};var n=Yne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xne=function(e){return Array.isArray(e.value)?$ne(e.value):e.value};function Wa(t){var e=t.valueAccessor,n=e===void 0?Xne:e,r=sM(t,Fne),i=r.data,o=r.dataKey,a=r.clockWise,l=r.id,c=r.textBreakAll,f=sM(r,Vne);return!i||!i.length?null:ee.createElement(Xt,{className:"recharts-label-list"},i.map(function(h,p){var y=Ze(o)?n(h,p):Lr(h&&h.payload,o),_=Ze(l)?{}:{id:"".concat(l,"-").concat(p)};return ee.createElement(zn,cg({},it(h,!0),f,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:zn.parseViewBox(Ze(a)?h:aM(aM({},h),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}Wa.displayName="LabelList";function Qne(t,e){return t?t===!0?ee.createElement(Wa,{key:"labelList-implicit",data:e}):ee.isValidElement(t)||Qe(t)?ee.createElement(Wa,{key:"labelList-implicit",data:e,content:t}):gc(t)?ee.createElement(Wa,cg({data:e},t,{key:"labelList-implicit"})):null:null}function Jne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ni(r,Wa).map(function(a,l){return U.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=Qne(t.label,e);return[o].concat(Une(i))}Wa.renderCallByParent=Jne;function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(this,arguments)}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zne(t,e,n){return e=ere(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ere(t){var e=tre(t,"string");return Od(e)=="symbol"?e:e+""}function tre(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nre=function(e,n){var r=Ri(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Jp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,p=Math.asin(c/h)/lg,y=f?o:o+a*p,_=Mn(n,r,h,y),w=Mn(n,r,i,y),E=f?o-a*p:o,v=Mn(n,r,h*Math.cos(p*lg),E);return{center:_,circleTangency:w,lineTangency:v,theta:p}},l4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,l=e.endAngle,c=nre(a,l),f=a+c,h=Mn(n,r,o,a),p=Mn(n,r,o,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var _=Mn(n,r,i,a),w=Mn(n,r,i,f);y+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},rre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=Ri(h-f),y=Jp({cx:n,cy:r,radius:o,angle:f,sign:p,cornerRadius:a,cornerIsExternal:c}),_=y.circleTangency,w=y.lineTangency,E=y.theta,v=Jp({cx:n,cy:r,radius:o,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:c}),I=v.circleTangency,A=v.lineTangency,R=v.theta,j=c?Math.abs(f-h):Math.abs(f-h)-E-R;if(j<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):l4({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var O="M ".concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var D=Jp({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),P=D.circleTangency,k=D.lineTangency,M=D.theta,F=Jp({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),L=F.circleTangency,V=F.lineTangency,C=F.theta,W=c?Math.abs(f-h):Math.abs(f-h)-M-C;if(W<0&&a===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(V.x,",").concat(V.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},ire={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},c4=function(e){var n=lM(lM({},ire),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,y=n.className;if(a<o||h===p)return null;var _=ut("recharts-sector",y),w=a-o,E=su(l,w,0,!0),v;return E>0&&Math.abs(h-p)<360?v=rre({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(E,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):v=l4({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:h,endAngle:p}),ee.createElement("path",iS({},it(n,!0),{className:_,d:v,role:"img"}))};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ore(t,e,n){return e=are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return kd(e)=="symbol"?e:e+""}function sre(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dM={curveBasisClosed:IG,curveBasisOpen:PG,curveBasis:AG,curveBumpX:dG,curveBumpY:hG,curveLinearClosed:CG,curveLinear:_y,curveMonotoneX:OG,curveMonotoneY:kG,curveNatural:RG,curveStep:NG,curveStepAfter:DG,curveStepBefore:MG},Zp=function(e){return e.x===+e.x&&e.y===+e.y},Ef=function(e){return e.x},Sf=function(e){return e.y},ure=function(e,n){if(Qe(e))return e;var r="curve".concat(yy(e));return(r==="curveMonotone"||r==="curveBump")&&n?dM["".concat(r).concat(n==="vertical"?"Y":"X")]:dM[r]||_y},lre=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=ure(r,l),p=f?o.filter(function(E){return Zp(E)}):o,y;if(Array.isArray(a)){var _=f?a.filter(function(E){return Zp(E)}):a,w=p.map(function(E,v){return fM(fM({},E),{},{base:_[v]})});return l==="vertical"?y=zp().y(Sf).x1(Ef).x0(function(E){return E.base.x}):y=zp().x(Ef).y1(Sf).y0(function(E){return E.base.y}),y.defined(Zp).curve(h),y(w)}return l==="vertical"&&Se(a)?y=zp().y(Sf).x1(Ef).x0(a):Se(a)?y=zp().x(Ef).y1(Sf).y0(a):y=mF().x(Ef).y(Sf),y.defined(Zp).curve(h),y(p)},aS=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?lre(e):i;return ee.createElement("path",oS({},it(e,!1),jm(e),{className:ut("recharts-curve",n),d:a,ref:o}))},f1={exports:{}},d1,hM;function cre(){if(hM)return d1;hM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return d1=t,d1}var h1,pM;function fre(){if(pM)return h1;pM=1;var t=cre();function e(){}function n(){}return n.resetWarningCache=e,h1=function(){function r(a,l,c,f,h,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},h1}var mM;function dre(){return mM||(mM=1,f1.exports=fre()()),f1.exports}var hre=dre();const dt=At(hre);var pre=Object.getOwnPropertyNames,mre=Object.getOwnPropertySymbols,gre=Object.prototype.hasOwnProperty;function gM(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function em(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),l=o.get(r);if(a&&l)return a===r&&l===n;o.set(n,r),o.set(r,n);var c=t(n,r,i);return o.delete(n),o.delete(r),c}}function yM(t){return pre(t).concat(mre(t))}var f4=Object.hasOwn||function(t,e){return gre.call(t,e)};function bc(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var d4="_owner",vM=Object.getOwnPropertyDescriptor,_M=Object.keys;function yre(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function vre(t,e){return bc(t.getTime(),e.getTime())}function wM(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,l;(a=i.next())&&!a.done;){for(var c=e.entries(),f=!1,h=0;(l=c.next())&&!l.done;){var p=a.value,y=p[0],_=p[1],w=l.value,E=w[0],v=w[1];!f&&!r[h]&&(f=n.equals(y,E,o,h,t,e,n)&&n.equals(_,v,y,E,t,e,n))&&(r[h]=!0),h++}if(!f)return!1;o++}return!0}function _re(t,e,n){var r=_M(t),i=r.length;if(_M(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===d4&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!f4(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function xf(t,e,n){var r=yM(t),i=r.length;if(yM(e).length!==i)return!1;for(var o,a,l;i-- >0;)if(o=r[i],o===d4&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!f4(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=vM(t,o),l=vM(e,o),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function wre(t,e){return bc(t.valueOf(),e.valueOf())}function bre(t,e){return t.source===e.source&&t.flags===e.flags}function bM(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var l=e.values(),c=!1,f=0;(a=l.next())&&!a.done;)!c&&!r[f]&&(c=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[f]=!0),f++;if(!c)return!1}return!0}function Ere(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Sre="[object Arguments]",xre="[object Boolean]",Tre="[object Date]",Are="[object Map]",Ire="[object Number]",Pre="[object Object]",Cre="[object RegExp]",Ore="[object Set]",kre="[object String]",Rre=Array.isArray,EM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SM=Object.assign,Nre=Object.prototype.toString.call.bind(Object.prototype.toString);function Mre(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(h,p,y){if(h===p)return!0;if(h==null||p==null||typeof h!="object"||typeof p!="object")return h!==h&&p!==p;var _=h.constructor;if(_!==p.constructor)return!1;if(_===Object)return i(h,p,y);if(Rre(h))return e(h,p,y);if(EM!=null&&EM(h))return c(h,p,y);if(_===Date)return n(h,p,y);if(_===RegExp)return a(h,p,y);if(_===Map)return r(h,p,y);if(_===Set)return l(h,p,y);var w=Nre(h);return w===Tre?n(h,p,y):w===Cre?a(h,p,y):w===Are?r(h,p,y):w===Ore?l(h,p,y):w===Pre?typeof h.then!="function"&&typeof p.then!="function"&&i(h,p,y):w===Sre?i(h,p,y):w===xre||w===Ire||w===kre?o(h,p,y):!1}}function Dre(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?xf:yre,areDatesEqual:vre,areMapsEqual:r?gM(wM,xf):wM,areObjectsEqual:r?xf:_re,arePrimitiveWrappersEqual:wre,areRegExpsEqual:bre,areSetsEqual:r?gM(bM,xf):bM,areTypedArraysEqual:r?xf:Ere};if(n&&(i=SM({},i,n(i))),e){var o=em(i.areArraysEqual),a=em(i.areMapsEqual),l=em(i.areObjectsEqual),c=em(i.areSetsEqual);i=SM({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function jre(t){return function(e,n,r,i,o,a,l){return t(e,n,l)}}function Lre(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(c,f){var h=r(),p=h.cache,y=p===void 0?e?new WeakMap:void 0:p,_=h.meta;return n(c,f,{cache:y,equals:i,meta:_,strict:o})};if(e)return function(c,f){return n(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,f){return n(c,f,a)}}var $re=cs();cs({strict:!0});cs({circular:!0});cs({circular:!0,strict:!0});cs({createInternalComparator:function(){return bc}});cs({strict:!0,createInternalComparator:function(){return bc}});cs({circular:!0,createInternalComparator:function(){return bc}});cs({circular:!0,createInternalComparator:function(){return bc},strict:!0});function cs(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,l=Dre(t),c=Mre(l),f=r?r(c):jre(c);return Lre({circular:n,comparator:c,createState:i,equals:f,strict:a})}function Fre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function xM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Fre(i)};requestAnimationFrame(r)}function sS(t){"@babel/helpers - typeof";return sS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sS(t)}function Vre(t){return zre(t)||qre(t)||Bre(t)||Ure()}function Ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bre(t,e){if(t){if(typeof t=="string")return TM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TM(t,e)}}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zre(t){if(Array.isArray(t))return t}function Wre(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,l=Vre(a),c=l[0],f=l.slice(1);if(typeof c=="number"){xM(i.bind(null,f),c);return}i(c),xM(i.bind(null,f));return}sS(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){h4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h4(t,e,n){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=Kre(t,"string");return Rd(e)==="symbol"?e:String(e)}function Kre(t,e){if(Rd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gre=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Yre=function(e){return e},Xre=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Kf=function(e,n){return Object.keys(n).reduce(function(r,i){return IM(IM({},r),{},h4({},i,e(i,n[i])))},{})},PM=function(e,n,r){return e.map(function(i){return"".concat(Xre(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Qre(t,e){return eie(t)||Zre(t,e)||p4(t,e)||Jre()}function Jre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function eie(t){if(Array.isArray(t))return t}function tie(t){return iie(t)||rie(t)||p4(t)||nie()}function nie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4(t,e){if(t){if(typeof t=="string")return uS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uS(t,e)}}function rie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iie(t){if(Array.isArray(t))return uS(t)}function uS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fg=1e-4,m4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},g4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},CM=function(e,n){return function(r){var i=m4(e,n);return g4(i,r)}},oie=function(e,n){return function(r){var i=m4(e,n),o=[].concat(tie(i.map(function(a,l){return a*l}).slice(1)),[0]);return g4(o,r)}},OM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,l=1;break;case"ease":i=.25,o=.1,a=.25,l=1;break;case"ease-in":i=.42,o=0,a=1,l=1;break;case"ease-out":i=.42,o=0,a=.58,l=1;break;case"ease-in-out":i=0,o=0,a=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=Qre(f,4);i=h[0],o=h[1],a=h[2],l=h[3]}}}var p=CM(i,a),y=CM(o,l),_=oie(i,a),w=function(I){return I>1?1:I<0?0:I},E=function(I){for(var A=I>1?1:I,R=A,j=0;j<8;++j){var O=p(R)-A,D=_(R);if(Math.abs(O-A)<fg||D<fg)return y(R);R=w(R-O/D)}return y(R)};return E.isStepper=!1,E},aie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,l=a===void 0?17:a,c=function(h,p,y){var _=-(h-p)*r,w=y*o,E=y+(_-w)*l/1e3,v=y*l/1e3+h;return Math.abs(v-p)<fg&&Math.abs(E)<fg?[p,0]:[v,E]};return c.isStepper=!0,c.dt=l,c},sie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OM(i);case"spring":return aie();default:if(i.split("(")[0]==="cubic-bezier")return OM(i)}return typeof i=="function"?i:null};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function kM(t){return cie(t)||lie(t)||y4(t)||uie()}function uie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cie(t){if(Array.isArray(t))return cS(t)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){lS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lS(t,e,n){return e=fie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=die(t,"string");return Nd(e)==="symbol"?e:String(e)}function die(t,e){if(Nd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hie(t,e){return gie(t)||mie(t,e)||y4(t,e)||pie()}function pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4(t,e){if(t){if(typeof t=="string")return cS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cS(t,e)}}function cS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function gie(t){if(Array.isArray(t))return t}var dg=function(e,n,r){return e+(n-e)*r},fS=function(e){var n=e.from,r=e.to;return n!==r},yie=function t(e,n,r){var i=Kf(function(o,a){if(fS(a)){var l=e(a.from,a.to,a.velocity),c=hie(l,2),f=c[0],h=c[1];return kn(kn({},a),{},{from:f,velocity:h})}return a},n);return r<1?Kf(function(o,a){return fS(a)?kn(kn({},a),{},{velocity:dg(a.velocity,i[o].velocity,r),from:dg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const vie=function(t,e,n,r,i){var o=Gre(t,e),a=o.reduce(function(v,I){return kn(kn({},v),{},lS({},I,[t[I],e[I]]))},{}),l=o.reduce(function(v,I){return kn(kn({},v),{},lS({},I,{from:t[I],velocity:0,to:e[I]}))},{}),c=-1,f,h,p=function(){return null},y=function(){return Kf(function(I,A){return A.from},l)},_=function(){return!Object.values(l).filter(fS).length},w=function(I){f||(f=I);var A=I-f,R=A/n.dt;l=yie(n,l,R),i(kn(kn(kn({},t),e),y())),f=I,_()||(c=requestAnimationFrame(p))},E=function(I){h||(h=I);var A=(I-h)/r,R=Kf(function(O,D){return dg.apply(void 0,kM(D).concat([n(A)]))},a);if(i(kn(kn(kn({},t),e),R)),A<1)c=requestAnimationFrame(p);else{var j=Kf(function(O,D){return dg.apply(void 0,kM(D).concat([n(1)]))},a);i(kn(kn(kn({},t),e),j))}};return p=n.isStepper?w:E,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var _ie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wie(t,e){if(t==null)return{};var n=bie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function p1(t){return Tie(t)||xie(t)||Sie(t)||Eie()}function Eie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sie(t,e){if(t){if(typeof t=="string")return dS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dS(t,e)}}function xie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tie(t){if(Array.isArray(t))return dS(t)}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){$f(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $f(t,e,n){return e=v4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v4(r.key),r)}}function Pie(t,e,n){return e&&Iie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v4(t){var e=Cie(t,"string");return Wl(e)==="symbol"?e:String(e)}function Cie(t,e){if(Wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hS(t,e)}function kie(t){var e=Rie();return function(){var r=hg(t),i;if(e){var o=hg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pS(this,i)}}function pS(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mS(t)}function mS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}var Jo=function(t){Oie(n,t);var e=kie(n);function n(r,i){var o;Aie(this,n),o=e.call(this,r,i);var a=o.props,l=a.isActive,c=a.attributeName,f=a.from,h=a.to,p=a.steps,y=a.children,_=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(mS(o)),o.changeStyle=o.changeStyle.bind(mS(o)),!l||_<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:h}),pS(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof y=="function")return o.state={style:f},pS(o);o.state={style:c?$f({},c,f):f}}else o.state={style:{}};return o}return Pie(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,y=this.state.style;if(l){if(!a){var _={style:c?$f({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(_);return}if(!($re(i.to,h)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=w||f?p:i.to;if(this.state&&y){var v={style:c?$f({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(v)}this.runAnimation(Ti(Ti({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,_=vie(a,l,sie(f),c,this.changeStyle),w=function(){o.stopJSAnimation=_()};this.manager.start([y,h,w,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,l=i.begin,c=i.onAnimationStart,f=a[0],h=f.style,p=f.duration,y=p===void 0?0:p,_=function(E,v,I){if(I===0)return E;var A=v.duration,R=v.easing,j=R===void 0?"ease":R,O=v.style,D=v.properties,P=v.onAnimationEnd,k=I>0?a[I-1]:v,M=D||Object.keys(O);if(typeof j=="function"||j==="spring")return[].concat(p1(E),[o.runJSAnimation.bind(o,{from:k.style,to:O,duration:A,easing:j}),A]);var F=PM(M,A,j),L=Ti(Ti(Ti({},k.style),O),{},{transition:F});return[].concat(p1(E),[L,A,P]).filter(Yre)};return this.manager.start([c].concat(p1(a.reduce(_,[h,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Wre());var o=i.begin,a=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,_=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var E=l?$f({},l,c):c,v=PM(Object.keys(E),a,f);w.start([h,o,Ti(Ti({},E),{},{transition:v}),a,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=wie(i,_ie),f=U.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!l||f===0||a<=0)return o;var p=function(_){var w=_.props,E=w.style,v=E===void 0?{}:E,I=w.className,A=U.cloneElement(_,Ti(Ti({},c),{},{style:Ti(Ti({},v),h),className:I}));return A};return f===1?p(U.Children.only(o)):ee.createElement("div",null,U.Children.map(o,function(y){return p(y)}))}}]),n}(U.PureComponent);Jo.displayName="Animate";Jo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Jo.propTypes={from:dt.oneOfType([dt.object,dt.string]),to:dt.oneOfType([dt.object,dt.string]),attributeName:dt.string,duration:dt.number,begin:dt.number,easing:dt.oneOfType([dt.string,dt.func]),steps:dt.arrayOf(dt.shape({duration:dt.number.isRequired,style:dt.object.isRequired,easing:dt.oneOfType([dt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dt.func]),properties:dt.arrayOf("string"),onAnimationEnd:dt.func})),children:dt.oneOfType([dt.node,dt.func]),isActive:dt.bool,canBegin:dt.bool,onAnimationEnd:dt.func,shouldReAnimate:dt.bool,onAnimationStart:dt.func,onAnimationReStart:dt.func};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pg.apply(this,arguments)}function Nie(t,e){return Lie(t)||jie(t,e)||Die(t,e)||Mie()}function Mie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(t,e){if(t){if(typeof t=="string")return MM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MM(t,e)}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Lie(t){if(Array.isArray(t))return t}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){$ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ie(t,e,n){return e=Fie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=Vie(t,"string");return Md(e)=="symbol"?e:e+""}function Vie(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LM=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&o instanceof Array){for(var p=[0,0,0,0],y=0,_=4;y<_;y++)p[y]=o[y]>a?a:o[y];h="M".concat(e,",").concat(n+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*p[1])),h+="L ".concat(e+r,",").concat(n+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*p[3])),h+="Z"}else if(a>0&&o===+o&&o>0){var w=Math.min(a,o);h="M ".concat(e,",").concat(n+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+c*w,",").concat(n,`
            L `).concat(e+r-c*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*w,`
            L `).concat(e+r,",").concat(n+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r-c*w,",").concat(n+i,`
            L `).concat(e+c*w,",").concat(n+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*w," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Uie=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),h=Math.max(o,o+l),p=Math.min(a,a+c),y=Math.max(a,a+c);return r>=f&&r<=h&&i>=p&&i<=y}return!1},Bie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zT=function(e){var n=jM(jM({},Bie),e),r=U.useRef(),i=U.useState(-1),o=Nie(i,2),a=o[0],l=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,y=n.radius,_=n.className,w=n.animationEasing,E=n.animationDuration,v=n.animationBegin,I=n.isAnimationActive,A=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var R=ut("recharts-rectangle",_);return A?ee.createElement(Jo,{canBegin:a>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:E,animationEasing:w,isActive:A},function(j){var O=j.width,D=j.height,P=j.x,k=j.y;return ee.createElement(Jo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:E,isActive:I,easing:w},ee.createElement("path",pg({},it(n,!0),{className:R,d:LM(P,k,O,D,y),ref:r})))}):ee.createElement("path",pg({},it(n,!0),{className:R,d:LM(c,f,h,p,y)}))};function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(this,arguments)}var WT=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ut("recharts-dot",o);return n===+n&&r===+r&&i===+i?ee.createElement("circle",gS({},it(e,!1),jm(e),{className:a,cx:n,cy:r,r:i})):null};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}var qie=["x","y","top","left","width","height","className"];function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Kie(t,"string");return Dd(e)=="symbol"?e:e+""}function Kie(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gie(t,e){if(t==null)return{};var n=Yie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xie=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Qie=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,l=a===void 0?0:a,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,y=e.height,_=y===void 0?0:y,w=e.className,E=Gie(e,qie),v=zie({x:r,y:o,top:l,left:f,width:p,height:_},E);return!Se(r)||!Se(o)||!Se(p)||!Se(_)||!Se(l)||!Se(f)?null:ee.createElement("path",yS({},it(v,!0),{className:ut("recharts-cross",w),d:Xie(r,o,p,_,l,f)}))},m1,FM;function Jie(){if(FM)return m1;FM=1;var t=$F(),e=t(Object.getPrototypeOf,Object);return m1=e,m1}var g1,VM;function Zie(){if(VM)return g1;VM=1;var t=na(),e=Jie(),n=ra(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,l=o.hasOwnProperty,c=a.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var y=l.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&a.call(y)==c}return g1=f,g1}var eoe=Zie();const toe=At(eoe);var y1,UM;function noe(){if(UM)return y1;UM=1;var t=na(),e=ra(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return y1=r,y1}var roe=noe();const ioe=At(roe);function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function ooe(t,e){return loe(t)||uoe(t,e)||soe(t,e)||aoe()}function aoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){if(t){if(typeof t=="string")return BM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function loe(t){if(Array.isArray(t))return t}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function coe(t,e,n){return e=foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=doe(t,"string");return jd(e)=="symbol"?e:e+""}function doe(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WM=function(e,n,r,i,o){var a=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+o),l+="L ".concat(e+r-a/2-i,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},hoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},poe=function(e){var n=zM(zM({},hoe),e),r=U.useRef(),i=U.useState(-1),o=ooe(i,2),a=o[0],l=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&l(R)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,y=n.height,_=n.className,w=n.animationEasing,E=n.animationDuration,v=n.animationBegin,I=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||y!==+y||h===0&&p===0||y===0)return null;var A=ut("recharts-trapezoid",_);return I?ee.createElement(Jo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:y,x:c,y:f},duration:E,animationEasing:w,isActive:I},function(R){var j=R.upperWidth,O=R.lowerWidth,D=R.height,P=R.x,k=R.y;return ee.createElement(Jo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:E,easing:w},ee.createElement("path",mg({},it(n,!0),{className:A,d:WM(P,k,j,O,D),ref:r})))}):ee.createElement("g",null,ee.createElement("path",mg({},it(n,!0),{className:A,d:WM(c,f,h,p,y)})))},moe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function goe(t,e){if(t==null)return{};var n=yoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e,n){return e=_oe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _oe(t){var e=woe(t,"string");return Ld(e)=="symbol"?e:e+""}function woe(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function boe(t,e){return gg(gg({},e),t)}function Eoe(t,e){return t==="symbols"}function KM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ee.createElement(zT,n);case"trapezoid":return ee.createElement(poe,n);case"sector":return ee.createElement(c4,n);case"symbols":if(Eoe(e))return ee.createElement(lT,n);break;default:return null}}function Soe(t){return U.isValidElement(t)?t.props:t}function xoe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?boe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,l=t.isActive,c=goe(t,moe),f;if(U.isValidElement(e))f=U.cloneElement(e,gg(gg({},c),Soe(e)));else if(Qe(e))f=e(c);else if(toe(e)&&!ioe(e)){var h=i(e,c);f=ee.createElement(KM,{shapeType:n,elementProps:h})}else{var p=c;f=ee.createElement(KM,{shapeType:n,elementProps:p})}return l?ee.createElement(Xt,{className:a},f):f}function Dy(t,e){return e!=null&&"trapezoids"in t.props}function jy(t,e){return e!=null&&"sectors"in t.props}function $d(t,e){return e!=null&&"points"in t.props}function Toe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Aoe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ioe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Poe(t,e){var n;return Dy(t,e)?n=Toe:jy(t,e)?n=Aoe:$d(t,e)&&(n=Ioe),n}function Coe(t,e){var n;return Dy(t,e)?n="trapezoids":jy(t,e)?n="sectors":$d(t,e)&&(n="points"),n}function Ooe(t,e){if(Dy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(jy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return $d(t,e)?e.payload:{}}function koe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Coe(n,e),o=Ooe(n,e),a=r.filter(function(c,f){var h=Ry(o,c),p=n.props[i].filter(function(w){var E=Poe(n,e);return E(w,e)}),y=n.props[i].indexOf(p[p.length-1]),_=f===y;return h&&_}),l=r.indexOf(a[a.length-1]);return l}var v1,GM;function Roe(){if(GM)return v1;GM=1;var t=Math.ceil,e=Math.max;function n(r,i,o,a){for(var l=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[a?c:++l]=r,r+=o;return f}return v1=n,v1}var _1,YM;function _4(){if(YM)return _1;YM=1;var t=eV(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return _1=r,_1}var w1,XM;function Noe(){if(XM)return w1;XM=1;var t=Roe(),e=Sy(),n=_4();function r(i){return function(o,a,l){return l&&typeof l!="number"&&e(o,a,l)&&(a=l=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),l=l===void 0?o<a?1:-1:n(l),t(o,a,l,i)}}return w1=r,w1}var b1,QM;function Moe(){if(QM)return b1;QM=1;var t=Noe(),e=t();return b1=e,b1}var Doe=Moe();const yg=At(Doe);function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){w4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w4(t,e,n){return e=joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t){var e=Loe(t,"string");return Fd(e)=="symbol"?e:e+""}function Loe(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $oe=["Webkit","Moz","O","ms"],Foe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=$oe.reduce(function(o,a){return ZM(ZM({},o),{},w4({},a+r,n))},{});return i[e]=n,i};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E4(r.key),r)}}function Uoe(t,e,n){return e&&tD(t.prototype,e),n&&tD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Boe(t,e,n){return e=_g(e),qoe(t,b4()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function qoe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zoe(t)}function zoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function Woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vS(t,e)}function Rr(t,e,n){return e=E4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E4(t){var e=Hoe(t,"string");return Hl(e)=="symbol"?e:e+""}function Hoe(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Koe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Wf().domain(yg(0,c)).range([o,o+a-l]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},nD=function(e){return e.changedTouches&&!!e.changedTouches.length},Kl=function(t){function e(n){var r;return Voe(this,e),r=Boe(this,e,[n]),Rr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Rr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Rr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),Rr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Rr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Rr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Rr(r,"handleSlideDragStart",function(i){var o=nD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Woe(e,t),Uoe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,p=Math.min(i,o),y=Math.max(i,o),_=e.getIndexInRange(a,p),w=e.getIndexInRange(a,y);return{startIndex:_-_%c,endIndex:w===h?h:w-w%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,l=i.dataKey,c=Lr(o[r],l,r);return Qe(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,y=c.startIndex,_=c.endIndex,w=c.onChange,E=r.pageX-o;E>0?E=Math.min(E,f+h-p-l,f+h-p-a):E<0&&(E=Math.max(E,f-a,f-l));var v=this.getIndex({startX:a+E,endX:l+E});(v.startIndex!==y||v.endIndex!==_)&&w&&w(v),this.setState({startX:a+E,endX:l+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=nD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[a],h=this.props,p=h.x,y=h.width,_=h.travellerWidth,w=h.onChange,E=h.gap,v=h.data,I={startX:this.state.startX,endX:this.state.endX},A=r.pageX-o;A>0?A=Math.min(A,p+y-_-f):A<0&&(A=Math.max(A,p-f)),I[a]=f+A;var R=this.getIndex(I),j=R.startIndex,O=R.endIndex,D=function(){var k=v.length-1;return a==="startX"&&(l>c?j%E===0:O%E===0)||l<c&&O===k||a==="endX"&&(l>c?O%E===0:j%E===0)||l>c&&O===k};this.setState(Rr(Rr({},a,f+A),"brushMoveStartX",r.pageX),function(){w&&D()&&w(R)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,l=a.scaleValues,c=a.startX,f=a.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var y=p+r;if(!(y===-1||y>=l.length)){var _=l[y];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(Rr({},i,_),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.fill,f=r.stroke;return ee.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,p=U.Children.only(f);return p?ee.cloneElement(p,{x:i,y:o,width:a,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,l=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,y=c.traveller,_=c.ariaLabel,w=c.data,E=c.startIndex,v=c.endIndex,I=Math.max(r,this.props.x),A=E1(E1({},it(this.props,!1)),{},{x:I,y:f,width:h,height:p}),R=_||"Min value: ".concat((o=w[E])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=w[v])===null||a===void 0?void 0:a.name);return ee.createElement(Xt,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),l.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,A))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:a,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,y=h.endX,_=5,w={pointerEvents:"none",fill:f};return ee.createElement(Xt,{className:"recharts-brush-texts"},ee.createElement(Gm,vg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-_,y:a+l/2},w),this.getTextOfTick(i)),ee.createElement(Gm,vg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+_,y:a+l/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,l=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,y=this.state,_=y.startX,w=y.endX,E=y.isTextActive,v=y.isSlideMoving,I=y.isTravellerMoving,A=y.isTravellerFocused;if(!i||!i.length||!Se(l)||!Se(c)||!Se(f)||!Se(h)||f<=0||h<=0)return null;var R=ut("recharts-brush",o),j=ee.Children.count(a)===1,O=Foe("userSelect","none");return ee.createElement(Xt,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(_,w),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(w,"endX"),(E||v||I||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,l=r.height,c=r.stroke,f=Math.floor(o+l/2)-1;return ee.createElement(ee.Fragment,null,ee.createElement("rect",{x:i,y:o,width:a,height:l,fill:c,stroke:"none"}),ee.createElement("line",{x1:i+1,y1:f,x2:i+a-1,y2:f,fill:"none",stroke:"#fff"}),ee.createElement("line",{x1:i+1,y1:f+2,x2:i+a-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return ee.isValidElement(r)?o=ee.cloneElement(r,i):Qe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return E1({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:a},o&&o.length?Koe({data:o,width:a,x:l,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var y=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,l=o-1;l-a>1;){var c=Math.floor((a+l)/2);r[c]>i?l=c:a=c}return i>=r[l]?l:a}}])}(U.PureComponent);Rr(Kl,"displayName","Brush");Rr(Kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var S1,rD;function Goe(){if(rD)return S1;rD=1;var t=gT();function e(n,r){var i;return t(n,function(o,a,l){return i=r(o,a,l),!i}),!!i}return S1=e,S1}var x1,iD;function Yoe(){if(iD)return x1;iD=1;var t=kF(),e=ss(),n=Goe(),r=_r(),i=Sy();function o(a,l,c){var f=r(a)?t:n;return c&&i(a,l,c)&&(l=void 0),f(a,e(l,3))}return x1=o,x1}var Xoe=Yoe();const Qoe=At(Xoe);var ao=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},T1,oD;function Joe(){if(oD)return T1;oD=1;var t=YF();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return T1=e,T1}var A1,aD;function Zoe(){if(aD)return A1;aD=1;var t=Joe(),e=KF(),n=ss();function r(i,o){var a={};return o=n(o,3),e(i,function(l,c,f){t(a,c,o(l,c,f))}),a}return A1=r,A1}var eae=Zoe();const tae=At(eae);var I1,sD;function nae(){if(sD)return I1;sD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return I1=t,I1}var P1,uD;function rae(){if(uD)return P1;uD=1;var t=gT();function e(n,r){var i=!0;return t(n,function(o,a,l){return i=!!r(o,a,l),i}),i}return P1=e,P1}var C1,lD;function iae(){if(lD)return C1;lD=1;var t=nae(),e=rae(),n=ss(),r=_r(),i=Sy();function o(a,l,c){var f=r(a)?t:e;return c&&i(a,l,c)&&(l=void 0),f(a,n(l,3))}return C1=o,C1}var oae=iae();const aae=At(oae);var sae=["x","y"];function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uae(t,e,n){return e=lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=cae(t,"string");return Vd(e)=="symbol"?e:e+""}function cae(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fae(t,e){if(t==null)return{};var n=dae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hae(t,e){var n=t.x,r=t.y,i=fae(t,sae),o="".concat(n),a=parseInt(o,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Tf(Tf(Tf(Tf(Tf({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function fD(t){return ee.createElement(xoe,_S({shapeType:"rectangle",propTransformer:hae,activeClassName:"recharts-active-bar"},t))}var pae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||lu(),n)}},mae=["value","background"],S4;function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function gae(t,e){if(t==null)return{};var n=yae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){Va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function _ae(t,e,n){return e&&hD(t.prototype,e),n&&hD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wae(t,e,n){return e=bg(e),bae(t,x4()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function bae(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eae(t)}function Eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function Sae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(t,e)}function Va(t,e,n){return e=T4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4(t){var e=xae(t,"string");return Gl(e)=="symbol"?e:e+""}function xae(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qo=function(t){function e(){var n;vae(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wae(this,e,[].concat(i)),Va(n,"state",{isAnimationFinished:!1}),Va(n,"id",fh("recharts-bar-")),Va(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Va(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Sae(e,t),_ae(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,h=it(this.props,!1);return r&&r.map(function(p,y){var _=y===c,w=_?f:a,E=en(en(en({},h),p),{},{isActive:_,option:w,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ee.createElement(Xt,wg({className:"recharts-bar-rectangle"},Lm(i.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),ee.createElement(fD,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,y=this.state.prevData;return ee.createElement(Jo,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t,E=o.map(function(v,I){var A=y&&y[I];if(A){var R=Ci(A.x,v.x),j=Ci(A.y,v.y),O=Ci(A.width,v.width),D=Ci(A.height,v.height);return en(en({},v),{},{x:R(w),y:j(w),width:O(w),height:D(w)})}if(a==="horizontal"){var P=Ci(0,v.height),k=P(w);return en(en({},v),{},{y:v.y+v.height-k,height:k})}var M=Ci(0,v.width),F=M(w);return en(en({},v),{},{width:F})});return ee.createElement(Xt,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ry(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,l=i.activeIndex,c=it(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,y=gae(f,mae);if(!p)return null;var _=en(en(en(en(en({},y),{},{fill:"#eee"},p),c),Lm(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return ee.createElement(fD,wg({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=ni(h,yh);if(!p)return null;var y=f==="vertical"?a[0].height/2:a[0].width/2,_=function(v,I){var A=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:A,errorVal:Lr(v,I)}},w={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ee.createElement(Xt,w,p.map(function(E){return ee.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:a,xAxis:l,yAxis:c,layout:f,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,y=r.height,_=r.isAnimationActive,w=r.background,E=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,I=ut("recharts-bar",a),A=l&&l.allowDataOverflow,R=c&&c.allowDataOverflow,j=A||R,O=Ze(E)?this.id:E;return ee.createElement(Xt,{className:I},A||R?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(O)},ee.createElement("rect",{x:A?f:f-p/2,y:R?h:h-y/2,width:A?p:p*2,height:R?y:y*2}))):null,ee.createElement(Xt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(O,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,O),(!_||v)&&Wa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);S4=qo;Va(qo,"displayName","Bar");Va(qo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Uo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(qo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,_=Jte(r,n);if(!_)return null;var w=e.layout,E=n.type.defaultProps,v=E!==void 0?en(en({},E),n.props):n.props,I=v.dataKey,A=v.children,R=v.minPointSize,j=w==="horizontal"?a:o,O=f?j.scale.domain():null,D=ane({numericAxis:j}),P=ni(A,nV),k=p.map(function(M,F){var L,V,C,W,K,Z;f?L=Zte(f[h+F],O):(L=Lr(M,I),Array.isArray(L)||(L=[D,L]));var re=pae(R,S4.defaultProps.minPointSize)(L[1],F);if(w==="horizontal"){var Q,X=[a.scale(L[0]),a.scale(L[1])],J=X[0],z=X[1];V=X2({axis:o,ticks:l,bandSize:i,offset:_.offset,entry:M,index:F}),C=(Q=z??J)!==null&&Q!==void 0?Q:void 0,W=_.size;var Y=J-z;if(K=Number.isNaN(Y)?0:Y,Z={x:V,y:a.y,width:W,height:a.height},Math.abs(re)>0&&Math.abs(K)<Math.abs(re)){var le=Ri(K||re)*(Math.abs(re)-Math.abs(K));C-=le,K+=le}}else{var be=[o.scale(L[0]),o.scale(L[1])],xe=be[0],Ne=be[1];if(V=xe,C=X2({axis:a,ticks:c,bandSize:i,offset:_.offset,entry:M,index:F}),W=Ne-xe,K=_.size,Z={x:o.x,y:C,width:o.width,height:K},Math.abs(re)>0&&Math.abs(W)<Math.abs(re)){var De=Ri(W||re)*(Math.abs(re)-Math.abs(W));W+=De}}return en(en(en({},M),{},{x:V,y:C,width:W,height:K,value:f?L:L[1],payload:M,background:Z},P&&P[F]&&P[F].props),{},{tooltipPayload:[s4(n,M)],tooltipPosition:{x:V+W/2,y:C+K/2}})});return en({data:k,layout:w},y)});function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function Tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A4(r.key),r)}}function Aae(t,e,n){return e&&pD(t.prototype,e),n&&pD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ly(t,e,n){return e=A4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A4(t){var e=Iae(t,"string");return Ud(e)=="symbol"?e:e+""}function Iae(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I4=function(e,n,r,i,o){var a=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},y=!!Nr(f,qo);return h.reduce(function(_,w){var E=n[w],v=E.orientation,I=E.domain,A=E.padding,R=A===void 0?{}:A,j=E.mirror,O=E.reversed,D="".concat(v).concat(j?"Mirror":""),P,k,M,F,L;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var V=I[1]-I[0],C=1/0,W=E.categoricalDomain.sort();if(W.forEach(function(be,xe){xe>0&&(C=Math.min((be||0)-(W[xe-1]||0),C))}),Number.isFinite(C)){var K=C/V,Z=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(P=K*Z/2),E.padding==="no-gap"){var re=su(e.barCategoryGap,K*Z),Q=K*Z/2;P=Q-re-(Q-re)/Z*re}}}i==="xAxis"?k=[r.left+(R.left||0)+(P||0),r.left+r.width-(R.right||0)-(P||0)]:i==="yAxis"?k=c==="horizontal"?[r.top+r.height-(R.bottom||0),r.top+(R.top||0)]:[r.top+(R.top||0)+(P||0),r.top+r.height-(R.bottom||0)-(P||0)]:k=E.range,O&&(k=[k[1],k[0]]);var X=Xte(E,o,y),J=X.scale,z=X.realScaleType;J.domain(I).range(k),Qte(J);var Y=one(J,Ii(Ii({},E),{},{realScaleType:z}));i==="xAxis"?(L=v==="top"&&!j||v==="bottom"&&j,M=r.left,F=p[D]-L*E.height):i==="yAxis"&&(L=v==="left"&&!j||v==="right"&&j,M=p[D]-L*E.width,F=r.top);var le=Ii(Ii(Ii({},E),Y),{},{realScaleType:z,x:M,y:F,scale:J,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return le.bandSize=ug(le,Y),!E.hide&&i==="xAxis"?p[D]+=(L?-1:1)*le.height:E.hide||(p[D]+=(L?-1:1)*le.width),Ii(Ii({},_),{},Ly({},w,le))},{})},P4=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Pae=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return P4({x:n,y:r},{x:i,y:o})},C4=function(){function t(e){Tae(this,t),this.scale=e}return Aae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ly(C4,"EPS",1e-4);var HT=function(e){var n=Object.keys(e).reduce(function(r,i){return Ii(Ii({},r),{},Ly({},i,C4.create(e[i])))},{});return Ii(Ii({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,l=o.position;return tae(i,function(c,f){return n[f].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return aae(i,function(o,a){return n[a].isInRange(o)})}})};function Cae(t){return(t%180+180)%180}var Oae=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Cae(i),a=o*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},O1,gD;function kae(){if(gD)return O1;gD=1;var t=ss(),e=dh(),n=by();function r(i){return function(o,a,l){var c=Object(o);if(!e(o)){var f=t(a,3);o=n(o),a=function(p){return f(c[p],p,c)}}var h=i(o,a,l);return h>-1?c[f?o[h]:h]:void 0}}return O1=r,O1}var k1,yD;function Rae(){if(yD)return k1;yD=1;var t=_4();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return k1=e,k1}var R1,vD;function Nae(){if(vD)return R1;vD=1;var t=BF(),e=ss(),n=Rae(),r=Math.max;function i(o,a,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(o,e(a,3),f)}return R1=i,R1}var N1,_D;function Mae(){if(_D)return N1;_D=1;var t=kae(),e=Nae(),n=t(e);return N1=n,N1}Mae();var Dae=iF();const jae=At(Dae);var Lae=jae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),O4=U.createContext(void 0),k4=U.createContext(void 0),R4=U.createContext(void 0),$ae=U.createContext({}),N4=U.createContext(void 0),M4=U.createContext(0),D4=U.createContext(0),wD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,l=e.children,c=e.width,f=e.height,h=Lae(o);return ee.createElement(O4.Provider,{value:r},ee.createElement(k4.Provider,{value:i},ee.createElement($ae.Provider,{value:o},ee.createElement(R4.Provider,{value:h},ee.createElement(N4.Provider,{value:a},ee.createElement(M4.Provider,{value:f},ee.createElement(D4.Provider,{value:c},l)))))))},Fae=function(){return U.useContext(N4)},j4=function(e){var n=U.useContext(O4);n==null&&lu();var r=n[e];return r==null&&lu(),r},L4=function(e){var n=U.useContext(k4);n==null&&lu();var r=n[e];return r==null&&lu(),r},Vae=function(){var e=U.useContext(R4);return e},$4=function(){return U.useContext(D4)},F4=function(){return U.useContext(M4)};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Uae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U4(r.key),r)}}function qae(t,e,n){return e&&Bae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zae(t,e,n){return e=Eg(e),Wae(t,V4()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function Wae(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hae(t)}function Hae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V4=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function Kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bS(t,e)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){KT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KT(t,e,n){return e=U4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U4(t){var e=Gae(t,"string");return Yl(e)=="symbol"?e:e+""}function Gae(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yae(t,e){return Zae(t)||Jae(t,e)||Qae(t,e)||Xae()}function Xae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(t,e){if(t){if(typeof t=="string")return SD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SD(t,e)}}function SD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Zae(t){if(Array.isArray(t))return t}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}var ese=function(e,n){var r;return ee.isValidElement(e)?r=ee.cloneElement(e,n):Qe(e)?r=e(n):r=ee.createElement("line",ES({},n,{className:"recharts-reference-line-line"})),r},tse=function(e,n,r,i,o,a,l,c,f){var h=o.x,p=o.y,y=o.width,_=o.height;if(r){var w=f.y,E=e.y.apply(w,{position:a});if(ao(f,"discard")&&!e.y.isInRange(E))return null;var v=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?v.reverse():v}if(n){var I=f.x,A=e.x.apply(I,{position:a});if(ao(f,"discard")&&!e.x.isInRange(A))return null;var R=[{x:A,y:p+_},{x:A,y:p}];return l==="top"?R.reverse():R}if(i){var j=f.segment,O=j.map(function(D){return e.apply(D,{position:a})});return ao(f,"discard")&&Qoe(O,function(D){return!e.isInRange(D)})?null:O}return null};function nse(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,f=Fae(),h=j4(i),p=L4(o),y=Vae();if(!f||!y)return null;eu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=HT({x:h.scale,y:p.scale}),w=dn(e),E=dn(n),v=r&&r.length===2,I=tse(_,w,E,v,y,t.position,h.orientation,p.orientation,t);if(!I)return null;var A=Yae(I,2),R=A[0],j=R.x,O=R.y,D=A[1],P=D.x,k=D.y,M=ao(t,"hidden")?"url(#".concat(f,")"):void 0,F=ED(ED({clipPath:M},it(t,!0)),{},{x1:j,y1:O,x2:P,y2:k});return ee.createElement(Xt,{className:ut("recharts-reference-line",l)},ese(a,F),zn.renderCallByParent(t,Pae({x1:j,y1:O,x2:P,y2:k})))}var GT=function(t){function e(){return Uae(this,e),zae(this,e,arguments)}return Kae(e,t),qae(e,[{key:"render",value:function(){return ee.createElement(nse,this.props)}}])}(ee.Component);KT(GT,"displayName","ReferenceLine");KT(GT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ise(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q4(r.key),r)}}function ose(t,e,n){return e&&ise(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ase(t,e,n){return e=Sg(e),sse(t,B4()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function sse(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(t)}function use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function lse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xS(t,e)}function $y(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=cse(t,"string");return Xl(e)=="symbol"?e:e+""}function cse(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fse=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=HT({x:i.scale,y:o.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return ao(e,"discard")&&!a.isInRange(l)?null:l},Fy=function(t){function e(){return rse(this,e),ase(this,e,arguments)}return lse(e,t),ose(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,l=r.alwaysShow,c=r.clipPathId,f=dn(i),h=dn(o);if(eu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=fse(this.props);if(!p)return null;var y=p.x,_=p.y,w=this.props,E=w.shape,v=w.className,I=ao(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=TD(TD({clipPath:I},it(this.props,!0)),{},{cx:y,cy:_});return ee.createElement(Xt,{className:ut("recharts-reference-dot",v)},e.renderDot(E,A),zn.renderCallByParent(this.props,{x:y-a,y:_-a,width:2*a,height:2*a}))}}])}(ee.Component);$y(Fy,"displayName","ReferenceDot");$y(Fy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$y(Fy,"renderDot",function(t,e){var n;return ee.isValidElement(t)?n=ee.cloneElement(t,e):Qe(t)?n=t(e):n=ee.createElement(WT,SS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ID(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){Vy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W4(r.key),r)}}function pse(t,e,n){return e&&hse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mse(t,e,n){return e=xg(e),gse(t,z4()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function gse(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yse(t)}function yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z4=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AS(t,e)}function Vy(t,e,n){return e=W4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W4(t){var e=_se(t,"string");return Ql(e)=="symbol"?e:e+""}function _se(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wse=function(e,n,r,i,o){var a=o.x1,l=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var y=HT({x:h.scale,y:p.scale}),_={x:e?y.x.apply(a,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},w={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return ao(o,"discard")&&(!y.isInRange(_)||!y.isInRange(w))?null:P4(_,w)},Uy=function(t){function e(){return dse(this,e),mse(this,e,arguments)}return vse(e,t),pse(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;eu(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=dn(i),y=dn(o),_=dn(a),w=dn(l),E=this.props.shape;if(!p&&!y&&!_&&!w&&!E)return null;var v=wse(p,y,_,w,this.props);if(!v&&!E)return null;var I=ao(this.props,"hidden")?"url(#".concat(h,")"):void 0;return ee.createElement(Xt,{className:ut("recharts-reference-area",c)},e.renderRect(E,ID(ID({clipPath:I},it(this.props,!0)),v)),zn.renderCallByParent(this.props,v))}}])}(ee.Component);Vy(Uy,"displayName","ReferenceArea");Vy(Uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vy(Uy,"renderRect",function(t,e){var n;return ee.isValidElement(t)?n=ee.cloneElement(t,e):Qe(t)?n=t(e):n=ee.createElement(zT,TS({},e,{className:"recharts-reference-area-rect"})),n});function H4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function bse(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Oae(r,n)}function Ese(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,l=t.height;return e===1?{start:r?i:o,end:r?i+a:o+l}:{start:r?i+a:o+l,end:r?i:o}}function Tg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Sse(t,e){return H4(t,e+1)}function xse(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,l=e.end,c=0,f=1,h=a,p=function(){var w=r==null?void 0:r[c];if(w===void 0)return{v:H4(r,f)};var E=c,v,I=function(){return v===void 0&&(v=n(w,E)),v},A=w.coordinate,R=c===0||Tg(t,A,I,h,l);R||(c=0,h=a,f+=1),R&&(h=A+t*(I()/2+i),c+=f)},y;f<=o.length;)if(y=p(),y)return y.v;return[]}function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){Tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tse(t,e,n){return e=Ase(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ase(t){var e=Ise(t,"string");return Bd(e)=="symbol"?e:e+""}function Ise(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pse(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end,f=function(y){var _=o[y],w,E=function(){return w===void 0&&(w=n(_,y)),w};if(y===a-1){var v=t*(_.coordinate+t*E()/2-c);o[y]=_=Un(Un({},_),{},{tickCoord:v>0?_.coordinate-v*t:_.coordinate})}else o[y]=_=Un(Un({},_),{},{tickCoord:_.coordinate});var I=Tg(t,_.tickCoord,E,l,c);I&&(c=_.tickCoord-t*(E()/2+i),o[y]=Un(Un({},_),{},{isShow:!0}))},h=a-1;h>=0;h--)f(h);return o}function Cse(t,e,n,r,i,o){var a=(r||[]).slice(),l=a.length,c=e.start,f=e.end;if(o){var h=r[l-1],p=n(h,l-1),y=t*(h.coordinate+t*p/2-f);a[l-1]=h=Un(Un({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=Tg(t,h.tickCoord,function(){return p},c,f);_&&(f=h.tickCoord-t*(p/2+i),a[l-1]=Un(Un({},h),{},{isShow:!0}))}for(var w=o?l-1:l,E=function(A){var R=a[A],j,O=function(){return j===void 0&&(j=n(R,A)),j};if(A===0){var D=t*(R.coordinate-t*O()/2-c);a[A]=R=Un(Un({},R),{},{tickCoord:D<0?R.coordinate-D*t:R.coordinate})}else a[A]=R=Un(Un({},R),{},{tickCoord:R.coordinate});var P=Tg(t,R.tickCoord,O,c,f);P&&(c=R.tickCoord+t*(O()/2+i),a[A]=Un(Un({},R),{},{isShow:!0}))},v=0;v<w;v++)E(v);return a}function Ose(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(Se(c)||Uo.isSsr)return Sse(i,typeof c=="number"&&Se(c)?c:0);var y=[],_=l==="top"||l==="bottom"?"width":"height",w=h&&_==="width"?zf(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(R,j){var O=Qe(f)?f(R.value,j):R.value;return _==="width"?bse(zf(O,{fontSize:e,letterSpacing:n}),w,p):zf(O,{fontSize:e,letterSpacing:n})[_]},v=i.length>=2?Ri(i[1].coordinate-i[0].coordinate):1,I=Ese(o,v,_);return c==="equidistantPreserveStart"?xse(v,I,E,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=Cse(v,I,E,i,a,c==="preserveStartEnd"):y=Pse(v,I,E,i,a),y.filter(function(A){return A.isShow}))}var kse=["viewBox"],Rse=["viewBox"],Nse=["ticks"];function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){YT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M1(t,e){if(t==null)return{};var n=Mse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G4(r.key),r)}}function jse(t,e,n){return e&&OD(t.prototype,e),n&&OD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lse(t,e,n){return e=Ag(e),$se(t,K4()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function $se(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fse(t)}function Fse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function Vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IS(t,e)}function IS(t,e){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IS(t,e)}function YT(t,e,n){return e=G4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4(t){var e=Use(t,"string");return Jl(e)=="symbol"?e:e+""}function Use(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var By=function(t){function e(n){var r;return Dse(this,e),r=Lse(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Vse(e,t),jse(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=M1(r,kse),l=this.props,c=l.viewBox,f=M1(l,Rse);return!Tl(o,c)||!Tl(a,f)||!Tl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,y=i.tickMargin,_,w,E,v,I,A,R=p?-1:1,j=r.tickSize||h,O=Se(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":_=w=r.coordinate,v=a+ +!p*c,E=v-R*j,A=E-R*y,I=O;break;case"left":E=v=r.coordinate,w=o+ +!p*l,_=w-R*j,I=_-R*y,A=O;break;case"right":E=v=r.coordinate,w=o+ +p*l,_=w+R*j,I=_+R*y,A=O;break;default:_=w=r.coordinate,v=a+ +p*c,E=v+R*j,A=E+R*y,I=O;break}return{line:{x1:_,y1:E,x2:w,y2:v},tick:{x:I,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=Zn(Zn(Zn({},it(this.props,!1)),it(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=Zn(Zn({},p),{},{x1:i,y1:o+y*l,x2:i+a,y2:o+y*l})}else{var _=+(c==="left"&&!f||c==="right"&&f);p=Zn(Zn({},p),{},{x1:i+_*a,y1:o,x2:i+_*a,y2:o+l})}return ee.createElement("line",_l({},p,{className:ut("recharts-cartesian-axis-line",ti(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,p=l.tickFormatter,y=l.unit,_=Ose(Zn(Zn({},this.props),{},{ticks:r}),i,o),w=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),v=it(this.props,!1),I=it(h,!1),A=Zn(Zn({},v),{},{fill:"none"},it(c,!1)),R=_.map(function(j,O){var D=a.getTickLineCoord(j),P=D.line,k=D.tick,M=Zn(Zn(Zn(Zn({textAnchor:w,verticalAnchor:E},v),{},{stroke:"none",fill:f},I),k),{},{index:O,payload:j,visibleTicksCount:_.length,tickFormatter:p});return ee.createElement(Xt,_l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Lm(a.props,j,O)),c&&ee.createElement("line",_l({},A,P,{className:ut("recharts-cartesian-axis-tick-line",ti(c,"className"))})),h&&e.renderTickItem(h,M,"".concat(Qe(p)?p(j.value,O):j.value).concat(y||"")))});return ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,y=p.ticks,_=M1(p,Nse),w=y;return Qe(c)&&(w=y&&y.length>0?c(this.props):c(_)),a<=0||l<=0||!w||!w.length?null:ee.createElement(Xt,{className:ut("recharts-cartesian-axis",f),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),zn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return ee.isValidElement(r)?a=ee.cloneElement(r,i):Qe(r)?a=r(i):a=ee.createElement(Gm,_l({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(U.Component);YT(By,"displayName","CartesianAxis");YT(By,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Bse=["type","layout","connectNulls","ref"],qse=["key"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function kD(t,e){if(t==null)return{};var n=zse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cl(t){return Gse(t)||Kse(t)||Hse(t)||Wse()}function Wse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hse(t,e){if(t){if(typeof t=="string")return PS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(t,e)}}function Kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gse(t){if(Array.isArray(t))return PS(t)}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ND(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X4(r.key),r)}}function Xse(t,e,n){return e&&ND(t.prototype,e),n&&ND(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qse(t,e,n){return e=Ig(e),Jse(t,Y4()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function Jse(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zse(t)}function Zse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CS(t,e)}function Pi(t,e,n){return e=X4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4(t){var e=tue(t,"string");return Zl(e)=="symbol"?e:e+""}function tue(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ec=function(t){function e(){var n;Yse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Qse(this,e,[].concat(i)),Pi(n,"state",{isAnimationFinished:!0,totalLength:0}),Pi(n,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),Pi(n,"getStrokeDasharray",function(a,l,c){var f=c.reduce(function(I,A){return I+A});if(!f)return n.generateSimpleStrokeDasharray(l,a);for(var h=Math.floor(a/f),p=a%f,y=l-a,_=[],w=0,E=0;w<c.length;E+=c[w],++w)if(E+c[w]>p){_=[].concat(cl(c.slice(0,w)),[p-E]);break}var v=_.length%2===0?[0,y]:[y];return[].concat(cl(e.repeat(c,h)),cl(_),v).map(function(I){return"".concat(I,"px")}).join(", ")}),Pi(n,"id",fh("recharts-line-")),Pi(n,"pathRef",function(a){n.mainCurve=a}),Pi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Pi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return eue(e,t),Xse(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=ni(h,yh);if(!p)return null;var y=function(E,v){return{x:E.x,y:E.y,value:E.value,errorVal:Lr(E.payload,v)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ee.createElement(Xt,_,p.map(function(w){return ee.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:a,xAxis:l,yAxis:c,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,f=l.points,h=l.dataKey,p=it(this.props,!1),y=it(c,!0),_=f.map(function(E,v){var I=kr(kr(kr({key:"dot-".concat(v),r:3},p),y),{},{value:E.value,dataKey:h,cx:E.x,cy:E.y,index:v,payload:E.payload});return e.renderDotItem(c,I)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return ee.createElement(Xt,Gf({className:"recharts-line-dots",key:"dots"},w),_)}},{key:"renderCurveStatically",value:function(r,i,o,a){var l=this.props,c=l.type,f=l.layout,h=l.connectNulls;l.ref;var p=kD(l,Bse),y=kr(kr(kr({},it(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:c,layout:f,connectNulls:h});return ee.createElement(aS,Gf({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,l=a.points,c=a.strokeDasharray,f=a.isAnimationActive,h=a.animationBegin,p=a.animationDuration,y=a.animationEasing,_=a.animationId,w=a.animateNewValues,E=a.width,v=a.height,I=this.state,A=I.prevPoints,R=I.totalLength;return ee.createElement(Jo,{begin:h,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var O=j.t;if(A){var D=A.length/l.length,P=l.map(function(V,C){var W=Math.floor(C*D);if(A[W]){var K=A[W],Z=Ci(K.x,V.x),re=Ci(K.y,V.y);return kr(kr({},V),{},{x:Z(O),y:re(O)})}if(w){var Q=Ci(E*2,V.x),X=Ci(v/2,V.y);return kr(kr({},V),{},{x:Q(O),y:X(O)})}return kr(kr({},V),{},{x:V.x,y:V.y})});return o.renderCurveStatically(P,r,i)}var k=Ci(0,R),M=k(O),F;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});F=o.getStrokeDasharray(M,R,L)}else F=o.generateSimpleStrokeDasharray(R,M);return o.renderCurveStatically(l,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,l=o.isAnimationActive,c=this.state,f=c.prevPoints,h=c.totalLength;return l&&a&&a.length&&(!f&&h>0||!Ry(f,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,l=i.points,c=i.className,f=i.xAxis,h=i.yAxis,p=i.top,y=i.left,_=i.width,w=i.height,E=i.isAnimationActive,v=i.id;if(o||!l||!l.length)return null;var I=this.state.isAnimationFinished,A=l.length===1,R=ut("recharts-line",c),j=f&&f.allowDataOverflow,O=h&&h.allowDataOverflow,D=j||O,P=Ze(v)?this.id:v,k=(r=it(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=k.r,F=M===void 0?3:M,L=k.strokeWidth,V=L===void 0?2:L,C=WK(a)?a:{},W=C.clipDot,K=W===void 0?!0:W,Z=F*2+V;return ee.createElement(Xt,{className:R},j||O?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(P)},ee.createElement("rect",{x:j?y:y-_/2,y:O?p:p-w/2,width:j?_:_*2,height:O?w:w*2})),!K&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(P)},ee.createElement("rect",{x:y-Z/2,y:p-Z/2,width:_+Z,height:w+Z}))):null,!A&&this.renderCurve(D,P),this.renderErrorBar(D,P),(A||a)&&this.renderDots(D,K,P),(!E||I)&&Wa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(cl(r),[0]):r,a=[],l=0;l<i;++l)a=[].concat(cl(a),cl(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(ee.isValidElement(r))o=ee.cloneElement(r,i);else if(Qe(r))o=r(i);else{var a=i.key,l=kD(i,qse),c=ut("recharts-line-dot",typeof r!="boolean"?r.className:"");o=ee.createElement(WT,Gf({key:a},l,{className:c}))}return o}}])}(U.PureComponent);Pi(ec,"displayName","Line");Pi(ec,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Uo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pi(ec,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,l=t.bandSize,c=t.displayedData,f=t.offset,h=e.layout,p=c.map(function(y,_){var w=Lr(y,a);return h==="horizontal"?{x:Y2({axis:n,ticks:i,bandSize:l,entry:y,index:_}),y:Ze(w)?null:r.scale(w),value:w,payload:y}:{x:Ze(w)?null:n.scale(w),y:Y2({axis:r,ticks:o,bandSize:l,entry:y,index:_}),value:w,payload:y}});return kr({points:p,layout:h},f)});function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z4(r.key),r)}}function iue(t,e,n){return e&&rue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oue(t,e,n){return e=Pg(e),aue(t,Q4()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function aue(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sue(t)}function sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q4=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OS(t,e)}function J4(t,e,n){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z4(t){var e=lue(t,"string");return tc(e)=="symbol"?e:e+""}function lue(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function cue(t){var e=t.xAxisId,n=$4(),r=F4(),i=j4(e);return i==null?null:ee.createElement(By,kS({},i,{className:ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Qs(a,!0)}}))}var nc=function(t){function e(){return nue(this,e),oue(this,e,arguments)}return uue(e,t),iue(e,[{key:"render",value:function(){return ee.createElement(cue,this.props)}}])}(ee.Component);J4(nc,"displayName","XAxis");J4(nc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function fue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function due(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nU(r.key),r)}}function hue(t,e,n){return e&&due(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pue(t,e,n){return e=Cg(e),mue(t,eU()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function mue(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gue(t)}function gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RS(t,e)}function tU(t,e,n){return e=nU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nU(t){var e=vue(t,"string");return rc(e)=="symbol"?e:e+""}function vue(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(this,arguments)}var _ue=function(e){var n=e.yAxisId,r=$4(),i=F4(),o=L4(n);return o==null?null:ee.createElement(By,NS({},o,{className:ut("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Qs(l,!0)}}))},ic=function(t){function e(){return fue(this,e),pue(this,e,arguments)}return yue(e,t),hue(e,[{key:"render",value:function(){return ee.createElement(_ue,this.props)}}])}(ee.Component);tU(ic,"displayName","YAxis");tU(ic,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function MD(t){return Sue(t)||Eue(t)||bue(t)||wue()}function wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(t,e){if(t){if(typeof t=="string")return MS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MS(t,e)}}function Eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sue(t){if(Array.isArray(t))return MS(t)}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DS=function(e,n,r,i,o){var a=ni(e,GT),l=ni(e,Fy),c=[].concat(MD(a),MD(l)),f=ni(e,Uy),h="".concat(i,"Id"),p=i[0],y=n;if(c.length&&(y=c.reduce(function(E,v){if(v.props[h]===r&&ao(v.props,"extendDomain")&&Se(v.props[p])){var I=v.props[p];return[Math.min(E[0],I),Math.max(E[1],I)]}return E},y)),f.length){var _="".concat(p,"1"),w="".concat(p,"2");y=f.reduce(function(E,v){if(v.props[h]===r&&ao(v.props,"extendDomain")&&Se(v.props[_])&&Se(v.props[w])){var I=v.props[_],A=v.props[w];return[Math.min(E[0],I,A),Math.max(E[1],I,A)]}return E},y)}return o&&o.length&&(y=o.reduce(function(E,v){return Se(v)?[Math.min(E[0],v),Math.max(E[1],v)]:E},y)),y},D1={exports:{}},DD;function xue(){return DD||(DD=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,p||c,y),w=n?n+f:f;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],_]:c._events[w].push(_):(c._events[w]=_,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,_=p.length,w=new Array(_);y<_;y++)w[y]=p[y].fn;return w},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,y,_,w){var E=n?n+f:f;if(!this._events[E])return!1;var v=this._events[E],I=arguments.length,A,R;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),I){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,p),!0;case 4:return v.fn.call(v.context,h,p,y),!0;case 5:return v.fn.call(v.context,h,p,y,_),!0;case 6:return v.fn.call(v.context,h,p,y,_,w),!0}for(R=1,A=new Array(I-1);R<I;R++)A[R-1]=arguments[R];v.fn.apply(v.context,A)}else{var j=v.length,O;for(R=0;R<j;R++)switch(v[R].once&&this.removeListener(f,v[R].fn,void 0,!0),I){case 1:v[R].fn.call(v[R].context);break;case 2:v[R].fn.call(v[R].context,h);break;case 3:v[R].fn.call(v[R].context,h,p);break;case 4:v[R].fn.call(v[R].context,h,p,y);break;default:if(!A)for(O=1,A=new Array(I-1);O<I;O++)A[O-1]=arguments[O];v[R].fn.apply(v[R].context,A)}}return!0},l.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,y){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return a(this,_),this;var w=this._events[_];if(w.fn)w.fn===h&&(!y||w.once)&&(!p||w.context===p)&&a(this,_);else{for(var E=0,v=[],I=w.length;E<I;E++)(w[E].fn!==h||y&&!w[E].once||p&&w[E].context!==p)&&v.push(w[E]);v.length?this._events[_]=v.length===1?v[0]:v:a(this,_)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(D1)),D1.exports}var Tue=xue();const Aue=At(Tue);var j1=new Aue,L1="recharts.syncMouseEvents";function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function Iue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function Cue(t,e,n){return e&&Pue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $1(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=Oue(t,"string");return qd(e)=="symbol"?e:e+""}function Oue(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kue=function(){function t(){Iue(this,t),$1(this,"activeIndex",0),$1(this,"coordinateList",[]),$1(this,"layout","horizontal")}return Cue(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,l=a===void 0?null:a,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+c+f,y=a+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function Rue(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Se(r)&&Se(i))return!0}return!1}function Nue(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function iU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Mn(e,n,r,i),l=Mn(e,n,r,o);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Mue(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,y=Mn(l,c,f,p),_=Mn(l,c,h,p);r=y.x,i=y.y,o=_.x,a=_.y}else return iU(e);return[{x:r,y:i},{x:o,y:a}]}function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){Due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Due(t,e,n){return e=jue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jue(t){var e=Lue(t,"string");return zd(e)=="symbol"?e:e+""}function Lue(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ue(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!o||!a||y!=="ScatterChart"&&i!=="axis")return null;var w,E=aS;if(y==="ScatterChart")w=a,E=Qie;else if(y==="BarChart")w=Nue(p,a,c,h),E=zT;else if(p==="radial"){var v=iU(a),I=v.cx,A=v.cy,R=v.radius,j=v.startAngle,O=v.endAngle;w={cx:I,cy:A,startAngle:j,endAngle:O,innerRadius:R,outerRadius:R},E=c4}else w={points:Mue(p,a,c)},E=aS;var D=tm(tm(tm(tm({stroke:"#ccc",pointerEvents:"none"},c),w),it(_,!1)),{},{payload:l,payloadIndex:f,className:ut("recharts-tooltip-cursor",_.className)});return U.isValidElement(_)?U.cloneElement(_,D):U.createElement(E,D)}var Fue=["item"],Vue=["children","className","width","height","style","compact","title","desc"];function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function LD(t,e){return que(t)||Bue(t,e)||aU(t,e)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function que(t){if(Array.isArray(t))return t}function $D(t,e){if(t==null)return{};var n=zue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sU(r.key),r)}}function Kue(t,e,n){return e&&Hue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gue(t,e,n){return e=Og(e),Yue(t,oU()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function Yue(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xue(t)}function Xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jS(t,e)}function ac(t){return ele(t)||Zue(t)||aU(t)||Jue()}function Jue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(t,e){if(t){if(typeof t=="string")return LS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(t,e)}}function Zue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ele(t){if(Array.isArray(t))return LS(t)}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fe(t,e,n){return e=sU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sU(t){var e=tle(t,"string");return oc(e)=="symbol"?e:e+""}function tle(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nle={xAxis:["bottom","top"],yAxis:["left","right"]},rle={width:"100%",height:"100%"},uU={x:0,y:0};function nm(t){return t}var ile=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ole=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,l=i.radius;return ue(ue(ue({},i),Mn(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=o.coordinate,f=i.angle;return ue(ue(ue({},i),Mn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return uU},qy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(ac(l),ac(f)):l},[]);return a.length>0?a:e&&e.length&&Se(i)&&Se(o)?e.slice(i,o+1):[]};function lU(t){return t==="number"?[0,"auto"]:void 0}var $S=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,l=qy(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(a.dataKey&&!a.allowDuplicatedCategory){var _=p===void 0?l:p;y=Dm(_,a.dataKey,i)}else y=p&&p[r]||l[r];return y?[].concat(ac(c),[s4(f,y)]):c},[])},VD=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=ile(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=zte(a,l,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,y=$S(e,n,h,p),_=ole(r,l,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:y,activeCoordinate:_}}return null},ale=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,y=e.stackOffset,_=o4(h,o);return r.reduce(function(w,E){var v,I=E.type.defaultProps!==void 0?ue(ue({},E.type.defaultProps),E.props):E.props,A=I.type,R=I.dataKey,j=I.allowDataOverflow,O=I.allowDuplicatedCategory,D=I.scale,P=I.ticks,k=I.includeHidden,M=I[a];if(w[M])return w;var F=qy(e.data,{graphicalItems:i.filter(function(Y){var le,be=a in Y.props?Y.props[a]:(le=Y.type.defaultProps)===null||le===void 0?void 0:le[a];return be===M}),dataStartIndex:c,dataEndIndex:f}),L=F.length,V,C,W;Rue(I.domain,j,A)&&(V=tS(I.domain,null,j),_&&(A==="number"||D!=="auto")&&(W=Hf(F,R,"category")));var K=lU(A);if(!V||V.length===0){var Z,re=(Z=I.domain)!==null&&Z!==void 0?Z:K;if(R){if(V=Hf(F,R,A),A==="category"&&_){var Q=jK(V);O&&Q?(C=V,V=yg(0,L)):O||(V=Z2(re,V,E).reduce(function(Y,le){return Y.indexOf(le)>=0?Y:[].concat(ac(Y),[le])},[]))}else if(A==="category")O?V=V.filter(function(Y){return Y!==""&&!Ze(Y)}):V=Z2(re,V,E).reduce(function(Y,le){return Y.indexOf(le)>=0||le===""||Ze(le)?Y:[].concat(ac(Y),[le])},[]);else if(A==="number"){var X=Yte(F,i.filter(function(Y){var le,be,xe=a in Y.props?Y.props[a]:(le=Y.type.defaultProps)===null||le===void 0?void 0:le[a],Ne="hide"in Y.props?Y.props.hide:(be=Y.type.defaultProps)===null||be===void 0?void 0:be.hide;return xe===M&&(k||!Ne)}),R,o,h);X&&(V=X)}_&&(A==="number"||D!=="auto")&&(W=Hf(F,R,"category"))}else _?V=yg(0,L):l&&l[M]&&l[M].hasStack&&A==="number"?V=y==="expand"?[0,1]:a4(l[M].stackGroups,c,f):V=i4(F,i.filter(function(Y){var le=a in Y.props?Y.props[a]:Y.type.defaultProps[a],be="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return le===M&&(k||!be)}),A,h,!0);if(A==="number")V=DS(p,V,M,o,P),re&&(V=tS(re,V,j));else if(A==="category"&&re){var J=re,z=V.every(function(Y){return J.indexOf(Y)>=0});z&&(V=J)}}return ue(ue({},w),{},Fe({},M,ue(ue({},I),{},{axisType:o,domain:V,categoricalDomain:W,duplicateDomain:C,originalDomain:(v=I.domain)!==null&&v!==void 0?v:K,isCategorical:_,layout:h})))},{})},sle=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,y=qy(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),_=y.length,w=o4(h,o),E=-1;return r.reduce(function(v,I){var A=I.type.defaultProps!==void 0?ue(ue({},I.type.defaultProps),I.props):I.props,R=A[a],j=lU("number");if(!v[R]){E++;var O;return w?O=yg(0,_):l&&l[R]&&l[R].hasStack?(O=a4(l[R].stackGroups,c,f),O=DS(p,O,R,o)):(O=tS(j,i4(y,r.filter(function(D){var P,k,M=a in D.props?D.props[a]:(P=D.type.defaultProps)===null||P===void 0?void 0:P[a],F="hide"in D.props?D.props.hide:(k=D.type.defaultProps)===null||k===void 0?void 0:k.hide;return M===R&&!F}),"number",h),i.defaultProps.allowDataOverflow),O=DS(p,O,R,o)),ue(ue({},v),{},Fe({},R,ue(ue({axisType:o},i.defaultProps),{},{hide:!0,orientation:ti(nle,"".concat(o,".").concat(E%2),null),domain:O,originalDomain:j,isCategorical:w,layout:h})))}return v},{})},ule=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),y=ni(h,o),_={};return y&&y.length?_=ale(e,{axes:y,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):a&&a.length&&(_=sle(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),_},lle=function(e){var n=yl(e),r=Qs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:yT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ug(n,r)}},UD=function(e){var n=e.children,r=e.defaultShowTooltip,i=Nr(n,Kl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},cle=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vo(n&&n.type);return r&&r.indexOf("Bar")>=0})},BD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fle=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,p=r.children,y=r.margin||{},_=Nr(p,Kl),w=Nr(p,qa),E=Object.keys(c).reduce(function(O,D){var P=c[D],k=P.orientation;return!P.mirror&&!P.hide?ue(ue({},O),{},Fe({},k,O[k]+P.width)):O},{left:y.left||0,right:y.right||0}),v=Object.keys(a).reduce(function(O,D){var P=a[D],k=P.orientation;return!P.mirror&&!P.hide?ue(ue({},O),{},Fe({},k,ti(O,"".concat(k))+P.height)):O},{top:y.top||0,bottom:y.bottom||0}),I=ue(ue({},v),E),A=I.bottom;_&&(I.bottom+=_.props.height||Kl.defaultProps.height),w&&n&&(I=Kte(I,i,r,n));var R=f-I.left-I.right,j=h-I.top-I.bottom;return ue(ue({brushBottom:A},I),{},{width:Math.max(R,0),height:Math.max(j,0)})},dle=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},cU=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,y=function(I,A){var R=A.graphicalItems,j=A.stackGroups,O=A.offset,D=A.updateId,P=A.dataStartIndex,k=A.dataEndIndex,M=I.barSize,F=I.layout,L=I.barGap,V=I.barCategoryGap,C=I.maxBarSize,W=BD(F),K=W.numericAxisName,Z=W.cateAxisName,re=cle(R),Q=[];return R.forEach(function(X,J){var z=qy(I.data,{graphicalItems:[X],dataStartIndex:P,dataEndIndex:k}),Y=X.type.defaultProps!==void 0?ue(ue({},X.type.defaultProps),X.props):X.props,le=Y.dataKey,be=Y.maxBarSize,xe=Y["".concat(K,"Id")],Ne=Y["".concat(Z,"Id")],De={},ce=c.reduce(function(Tn,Er){var Bi=A["".concat(Er.axisType,"Map")],co=Y["".concat(Er.axisType,"Id")];Bi&&Bi[co]||Er.axisType==="zAxis"||lu();var oa=Bi[co];return ue(ue({},Tn),{},Fe(Fe({},Er.axisType,oa),"".concat(Er.axisType,"Ticks"),Qs(oa)))},De),oe=ce[Z],ye=ce["".concat(Z,"Ticks")],Ie=j&&j[xe]&&j[xe].hasStack&&sne(X,j[xe].stackGroups),he=Vo(X.type).indexOf("Bar")>=0,We=ug(oe,ye),je=[],mt=re&&Wte({barSize:M,stackGroups:j,totalSize:dle(ce,Z)});if(he){var wt,Ut,wr=Ze(be)?C:be,br=(wt=(Ut=ug(oe,ye,!0))!==null&&Ut!==void 0?Ut:wr)!==null&&wt!==void 0?wt:0;je=Hte({barGap:L,barCategoryGap:V,bandSize:br!==We?br:We,sizeList:mt[Ne],maxBarSize:wr}),br!==We&&(je=je.map(function(Tn){return ue(ue({},Tn),{},{position:ue(ue({},Tn.position),{},{offset:Tn.position.offset-br/2})})}))}var ir=X&&X.type&&X.type.getComposedData;ir&&Q.push({props:ue(ue({},ir(ue(ue({},ce),{},{displayedData:z,props:I,dataKey:le,item:X,bandSize:We,barPosition:je,offset:O,stackedData:Ie,layout:F,dataStartIndex:P,dataEndIndex:k}))),{},Fe(Fe(Fe({key:X.key||"item-".concat(J)},K,ce[K]),Z,ce[Z]),"animationId",D)),childIndex:GK(X,I.children),item:X})}),Q},_=function(I,A){var R=I.props,j=I.dataStartIndex,O=I.dataEndIndex,D=I.updateId;if(!dk({props:R}))return null;var P=R.children,k=R.layout,M=R.stackOffset,F=R.data,L=R.reverseStackOrder,V=BD(k),C=V.numericAxisName,W=V.cateAxisName,K=ni(P,r),Z=ine(F,K,"".concat(C,"Id"),"".concat(W,"Id"),M,L),re=c.reduce(function(Y,le){var be="".concat(le.axisType,"Map");return ue(ue({},Y),{},Fe({},be,ule(R,ue(ue({},le),{},{graphicalItems:K,stackGroups:le.axisType===C&&Z,dataStartIndex:j,dataEndIndex:O}))))},{}),Q=fle(ue(ue({},re),{},{props:R,graphicalItems:K}),A==null?void 0:A.legendBBox);Object.keys(re).forEach(function(Y){re[Y]=h(R,re[Y],Q,Y.replace("Map",""),n)});var X=re["".concat(W,"Map")],J=lle(X),z=y(R,ue(ue({},re),{},{dataStartIndex:j,dataEndIndex:O,updateId:D,graphicalItems:K,stackGroups:Z,offset:Q}));return ue(ue({formattedGraphicalItems:z,graphicalItems:K,offset:Q,stackGroups:Z},J),re)},w=function(v){function I(A){var R,j,O;return Wue(this,I),O=Gue(this,I,[A]),Fe(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(O,"accessibilityManager",new kue),Fe(O,"handleLegendBBoxUpdate",function(D){if(D){var P=O.state,k=P.dataStartIndex,M=P.dataEndIndex,F=P.updateId;O.setState(ue({legendBBox:D},_({props:O.props,dataStartIndex:k,dataEndIndex:M,updateId:F},ue(ue({},O.state),{},{legendBBox:D}))))}}),Fe(O,"handleReceiveSyncEvent",function(D,P,k){if(O.props.syncId===D){if(k===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(P)}}),Fe(O,"handleBrushChange",function(D){var P=D.startIndex,k=D.endIndex;if(P!==O.state.dataStartIndex||k!==O.state.dataEndIndex){var M=O.state.updateId;O.setState(function(){return ue({dataStartIndex:P,dataEndIndex:k},_({props:O.props,dataStartIndex:P,dataEndIndex:k,updateId:M},O.state))}),O.triggerSyncEvent({dataStartIndex:P,dataEndIndex:k})}}),Fe(O,"handleMouseEnter",function(D){var P=O.getMouseInfo(D);if(P){var k=ue(ue({},P),{},{isTooltipActive:!0});O.setState(k),O.triggerSyncEvent(k);var M=O.props.onMouseEnter;Qe(M)&&M(k,D)}}),Fe(O,"triggeredAfterMouseMove",function(D){var P=O.getMouseInfo(D),k=P?ue(ue({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(k),O.triggerSyncEvent(k);var M=O.props.onMouseMove;Qe(M)&&M(k,D)}),Fe(O,"handleItemMouseEnter",function(D){O.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),Fe(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),Fe(O,"handleMouseMove",function(D){D.persist(),O.throttleTriggeredAfterMouseMove(D)}),Fe(O,"handleMouseLeave",function(D){O.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};O.setState(P),O.triggerSyncEvent(P);var k=O.props.onMouseLeave;Qe(k)&&k(P,D)}),Fe(O,"handleOuterEvent",function(D){var P=KK(D),k=ti(O.props,"".concat(P));if(P&&Qe(k)){var M,F;/.*touch.*/i.test(P)?F=O.getMouseInfo(D.changedTouches[0]):F=O.getMouseInfo(D),k((M=F)!==null&&M!==void 0?M:{},D)}}),Fe(O,"handleClick",function(D){var P=O.getMouseInfo(D);if(P){var k=ue(ue({},P),{},{isTooltipActive:!0});O.setState(k),O.triggerSyncEvent(k);var M=O.props.onClick;Qe(M)&&M(k,D)}}),Fe(O,"handleMouseDown",function(D){var P=O.props.onMouseDown;if(Qe(P)){var k=O.getMouseInfo(D);P(k,D)}}),Fe(O,"handleMouseUp",function(D){var P=O.props.onMouseUp;if(Qe(P)){var k=O.getMouseInfo(D);P(k,D)}}),Fe(O,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),Fe(O,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&O.handleMouseDown(D.changedTouches[0])}),Fe(O,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&O.handleMouseUp(D.changedTouches[0])}),Fe(O,"handleDoubleClick",function(D){var P=O.props.onDoubleClick;if(Qe(P)){var k=O.getMouseInfo(D);P(k,D)}}),Fe(O,"handleContextMenu",function(D){var P=O.props.onContextMenu;if(Qe(P)){var k=O.getMouseInfo(D);P(k,D)}}),Fe(O,"triggerSyncEvent",function(D){O.props.syncId!==void 0&&j1.emit(L1,O.props.syncId,D,O.eventEmitterSymbol)}),Fe(O,"applySyncEvent",function(D){var P=O.props,k=P.layout,M=P.syncMethod,F=O.state.updateId,L=D.dataStartIndex,V=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)O.setState(ue({dataStartIndex:L,dataEndIndex:V},_({props:O.props,dataStartIndex:L,dataEndIndex:V,updateId:F},O.state)));else if(D.activeTooltipIndex!==void 0){var C=D.chartX,W=D.chartY,K=D.activeTooltipIndex,Z=O.state,re=Z.offset,Q=Z.tooltipTicks;if(!re)return;if(typeof M=="function")K=M(Q,D);else if(M==="value"){K=-1;for(var X=0;X<Q.length;X++)if(Q[X].value===D.activeLabel){K=X;break}}var J=ue(ue({},re),{},{x:re.left,y:re.top}),z=Math.min(C,J.x+J.width),Y=Math.min(W,J.y+J.height),le=Q[K]&&Q[K].value,be=$S(O.state,O.props.data,K),xe=Q[K]?{x:k==="horizontal"?Q[K].coordinate:z,y:k==="horizontal"?Y:Q[K].coordinate}:uU;O.setState(ue(ue({},D),{},{activeLabel:le,activeCoordinate:xe,activePayload:be,activeTooltipIndex:K}))}else O.setState(D)}),Fe(O,"renderCursor",function(D){var P,k=O.state,M=k.isTooltipActive,F=k.activeCoordinate,L=k.activePayload,V=k.offset,C=k.activeTooltipIndex,W=k.tooltipAxisBandSize,K=O.getTooltipEventType(),Z=(P=D.props.active)!==null&&P!==void 0?P:M,re=O.props.layout,Q=D.key||"_recharts-cursor";return ee.createElement($ue,{key:Q,activeCoordinate:F,activePayload:L,activeTooltipIndex:C,chartName:n,element:D,isActive:Z,layout:re,offset:V,tooltipAxisBandSize:W,tooltipEventType:K})}),Fe(O,"renderPolarAxis",function(D,P,k){var M=ti(D,"type.axisType"),F=ti(O.state,"".concat(M,"Map")),L=D.type.defaultProps,V=L!==void 0?ue(ue({},L),D.props):D.props,C=F&&F[V["".concat(M,"Id")]];return U.cloneElement(D,ue(ue({},C),{},{className:ut(M,C.className),key:D.key||"".concat(P,"-").concat(k),ticks:Qs(C,!0)}))}),Fe(O,"renderPolarGrid",function(D){var P=D.props,k=P.radialLines,M=P.polarAngles,F=P.polarRadius,L=O.state,V=L.radiusAxisMap,C=L.angleAxisMap,W=yl(V),K=yl(C),Z=K.cx,re=K.cy,Q=K.innerRadius,X=K.outerRadius;return U.cloneElement(D,{polarAngles:Array.isArray(M)?M:Qs(K,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(F)?F:Qs(W,!0).map(function(J){return J.coordinate}),cx:Z,cy:re,innerRadius:Q,outerRadius:X,key:D.key||"polar-grid",radialLines:k})}),Fe(O,"renderLegend",function(){var D=O.state.formattedGraphicalItems,P=O.props,k=P.children,M=P.width,F=P.height,L=O.props.margin||{},V=M-(L.left||0)-(L.right||0),C=n4({children:k,formattedGraphicalItems:D,legendWidth:V,legendContent:f});if(!C)return null;var W=C.item,K=$D(C,Fue);return U.cloneElement(W,ue(ue({},K),{},{chartWidth:M,chartHeight:F,margin:L,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),Fe(O,"renderTooltip",function(){var D,P=O.props,k=P.children,M=P.accessibilityLayer,F=Nr(k,Ai);if(!F)return null;var L=O.state,V=L.isTooltipActive,C=L.activeCoordinate,W=L.activePayload,K=L.activeLabel,Z=L.offset,re=(D=F.props.active)!==null&&D!==void 0?D:V;return U.cloneElement(F,{viewBox:ue(ue({},Z),{},{x:Z.left,y:Z.top}),active:re,label:K,payload:re?W:[],coordinate:C,accessibilityLayer:M})}),Fe(O,"renderBrush",function(D){var P=O.props,k=P.margin,M=P.data,F=O.state,L=F.offset,V=F.dataStartIndex,C=F.dataEndIndex,W=F.updateId;return U.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Qp(O.handleBrushChange,D.props.onChange),data:M,x:Se(D.props.x)?D.props.x:L.left,y:Se(D.props.y)?D.props.y:L.top+L.height+L.brushBottom-(k.bottom||0),width:Se(D.props.width)?D.props.width:L.width,startIndex:V,endIndex:C,updateId:"brush-".concat(W)})}),Fe(O,"renderReferenceElement",function(D,P,k){if(!D)return null;var M=O,F=M.clipPathId,L=O.state,V=L.xAxisMap,C=L.yAxisMap,W=L.offset,K=D.type.defaultProps||{},Z=D.props,re=Z.xAxisId,Q=re===void 0?K.xAxisId:re,X=Z.yAxisId,J=X===void 0?K.yAxisId:X;return U.cloneElement(D,{key:D.key||"".concat(P,"-").concat(k),xAxis:V[Q],yAxis:C[J],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:F})}),Fe(O,"renderActivePoints",function(D){var P=D.item,k=D.activePoint,M=D.basePoint,F=D.childIndex,L=D.isRange,V=[],C=P.props.key,W=P.item.type.defaultProps!==void 0?ue(ue({},P.item.type.defaultProps),P.item.props):P.item.props,K=W.activeDot,Z=W.dataKey,re=ue(ue({index:F,dataKey:Z,cx:k.x,cy:k.y,r:4,fill:qT(P.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},it(K,!1)),jm(K));return V.push(I.renderActiveDot(K,re,"".concat(C,"-activePoint-").concat(F))),M?V.push(I.renderActiveDot(K,ue(ue({},re),{},{cx:M.x,cy:M.y}),"".concat(C,"-basePoint-").concat(F))):L&&V.push(null),V}),Fe(O,"renderGraphicChild",function(D,P,k){var M=O.filterFormatItem(D,P,k);if(!M)return null;var F=O.getTooltipEventType(),L=O.state,V=L.isTooltipActive,C=L.tooltipAxis,W=L.activeTooltipIndex,K=L.activeLabel,Z=O.props.children,re=Nr(Z,Ai),Q=M.props,X=Q.points,J=Q.isRange,z=Q.baseLine,Y=M.item.type.defaultProps!==void 0?ue(ue({},M.item.type.defaultProps),M.item.props):M.item.props,le=Y.activeDot,be=Y.hide,xe=Y.activeBar,Ne=Y.activeShape,De=!!(!be&&V&&re&&(le||xe||Ne)),ce={};F!=="axis"&&re&&re.props.trigger==="click"?ce={onClick:Qp(O.handleItemMouseEnter,D.props.onClick)}:F!=="axis"&&(ce={onMouseLeave:Qp(O.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Qp(O.handleItemMouseEnter,D.props.onMouseEnter)});var oe=U.cloneElement(D,ue(ue({},M.props),ce));function ye(Er){return typeof C.dataKey=="function"?C.dataKey(Er.payload):null}if(De)if(W>=0){var Ie,he;if(C.dataKey&&!C.allowDuplicatedCategory){var We=typeof C.dataKey=="function"?ye:"payload.".concat(C.dataKey.toString());Ie=Dm(X,We,K),he=J&&z&&Dm(z,We,K)}else Ie=X==null?void 0:X[W],he=J&&z&&z[W];if(Ne||xe){var je=D.props.activeIndex!==void 0?D.props.activeIndex:W;return[U.cloneElement(D,ue(ue(ue({},M.props),ce),{},{activeIndex:je})),null,null]}if(!Ze(Ie))return[oe].concat(ac(O.renderActivePoints({item:M,activePoint:Ie,basePoint:he,childIndex:W,isRange:J})))}else{var mt,wt=(mt=O.getItemByXY(O.state.activeCoordinate))!==null&&mt!==void 0?mt:{graphicalItem:oe},Ut=wt.graphicalItem,wr=Ut.item,br=wr===void 0?D:wr,ir=Ut.childIndex,Tn=ue(ue(ue({},M.props),ce),{},{activeIndex:ir});return[U.cloneElement(br,Tn),null,null]}return J?[oe,null,null]:[oe,null]}),Fe(O,"renderCustomized",function(D,P,k){return U.cloneElement(D,ue(ue({key:"recharts-customized-".concat(k)},O.props),O.state))}),Fe(O,"renderMap",{CartesianGrid:{handler:nm,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:nm},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:nm},YAxis:{handler:nm},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((R=A.id)!==null&&R!==void 0?R:fh("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=tV(O.triggeredAfterMouseMove,(j=A.throttleDelay)!==null&&j!==void 0?j:1e3/60),O.state={},O}return Que(I,v),Kue(I,[{key:"componentDidMount",value:function(){var R,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,j=R.children,O=R.data,D=R.height,P=R.layout,k=Nr(j,Ai);if(k){var M=k.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,L=$S(this.state,O,M,F),V=this.state.tooltipTicks[M].coordinate,C=(this.state.offset.top+D)/2,W=P==="horizontal",K=W?{x:V,y:C}:{y:V,x:C},Z=this.state.formattedGraphicalItems.find(function(Q){var X=Q.item;return X.type.name==="Scatter"});Z&&(K=ue(ue({},K),Z.props.points[M].tooltipPosition),L=Z.props.points[M].tooltipPayload);var re={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:K};this.setState(re),this.renderCursor(k),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var O,D;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(R){SE([Nr(R.children,Ai)],[Nr(this.props.children,Ai)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=Nr(this.props.children,Ai);if(R&&typeof R.props.shared=="boolean"){var j=R.props.shared?"axis":"item";return l.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var j=this.container,O=j.getBoundingClientRect(),D=MQ(O),P={chartX:Math.round(R.pageX-D.left),chartY:Math.round(R.pageY-D.top)},k=O.width/j.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,k);if(!M)return null;var F=this.state,L=F.xAxisMap,V=F.yAxisMap,C=this.getTooltipEventType();if(C!=="axis"&&L&&V){var W=yl(L).scale,K=yl(V).scale,Z=W&&W.invert?W.invert(P.chartX):null,re=K&&K.invert?K.invert(P.chartY):null;return ue(ue({},P),{},{xValue:Z,yValue:re})}var Q=VD(this.state,this.props.data,this.props.layout,M);return Q?ue(ue({},P),Q):null}},{key:"inRange",value:function(R,j){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,P=R/O,k=j/O;if(D==="horizontal"||D==="vertical"){var M=this.state.offset,F=P>=M.left&&P<=M.left+M.width&&k>=M.top&&k<=M.top+M.height;return F?{x:P,y:k}:null}var L=this.state,V=L.angleAxisMap,C=L.radiusAxisMap;if(V&&C){var W=yl(V);return nM({x:P,y:k},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,j=this.getTooltipEventType(),O=Nr(R,Ai),D={};O&&j==="axis"&&(O.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=jm(this.props,this.handleOuterEvent);return ue(ue({},P),D)}},{key:"addListener",value:function(){j1.on(L1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){j1.removeListener(L1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,j,O){for(var D=this.state.formattedGraphicalItems,P=0,k=D.length;P<k;P++){var M=D[P];if(M.item===R||M.props.key===R.key||j===Vo(M.item.type)&&O===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,j=this.state.offset,O=j.left,D=j.top,P=j.height,k=j.width;return ee.createElement("defs",null,ee.createElement("clipPath",{id:R},ee.createElement("rect",{x:O,y:D,height:P,width:k})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function(j,O){var D=LD(O,2),P=D[0],k=D[1];return ue(ue({},j),{},Fe({},P,k.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function(j,O){var D=LD(O,2),P=D[0],k=D[1];return ue(ue({},j),{},Fe({},P,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[R])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(R){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[R])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(R){var j=this.state,O=j.formattedGraphicalItems,D=j.activeItem;if(O&&O.length)for(var P=0,k=O.length;P<k;P++){var M=O[P],F=M.props,L=M.item,V=L.type.defaultProps!==void 0?ue(ue({},L.type.defaultProps),L.props):L.props,C=Vo(L.type);if(C==="Bar"){var W=(F.data||[]).find(function(Q){return Uie(R,Q)});if(W)return{graphicalItem:M,payload:W}}else if(C==="RadialBar"){var K=(F.data||[]).find(function(Q){return nM(R,Q)});if(K)return{graphicalItem:M,payload:K}}else if(Dy(M,D)||jy(M,D)||$d(M,D)){var Z=koe({graphicalItem:M,activeTooltipItem:D,itemData:V.data}),re=V.activeIndex===void 0?Z:V.activeIndex;return{graphicalItem:ue(ue({},M),{},{childIndex:re}),payload:$d(M,D)?V.data[Z]:M.props.data[Z]}}}return null}},{key:"render",value:function(){var R=this;if(!dk(this))return null;var j=this.props,O=j.children,D=j.className,P=j.width,k=j.height,M=j.style,F=j.compact,L=j.title,V=j.desc,C=$D(j,Vue),W=it(C,!1);if(F)return ee.createElement(wD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement(TE,wl({},W,{width:P,height:k,title:L,desc:V}),this.renderClipPath(),pk(O,this.renderMap)));if(this.props.accessibilityLayer){var K,Z;W.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,W.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",W.onKeyDown=function(Q){R.accessibilityManager.keyboardEvent(Q)},W.onFocus=function(){R.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return ee.createElement(wD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement("div",wl({className:ut("recharts-wrapper",D),style:ue({position:"relative",cursor:"default",width:P,height:k},M)},re,{ref:function(X){R.container=X}}),ee.createElement(TE,wl({},W,{width:P,height:k,title:L,desc:V,style:rle}),this.renderClipPath(),pk(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);Fe(w,"displayName",n),Fe(w,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Fe(w,"getDerivedStateFromProps",function(v,I){var A=v.dataKey,R=v.data,j=v.children,O=v.width,D=v.height,P=v.layout,k=v.stackOffset,M=v.margin,F=I.dataStartIndex,L=I.dataEndIndex;if(I.updateId===void 0){var V=UD(v);return ue(ue(ue({},V),{},{updateId:0},_(ue(ue({props:v},V),{},{updateId:0}),I)),{},{prevDataKey:A,prevData:R,prevWidth:O,prevHeight:D,prevLayout:P,prevStackOffset:k,prevMargin:M,prevChildren:j})}if(A!==I.prevDataKey||R!==I.prevData||O!==I.prevWidth||D!==I.prevHeight||P!==I.prevLayout||k!==I.prevStackOffset||!Tl(M,I.prevMargin)){var C=UD(v),W={chartX:I.chartX,chartY:I.chartY,isTooltipActive:I.isTooltipActive},K=ue(ue({},VD(I,R,P)),{},{updateId:I.updateId+1}),Z=ue(ue(ue({},C),W),K);return ue(ue(ue({},Z),_(ue({props:v},Z),I)),{},{prevDataKey:A,prevData:R,prevWidth:O,prevHeight:D,prevLayout:P,prevStackOffset:k,prevMargin:M,prevChildren:j})}if(!SE(j,I.prevChildren)){var re,Q,X,J,z=Nr(j,Kl),Y=z&&(re=(Q=z.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&re!==void 0?re:F,le=z&&(X=(J=z.props)===null||J===void 0?void 0:J.endIndex)!==null&&X!==void 0?X:L,be=Y!==F||le!==L,xe=!Ze(R),Ne=xe&&!be?I.updateId:I.updateId+1;return ue(ue({updateId:Ne},_(ue(ue({props:v},I),{},{updateId:Ne,dataStartIndex:Y,dataEndIndex:le}),I)),{},{prevChildren:j,dataStartIndex:Y,dataEndIndex:le})}return null}),Fe(w,"renderActiveDot",function(v,I,A){var R;return U.isValidElement(v)?R=U.cloneElement(v,I):Qe(v)?R=v(I):R=ee.createElement(WT,I),ee.createElement(Xt,{className:"recharts-active-dot",key:A},R)});var E=U.forwardRef(function(I,A){return ee.createElement(w,wl({},I,{ref:A}))});return E.displayName=w.displayName,E},hle=cU({chartName:"LineChart",GraphicalChild:ec,axisComponents:[{axisType:"xAxis",AxisComp:nc},{axisType:"yAxis",AxisComp:ic}],formatAxisMap:I4}),ple=cU({chartName:"BarChart",GraphicalChild:qo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:nc},{axisType:"yAxis",AxisComp:ic}],formatAxisMap:I4});const mle={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},gle=$g(mle),Vs=$r(gle),yle=()=>{const[t,e]=U.useState([]),[n,r]=U.useState([]),[i,o]=U.useState([{title:"Total Students",value:"0",icon:Na,color:"blue",details:[{label:"Recent Registrations",value:"0"},{label:"Active Students",value:"0"},{label:"New This Month",value:"0"}]},{title:"Total Teachers",value:"0",icon:Q6,color:"green",details:[{label:"Full-Time",value:"0"},{label:"Part-Time",value:"0"},{label:"New Hires",value:"0"}]},{title:"Messages Today",value:"0",icon:JS,color:"yellow",details:[{label:"Unread",value:"0"},{label:"Priority",value:"0"},{label:"Average Response Time",value:"N/A"}]},{title:"Pending Messages",value:"0",icon:D6,color:"red",details:[{label:"Waiting >24hrs",value:"0"},{label:"High Priority",value:"0"},{label:"Department Breakdown",value:"N/A"}]},{title:"Pending NFC Card",value:"0",icon:W6,color:"purple",details:[{label:"Processed",value:"0"},{label:"In Review",value:"0"},{label:"Awaiting Approval",value:"0"}]},{title:"Pending Events",value:"0",icon:Y1,color:"orange",details:[{label:"Upcoming",value:"0"},{label:"This Week",value:"0"},{label:"Requires Action",value:"0"}]}]),[a,l]=U.useState(null),c=async()=>{try{o(E=>E.map((v,I)=>{switch(v.title){case"Total Students":return{...v,details:[{...v.details[0],value:"15"},{...v.details[1],value:"250"},{...v.details[2],value:"45"}]};case"Total Teachers":return{...v,details:[{...v.details[0],value:"30"},{...v.details[1],value:"10"},{...v.details[2],value:"5"}]};case"Messages Today":return{...v,details:[{...v.details[0],value:"25"},{...v.details[1],value:"3"},{...v.details[2],value:"2hrs"}]};default:return v}}))}catch(E){console.error("Error updating stats details:",E)}};U.useEffect(()=>{h(),y(),w(),c()},[]);const f=E=>{l(a===E?null:E)},h=async()=>{try{const E=ht(Vs,"RegisteredStudent"),I=(await Ot(E)).size,A=ht(Vs,"RegisteredTeacher"),j=(await Ot(A)).size,O=await Promise.all([p("RegisteredStudent"),p("RegisteredTeacher"),p("RegisteredAdmin")]);e(O.flat()),o(D=>D.map(P=>P.title==="Total Students"?{...P,value:I.toString()}:P.title==="Total Teachers"?{...P,value:j.toString()}:P))}catch(E){console.error("Error fetching registration data:",E)}},p=async E=>{try{const v=ht(Vs,E),I=tn(v,tO("createdAt","desc"),U7(4));return(await Ot(I)).docs.reduce((j,O)=>{const P=O.data().createdAt.toDate().toLocaleString("default",{month:"short"}),k=j.find(M=>M.month===P);return k?k[E.replace("Registered","").toLowerCase()+"s"]++:j.push({month:P,[E.replace("Registered","").toLowerCase()+"s"]:1,students:0,teachers:0,admins:0}),j},[])}catch(v){return console.error(`Error fetching ${E} data:`,v),[]}},y=async()=>{try{const E=ht(Vs,"Messages"),v=new Date;v.setHours(0,0,0,0);const I=tn(E,Sn("createdAt",">=",v)),R=(await Ot(I)).size,j=tn(E,Sn("status","==","pending")),D=(await Ot(j)).size,P=await _();r(P),o(k=>k.map(M=>M.title==="Messages Today"?{...M,value:R.toString()}:M.title==="Pending Messages"?{...M,value:D.toString()}:M))}catch(E){console.error("Error fetching messages data:",E)}},_=async()=>{try{const E=ht(Vs,"Messages"),v=new Date;v.setDate(v.getDate()-5);const I=tn(E,Sn("createdAt",">=",v),tO("createdAt","asc"));return(await Ot(I)).docs.reduce((j,O)=>{const P=O.data().createdAt.toDate().toLocaleString("default",{weekday:"short"}),k=j.find(M=>M.day===P);return k?(k.messages++,O.data().status==="pending"&&k.pending++):j.push({day:P,messages:1,pending:O.data().status==="pending"?1:0}),j},[])}catch(E){return console.error("Error fetching daily messages:",E),[]}},w=async()=>{try{const E=ht(Vs,"Toregistered"),v=ht(Vs,"PendingEvent"),I=await Ot(E),A=await Ot(v),R=I.size,j=A.size;o(O=>O.map(D=>D.title==="Pending NFC Card"?{...D,value:R.toString()}:D.title==="Pending Events"?{...D,value:j.toString()}:D))}catch(E){console.error("Error fetching events data:",E)}};return U.useEffect(()=>{h(),y(),w()},[]),S.jsxs("div",{className:_e.dashboardStatisticContainer,children:[S.jsx("div",{className:_e.statsGrid,children:i.map((E,v)=>S.jsxs("div",{className:_e.statsCard,children:[S.jsxs("div",{className:_e.statsCardContent,onClick:()=>f(v),children:[S.jsxs("div",{className:_e.statsTextContainer,children:[S.jsx("p",{className:_e.statsTitle,children:E.title}),S.jsx("p",{className:_e.statsValue,children:E.value})]}),S.jsxs("div",{className:_e.statsIconContainer,children:[S.jsx(E.icon,{className:`${_e.statsIcon} ${_e[`icon-${E.color}`]}`}),a===v?S.jsx(M6,{}):S.jsx(N6,{})]})]}),a===v&&S.jsx("div",{className:_e.statsDropdown,children:E.details.map((I,A)=>S.jsxs("div",{className:_e.statsDropdownItem,children:[S.jsx("span",{className:_e.statsDropdownLabel,children:I.label}),S.jsx("span",{className:_e.statsDropdownValue,children:I.value})]},A))})]},v))}),S.jsxs("div",{className:_e.chartsGrid,children:[S.jsxs("div",{className:_e.chartCard,children:[S.jsx("div",{className:_e.chartHeader,children:S.jsx("h3",{className:_e.chartTitle,children:"Registration Trends"})}),S.jsx("div",{className:_e.chartContent,children:S.jsx(jN,{width:"100%",height:300,children:S.jsxs(ple,{data:t,children:[S.jsx(nc,{dataKey:"month"}),S.jsx(ic,{}),S.jsx(Ai,{}),S.jsx(qa,{}),S.jsx(qo,{dataKey:"students",fill:"#3b82f6",name:"Students"}),S.jsx(qo,{dataKey:"teachers",fill:"#22c55e",name:"Teachers"}),S.jsx(qo,{dataKey:"admins",fill:"#eab308",name:"Admins"})]})})})]}),S.jsxs("div",{className:_e.chartCard,children:[S.jsx("div",{className:_e.chartHeader,children:S.jsx("h3",{className:_e.chartTitle,children:"Message Activity"})}),S.jsx("div",{className:_e.chartContent,children:S.jsx(jN,{width:"100%",height:300,children:S.jsxs(hle,{data:n,children:[S.jsx(nc,{dataKey:"day"}),S.jsx(ic,{}),S.jsx(Ai,{}),S.jsx(qa,{}),S.jsx(ec,{type:"monotone",dataKey:"messages",stroke:"#3b82f6",name:"Total Messages"}),S.jsx(ec,{type:"monotone",dataKey:"pending",stroke:"#ef4444",name:"Pending Messages"})]})})})]})]})]})};function vle(){var r;const t=$i(),e=(r=t.state)==null?void 0:r.userData,n=t.pathname==="/dashboard"||t.pathname==="/";return S.jsxs("div",{className:_e.dashboardContainer,children:[S.jsx(H7,{}),S.jsx("main",{className:_e.mainContent,children:n?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:_e.welcomeContainer,children:[S.jsxs("h1",{className:_e.welcomeTitle,children:["Welcome",S.jsx("br",{}),S.jsx("span",{children:e==null?void 0:e.name})]}),S.jsx("p",{className:_e.welcomeText,children:"Select an option from the sidebar to get started"})]}),e&&e.position!=="Student"&&e.position!=="Teacher"&&S.jsx(yle,{})]}):S.jsx(s3,{})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="firebasestorage.googleapis.com",dU="storageBucket",_le=2*60*1e3,wle=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends ui{constructor(e,n,r=0){super(F1(e),`Firebase Storage: ${n} (${F1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return F1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function F1(t){return"storage/"+t}function XT(){const t="An unknown error occurred, please check the error payload for server response.";return new Ht(Wt.UNKNOWN,t)}function ble(t){return new Ht(Wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ele(t){return new Ht(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Sle(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht(Wt.UNAUTHENTICATED,t)}function xle(){return new Ht(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Tle(t){return new Ht(Wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ale(){return new Ht(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ile(){return new Ht(Wt.CANCELED,"User canceled the upload/download.")}function Ple(t){return new Ht(Wt.INVALID_URL,"Invalid URL '"+t+"'.")}function Cle(t){return new Ht(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ole(){return new Ht(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dU+"' property when initializing the app?")}function kle(){return new Ht(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Rle(){return new Ht(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Nle(t){return new Ht(Wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function FS(t){return new Ht(Wt.INVALID_ARGUMENT,t)}function hU(){return new Ht(Wt.APP_DELETED,"The Firebase app was deleted.")}function Mle(t){return new Ht(Wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yf(t,e){return new Ht(Wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Af(t){throw new Ht(Wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(r.path==="")return r;throw Cle(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${h}/b/${i}/o${y}`,"i"),w={bucket:1,path:3},E=n===fU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",I=new RegExp(`^https?://${E}/${i}/${v}`,"i"),R=[{regex:l,indices:c,postModify:o},{regex:_,indices:w,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let j=0;j<R.length;j++){const O=R[j],D=O.regex.exec(e);if(D){const P=D[O.indices.bucket];let k=D[O.indices.path];k||(k=""),r=new rr(P,k),O.postModify(r);break}}if(r==null)throw Ple(e);return r}}class Dle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(t,e,n){let r=1,i=null,o=null,a=!1,l=0;function c(){return l===2}let f=!1;function h(...v){f||(f=!0,e.apply(null,v))}function p(v){i=setTimeout(()=>{i=null,t(_,c())},v)}function y(){o&&clearTimeout(o)}function _(v,...I){if(f){y();return}if(v){y(),h.call(null,v,...I);return}if(c()||a){y(),h.call(null,v,...I);return}r<64&&(r*=2);let R;l===1?(l=2,R=0):R=(r+Math.random())*1e3,p(R)}let w=!1;function E(v){w||(w=!0,y(),!f&&(i!==null?(v||(l=2),clearTimeout(i),p(0)):v||(l=1)))}return p(0),o=setTimeout(()=>{a=!0,E(!0)},n),E}function Lle(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $le(t){return t!==void 0}function Fle(t){return typeof t=="object"&&!Array.isArray(t)}function QT(t){return typeof t=="string"||t instanceof String}function qD(t){return JT()&&t instanceof Blob}function JT(){return typeof Blob<"u"}function VS(t,e,n,r){if(r<e)throw FS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw FS(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ru;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ru||(ru={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vle(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(e,n,r,i,o,a,l,c,f,h,p,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,w)=>{this.resolve_=_,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new rm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const l=o.getErrorCode()===ru.NO_ERROR,c=o.getStatus();if(!l||Vle(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===ru.ABORT;r(!1,new rm(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new rm(f,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());$le(c)?o(c):o()}catch(c){a(c)}else if(l!==null){const c=XT();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?hU():Ile();a(c)}else{const c=Ale();a(c)}};this.canceled_?n(!1,new rm(!1,null,!0)):this.backoffId_=jle(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ble(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zle(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Wle(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Hle(t,e,n,r,i,o,a=!0){const l=pU(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return zle(f,e),Ble(f,n),qle(f,o),Wle(f,r),new Ule(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Gle(...t){const e=Kle();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(JT())return new Blob(t);throw new Ht(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Yle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(t){if(typeof atob>"u")throw Nle("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class V1{constructor(e,n){this.data=e,this.contentType=n||null}}function mU(t,e){switch(t){case Ni.RAW:return new V1(gU(e));case Ni.BASE64:case Ni.BASE64URL:return new V1(yU(t,e));case Ni.DATA_URL:return new V1(Jle(e),Zle(e))}throw XT()}function gU(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Qle(t){let e;try{e=decodeURIComponent(t)}catch{throw Yf(Ni.DATA_URL,"Malformed data URL.")}return gU(e)}function yU(t,e){switch(t){case Ni.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Yf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ni.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Yf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Xle(e)}catch(i){throw i.message.includes("polyfill")?i:Yf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class vU{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yf(Ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ece(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Jle(t){const e=new vU(t);return e.base64?yU(Ni.BASE64,e.rest):Qle(e.rest)}function Zle(t){return new vU(t).contentType}function ece(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){let r=0,i="";qD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(qD(this.data_)){const r=this.data_,i=Yle(r,e,n);return i===null?null:new La(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new La(r,!0)}}static getBlob(...e){if(JT()){const n=e.map(r=>r instanceof La?r.data_:r);return new La(Gle.apply(null,n))}else{const n=e.map(a=>QT(a)?mU(Ni.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[o++]=a[l]}),new La(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t){let e;try{e=JSON.parse(t)}catch{return null}return Fle(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nce(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function _U(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rce(t,e){return e}class er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||rce}}let im=null;function ice(t){return!QT(t)||t.length<2?t:_U(t)}function wU(){if(im)return im;const t=[];t.push(new er("bucket")),t.push(new er("generation")),t.push(new er("metageneration")),t.push(new er("name","fullPath",!0));function e(o,a){return ice(a)}const n=new er("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new er("size");return i.xform=r,t.push(i),t.push(new er("timeCreated")),t.push(new er("updated")),t.push(new er("md5Hash",null,!0)),t.push(new er("cacheControl",null,!0)),t.push(new er("contentDisposition",null,!0)),t.push(new er("contentEncoding",null,!0)),t.push(new er("contentLanguage",null,!0)),t.push(new er("contentType",null,!0)),t.push(new er("metadata","customMetadata",!0)),im=t,im}function oce(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new rr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function ace(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return oce(r,t),r}function bU(t,e,n){const r=ZT(e);return r===null?null:ace(t,r,n)}function sce(t,e,n,r){const i=ZT(e);if(i===null||!QT(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const h=t.bucket,p=t.fullPath,y="/b/"+a(h)+"/o/"+a(p),_=vh(y,n,r),w=pU({alt:"media",token:f});return _+w})[0]}function uce(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="prefixes",WD="items";function lce(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[zD])for(const i of n[zD]){const o=i.replace(/\/$/,""),a=t._makeStorageReference(new rr(e,o));r.prefixes.push(a)}if(n[WD])for(const i of n[WD]){const o=t._makeStorageReference(new rr(e,i.name));r.items.push(o)}return r}function cce(t,e,n){const r=ZT(n);return r===null?null:lce(t,e,r)}class zy{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){if(!t)throw XT()}function fce(t,e){function n(r,i){const o=bU(t,i,e);return eA(o!==null),o}return n}function dce(t,e){function n(r,i){const o=cce(t,e,i);return eA(o!==null),o}return n}function hce(t,e){function n(r,i){const o=bU(t,i,e);return eA(o!==null),sce(o,i,t.host,t._protocol)}return n}function tA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xle():i=Sle():n.getStatus()===402?i=Ele(t.bucket):n.getStatus()===403?i=Tle(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function EU(t){const e=tA(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=ble(t.path)),o.serverResponse=i.serverResponse,o}return n}function pce(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=e.bucketOnlyServerUrl(),l=vh(a,t.host,t._protocol),c="GET",f=t.maxOperationRetryTime,h=new zy(l,c,dce(t,e.bucket),f);return h.urlParams=o,h.errorHandler=tA(e),h}function mce(t,e,n){const r=e.fullServerUrl(),i=vh(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,l=new zy(i,o,hce(t,n),a);return l.errorHandler=EU(e),l}function gce(t,e){const n=e.fullServerUrl(),r=vh(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function a(c,f){}const l=new zy(r,i,a,o);return l.successCodes=[200,204],l.errorHandler=EU(e),l}function yce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vce(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yce(null,e)),r}function _ce(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let R="";for(let j=0;j<2;j++)R=R+Math.random().toString().slice(2);return R}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const f=vce(e,r,i),h=uce(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",_=La.getBlob(p,r,y);if(_===null)throw kle();const w={name:f.fullPath},E=vh(o,t.host,t._protocol),v="POST",I=t.maxUploadRetryTime,A=new zy(E,v,fce(t,n),I);return A.urlParams=w,A.headers=a,A.body=_.uploadData(),A.errorHandler=tA(e),A}class wce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ru.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ru.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ru.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Af("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Af("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Af("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Af("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Af("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bce extends wce{initXhr(){this.xhr_.responseType="text"}}function Wy(){return new bce}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cu(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _U(this._location.path)}get storage(){return this._service}get parent(){const e=tce(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new cu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Mle(e)}}function SU(t,e,n){t._throwIfRoot("uploadBytes");const r=_ce(t.storage,t._location,wU(),new La(e,!0),n);return t.storage.makeRequestWithTokens(r,Wy).then(i=>({metadata:i,ref:t}))}function Ece(t,e,n=Ni.RAW,r){t._throwIfRoot("uploadString");const i=mU(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),SU(t,i.data,o)}function Sce(t){const e={prefixes:[],items:[]};return xU(t,e).then(()=>e)}async function xU(t,e,n){const i=await xce(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await xU(t,e,i.nextPageToken)}function xce(t,e){e!=null&&typeof e.maxResults=="number"&&VS("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=pce(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Wy)}function Tce(t){t._throwIfRoot("getDownloadURL");const e=mce(t.storage,t._location,wU());return t.storage.makeRequestWithTokens(e,Wy).then(n=>{if(n===null)throw Rle();return n})}function Ace(t){t._throwIfRoot("deleteObject");const e=gce(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Wy)}function Ice(t,e){const n=nce(t._location.path,e),r=new rr(t._location.bucket,n);return new cu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pce(t){return/^[A-Za-z]+:\/\//.test(t)}function Cce(t,e){return new cu(t,e)}function TU(t,e){if(t instanceof nA){const n=t;if(n._bucket==null)throw Ole();const r=new cu(n,n._bucket);return e!=null?TU(r,e):r}else return e!==void 0?Ice(t,e):t}function Oce(t,e){if(e&&Pce(e)){if(t instanceof nA)return Cce(t,e);throw FS("To use ref(service, url), the first argument must be a Storage instance.")}else return TU(t,e)}function HD(t,e){const n=e==null?void 0:e[dU];return n==null?null:rr.makeFromBucketSpec(n,t)}function kce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Wj(i,t.app.options.projectId))}class nA{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=fU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_le,this._maxUploadRetryTime=wle,this._requests=new Set,i!=null?this._bucket=rr.makeFromBucketSpec(i,this._host):this._bucket=HD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=HD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Dle(hU());{const a=Hle(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const KD="@firebase/storage",GD="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="storage";function $a(t,e,n){return t=lt(t),SU(t,e,n)}function Rce(t,e,n,r){return t=lt(t),Ece(t,e,n,r)}function Pl(t){return t=lt(t),Sce(t)}function to(t){return t=lt(t),Tce(t)}function If(t){return t=lt(t),Ace(t)}function wn(t,e){return t=lt(t),Oce(t,e)}function fs(t=Jd(),e){t=lt(t);const r=ns(t,AU).getImmediate({identifier:e}),i=ZS("storage");return i&&Nce(r,...i),r}function Nce(t,e,n,r={}){kce(t,e,n,r)}function Mce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nA(n,r,i,e,mu)}function Dce(){ii(new jr(AU,Mce,"PUBLIC").setMultipleInstances(!0)),Wn(KD,GD,""),Wn(KD,GD,"esm2017")}Dce();const jce="_container_1l5y6_3",Lce="_card_1l5y6_9",$ce="_cardHeader_1l5y6_17",Fce="_imageUpload_1l5y6_25",Vce="_imageInput_1l5y6_46",Uce="_hasImage_1l5y6_56",Bce="_label_1l5y6_61",qce="_imageSelectedPulse_1l5y6_1",zce="_imageUploadIcon_1l5y6_86",Wce="_cardTitle_1l5y6_90",Hce="_form_1l5y6_97",Kce="_formGrid_1l5y6_102",Gce="_formGroup_1l5y6_114",Yce="_input_1l5y6_126",Xce="_select_1l5y6_127",Qce="_button_1l5y6_150",Jce="_tableContainer_1l5y6_175",Zce="_table_1l5y6_175",efe="_status_1l5y6_204",tfe="_statusPending_1l5y6_212",nfe="_statusOngoing_1l5y6_217",rfe="_statusCompleted_1l5y6_222",ife="_error_1l5y6_228",ofe="_inputError_1l5y6_234",afe="_slideUp_1l5y6_1",sfe="_status_command_1l5y6_258",ufe="_status_detail_1l5y6_263",He={container:jce,card:Lce,cardHeader:$ce,imageUpload:Fce,imageInput:Vce,hasImage:Uce,label:Bce,imageSelectedPulse:qce,imageUploadIcon:zce,cardTitle:Wce,form:Hce,formGrid:Kce,formGroup:Gce,input:Yce,select:Xce,button:Qce,tableContainer:Jce,table:Zce,status:efe,statusPending:tfe,statusOngoing:nfe,statusCompleted:rfe,error:ife,inputError:ofe,slideUp:afe,status_command:sfe,status_detail:ufe},lfe="_buttons_1aeo6_1",cfe="_add_1aeo6_39",ffe="_archive_1aeo6_39",dfe="_logout_1aeo6_39",hfe="_progress_1aeo6_39",pfe="_filemanager_1aeo6_39",mfe="_new_event_1aeo6_39",rn={buttons:lfe,add:cfe,archive:ffe,logout:dfe,progress:hfe,filemanager:pfe,new_event:mfe},gfe=()=>{const t=$i(),{userData:e}=t.state||{},n=$r(),r=fs(),[i,o]=U.useState(""),[a,l]=U.useState("unlimited"),[c,f]=U.useState(""),[h,p]=U.useState(""),[y,_]=U.useState(""),[w,E]=U.useState("event"),[v,I]=U.useState("pending"),[A,R]=U.useState(""),[j,O]=U.useState(""),[D,P]=U.useState(""),[k,M]=U.useState(""),[F,L]=U.useState(!1),[V,C]=U.useState(null),[W,K]=U.useState(""),Z=J=>{J.target.files[0]&&C(J.target.files[0])},re=async()=>{var le;if(!V)return null;const J=((le=e==null?void 0:e.email)==null?void 0:le.replace(/[@.]/g,"_"))||"anonymous",z=new Date().getTime(),Y=wn(r,`users/${J}/event_images/${z}_${V.name}`);try{const be=await $a(Y,V),xe=await to(be.ref);return K(xe),xe}catch(be){throw console.error("Error uploading image: ",be),be}},Q=async J=>{J.preventDefault(),L(!0);try{const z=await re(),Y={eventName:i,entryLimit:a,maxEntries:a==="limited"?parseInt(c):null,locations:h,description:y,purpose:w,status:v,startDate:A,startTime:j,endDate:D,endTime:k,imageUrl:z,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},le=await cy(ht(n,"PendingEvent"),Y);X()}catch(z){console.error("Error creating event: ",z),alert("Error creating event. Please try again.")}},X=()=>{o(""),l("unlimited"),f(""),p(""),E("event"),_(""),I("pending"),R(""),O(""),M(""),P(""),C(null),K(""),L(!1)};return S.jsx("div",{className:He.container,children:S.jsxs("div",{className:He.card,children:[S.jsxs("div",{className:He.cardHeader,children:[S.jsx("h2",{className:He.cardTitle,children:"Create New Event"}),S.jsxs("div",{className:`${He.imageUpload} ${V?He.hasImage:""}`,children:[S.jsx(U6,{size:20,className:He.imageUploadIcon}),S.jsx("label",{className:He.label,children:V?"Image Selected":"Event Image (Optional)"}),S.jsx("input",{type:"file",accept:"image/*",onChange:Z,className:He.imageInput})]})]}),S.jsxs("form",{className:He.form,onSubmit:Q,children:[S.jsxs("div",{className:He.formGrid,children:[S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Event Name"}),S.jsx("input",{type:"text",className:He.input,value:i,onChange:J=>o(J.target.value),placeholder:"Enter event name"})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Entry Limit"}),S.jsxs("select",{className:He.select,value:a,name:"Entry Limit",onChange:J=>l(J.target.value),children:[S.jsx("option",{value:"unlimited",children:"Anyone can join"}),S.jsx("option",{value:"limited",children:"Limited Person"})]})]}),a==="limited"&&S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Maximum Entries"}),S.jsx("input",{type:"number",className:He.input,value:c,onChange:J=>f(J.target.value),placeholder:"Enter maximum entries"})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Location"}),S.jsx("input",{type:"text",className:He.input,value:h,onChange:J=>p(J.target.value),placeholder:"Enter location"})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Purpose"}),S.jsxs("select",{className:He.select,value:w,name:"Purpose",onChange:J=>E(J.target.value),children:[S.jsx("option",{value:"event",name:"Purpose",children:"Event Attendance"}),S.jsx("option",{value:"membership",name:"Purpose",children:"Membership Attendance"})]})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Description"}),S.jsx("input",{type:"text",className:He.input,value:y,onChange:J=>_(J.target.value),placeholder:"Enter Description"})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Status"}),S.jsxs("select",{className:He.select,value:v,name:"Status",onChange:J=>I(J.target.value),children:[S.jsx("option",{value:"pending",name:"Status",children:"Pending"}),S.jsx("option",{value:"ongoing",name:"Status",children:"Ongoing"})]})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Start Date"}),S.jsx("input",{type:"date",className:He.input,value:A,name:"Start Date",onChange:J=>R(J.target.value)})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"Start Time"}),S.jsx("input",{type:"time",className:He.input,value:j,name:"Start Time",onChange:J=>O(J.target.value)})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"End Date"}),S.jsx("input",{type:"date",className:He.input,value:D,name:"End Date",onChange:J=>P(J.target.value)})]}),S.jsxs("div",{className:He.formGroup,children:[S.jsx("label",{className:He.label,children:"End Time"}),S.jsx("input",{type:"time",className:He.input,value:k,name:"End Time",onChange:J=>M(J.target.value)})]})]}),S.jsx("button",{type:"submit",className:rn.buttons,disabled:F,name:"Create Event Submit",children:F?"Please wait..":"Create Event"})]})]})})},yfe="_container_4qcq6_2",vfe="_form_4qcq6_9",_fe="_nfcButton_4qcq6_24",wfe="_scanButton_4qcq6_24",bfe="_scannerContainer_4qcq6_33",Efe="_scanner_4qcq6_33",Sfe="_modalOverlay_4qcq6_48",xfe="_modalContent_4qcq6_62",Tfe="_status_4qcq6_74",Afe="_statusWarning_4qcq6_83",Ife="_statusInfo_4qcq6_90",Pfe="_statusSuccess_4qcq6_97",Cfe="_statusError_4qcq6_104",Ofe="_pulse_4qcq6_1",kfe="_reader_4qcq6_147",Rfe="_fadeIn_4qcq6_152",Nfe="_fadeOut_4qcq6_157",hr={container:yfe,form:vfe,nfcButton:_fe,scanButton:wfe,scannerContainer:bfe,scanner:Efe,modalOverlay:Sfe,modalContent:xfe,status:Tfe,statusWarning:Afe,statusInfo:Ife,statusSuccess:Pfe,statusError:Cfe,"animate-pulse":"_animate-pulse_4qcq6_123",pulse:Ofe,reader:kfe,fadeIn:Rfe,fadeOut:Nfe},Mfe={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};let si;WP().length?si=WP()[0]:si=$g(Mfe);const YD=$r(si),Dfe=fs(si),jfe=Fi(si),Lfe=({message:t,type:e,isProcessing:n})=>{const[r,i]=U.useState(!0);if(U.useEffect(()=>{if(t){i(!0);const a=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(a)}},[t]),!t||!r)return null;const o=()=>{switch(e){case"warning":return hr.statusWarning;case"error":return hr.statusError;case"success":return hr.statusSuccess;default:return hr.statusInfo}};return S.jsx("div",{className:`${hr.modalOverlay} ${r?hr.fadeIn:hr.fadeOut}`,children:S.jsx("div",{className:hr.modalContent,children:S.jsx("div",{className:`${hr.status} ${o()} ${n?hr["animate-pulse"]:""}`,children:t})})})},$fe=()=>{const[t,e]=U.useState({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),[n,r]=U.useState(null),[i,o]=U.useState("capture"),[a,l]=U.useState(!1),[c,f]=U.useState(""),[h,p]=U.useState(null),[y,_]=U.useState("info"),[w,E]=U.useState(null),v=U.useRef(null),I=U.useRef(null),A=(C,W="info")=>{f(C),_(W)};U.useEffect(()=>()=>{h&&h.abort()},[h]);const R=C=>{const W=C.target.files[0];r(W)},j=C=>{o(C),r(null),v.current&&(v.current.value=""),I.current&&(I.current.value="")},O=async()=>{try{const C=await bL(jfe,t.email,t.upass);return await EL(C.user),C.user}catch(C){switch(C.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw C}}},D=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{f("Waiting for NFC tag...");const C=new NDEFReader;p(C),await C.scan();const W=await new Promise((K,Z)=>{const re=async Q=>{try{const X=Q.serialNumber;if(!await F(X)){Z(new Error("Unauthorized NFC tag"));return}C.removeEventListener("reading",re),K(X)}catch(X){Z(X)}};C.addEventListener("reading",re),setTimeout(()=>{C.removeEventListener("reading",re),Z(new Error("NFC tag read timeout"))},3e4)});return E(W),A("NFC tag detected successfully","success"),W}catch(C){throw A(C.message,"error"),C}finally{h&&(h.abort(),p(null))}},P=async()=>{const C=Fi(),W=ts();try{await td(C),console.log("User signed out successfully"),setTimeout(()=>{W("/login")},2e3)}catch(K){console.error("Error signing out:",K)}},k=async()=>{if(!n)return null;try{A("Uploading selfie...","info");const C=t.email.replace(/[@.]/g,"_"),W=wn(Dfe,`users/${C}/profile/${n.name}`),K=await $a(W,n),Z=await to(K.ref);return A("Selfie uploaded successfully!","success"),Z}catch(C){throw A("Failed to upload selfie: "+C.message,"error"),C}},M=async()=>{try{l(!0);const C=await k();A("Saving your registration details...","info");const K={...t,nfcSerialNumber:w,selfieUrl:C,position:"Student",createdAt:Xx()},Z=await cy(ht(YD,"RegisteredStudent"),K);await Za(Z,{currentnfcId:Z.id}),A("Registration details saved successfully!","success"),A("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(Z.id)}]}),A("NFC tag written successfully!","success"),A("Creating your account...","info");const Q=await O();return await Za(Z,{firebaseUserId:Q.uid}),A("Registration completed! Please check your email for verification.","success"),await P(),setTimeout(()=>{A(""),L()},5e3),Z.id}catch(C){console.error("Registration Error:",C);let W="Registration failed: ";throw C.code==="auth/email-already-in-use"?W="This email is already registered. Please use a different email.":C.code==="not-found"?W="NFC tag not found. Please try again.":C.code==="network-error"?W="Network connection issue. Please check your internet connection.":W+=C.message,A(W,"error"),C}finally{l(!1)}},F=async C=>{try{const W=Fo(YD,"Toregistered",C);return(await ly(W)).exists()}catch(W){return console.error("NFC Authorization Check Error:",W),!1}},L=()=>{e({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),r(null),f(""),E(null),v.current&&(v.current.value="")},V=async C=>{if(C.preventDefault(),!("NDEFReader"in window)){A("NFC is not supported on this device","warning");return}try{if(A("Waiting for NFC tag... Please place your card","info"),await D(),A("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){E(null),A("");return}await M()}catch(W){console.error("Registration Error:",W),A("Registration process failed: "+W.message,"error")}};return S.jsxs("div",{className:hr.container,children:[S.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||c)&&S.jsx(Lfe,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?y:"warning",isProcessing:a}),S.jsxs("form",{onSubmit:V,className:hr.form,children:[S.jsx("input",{type:"text",placeholder:"Student Name",value:t.name,onChange:C=>e({...t,name:C.target.value}),required:!0,disabled:a}),S.jsx("input",{type:"email",placeholder:"Email",value:t.email,onChange:C=>e({...t,email:C.target.value}),required:!0,disabled:a}),S.jsx("input",{type:"text",placeholder:"Course",value:t.course,onChange:C=>e({...t,course:C.target.value}),required:!0,disabled:a}),S.jsx("input",{type:"text",placeholder:"Student ID",value:t.studentId,onChange:C=>e({...t,studentId:C.target.value}),required:!0,disabled:a}),S.jsx("input",{type:"text",placeholder:"Password",value:t.upass,onChange:C=>e({...t,upass:C.target.value}),required:!0,disabled:a}),S.jsxs("select",{value:t.campus,onChange:C=>e({...t,campus:C.target.value}),required:!0,disabled:a,children:[S.jsx("option",{value:"",children:"Select Campus"}),S.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),S.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),S.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),S.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),S.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),S.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),S.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),S.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),S.jsxs("div",{className:hr.uploadOptionContainer,children:[S.jsxs("label",{children:[S.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:i==="capture",onChange:()=>j("capture"),disabled:a}),"Capture Selfie"]}),S.jsxs("label",{children:[S.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:i==="upload",onChange:()=>j("upload"),disabled:a}),"Upload Existing Image"]})]}),i==="capture"?S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"file",ref:v,onChange:R,accept:"image/*",capture:"user",style:{display:"none"},disabled:a}),S.jsx("button",{type:"button",onClick:()=>v.current.click(),className:rn.buttons,disabled:a,children:"Take Profile Picture"})]}):S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"file",ref:I,onChange:R,accept:"image/*",style:{display:"none"},disabled:a}),S.jsx("button",{type:"button",onClick:()=>I.current.click(),className:rn.buttons,disabled:a,children:"Upload Existing Image"})]}),n&&S.jsxs("p",{children:["Selected Image: ",n.name,S.jsx("button",{type:"button",onClick:()=>r(null),className:hr.clearImageButton,disabled:a,children:"Clear"})]}),S.jsx("button",{type:"submit",className:`${rn.buttons} ${a?"animate-pulse":""}`,disabled:!t.studentId||!n||a||!("NDEFReader"in window),children:w?"Complete Registration":"Scan NFC Tag"})]})]})},Ffe="_container_16n0o_1",Vfe="_status_16n0o_17",Ufe="_reading_16n0o_26",Bfe="_pulse_16n0o_1",qfe="_error_16n0o_30",zfe="_studentInfo_16n0o_39",Wfe="_infoGrid_16n0o_54",Hfe="_infoRow_16n0o_59",Kfe="_selfie_16n0o_75",Gfe="_controls_16n0o_86",Yfe="_button_16n0o_93",Xfe="_readButton_16n0o_107",Qfe="_resetButton_16n0o_116",Or={container:Ffe,status:Vfe,reading:Ufe,pulse:Bfe,error:qfe,studentInfo:zfe,infoGrid:Wfe,infoRow:Hfe,selfie:Kfe,controls:Gfe,button:Yfe,readButton:Xfe,resetButton:Qfe},Jfe=$r(si),Zfe=()=>{const[t,e]=U.useState(null),[n,r]=U.useState(""),[i,o]=U.useState(!1),[a,l]=U.useState(null),c=async()=>{try{o(!0),r("Waiting for NFC card..."),l(null);const h=new NDEFReader;await h.scan(),h.addEventListener("reading",async({message:p})=>{try{const y=p.records.find(v=>v.recordType==="text");if(!y)throw new Error("Invalid NFC card: No student data found");const _=new TextDecoder().decode(y.data);r("Retrieving student data...");const w=Fo(Jfe,"RegisteredStudent",_),E=await ly(w);if(E.exists()){const v=E.data();e(v),r("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(y){l(y.message),e(null)}finally{o(!1),h.stop()}})}catch(h){l(h.message),o(!1)}},f=()=>{e(null),r(""),l(null),o(!1)};return S.jsxs("div",{className:Or.container,children:[S.jsx("h1",{children:"Student NFC Reader"}),n&&S.jsx("div",{className:`${Or.status} ${i?Or.reading:""}`,children:n}),a&&S.jsx("div",{className:Or.error,children:a}),t&&S.jsxs("div",{className:Or.studentInfo,children:[S.jsx("h2",{children:"Student Information"}),S.jsxs("div",{className:Or.infoGrid,children:[S.jsxs("div",{className:Or.infoRow,children:[S.jsx("span",{children:"Name:"}),S.jsx("span",{children:t.studentName})]}),S.jsxs("div",{className:Or.infoRow,children:[S.jsx("span",{children:"Student ID:"}),S.jsx("span",{children:t.studentId})]}),S.jsxs("div",{className:Or.infoRow,children:[S.jsx("span",{children:"Email:"}),S.jsx("span",{children:t.email})]}),S.jsxs("div",{className:Or.infoRow,children:[S.jsx("span",{children:"Course:"}),S.jsx("span",{children:t.course})]}),S.jsxs("div",{className:Or.infoRow,children:[S.jsx("span",{children:"Campus:"}),S.jsx("span",{children:t.campus})]}),t.selfieUrl&&S.jsx("div",{className:Or.selfie,children:S.jsx("img",{src:t.selfieUrl,alt:"Student"})})]})]}),S.jsxs("div",{className:Or.controls,children:[S.jsx("button",{onClick:c,disabled:i||!("NDEFReader"in window),className:`${rn.buttons} ${rn.buttons}`,children:i?"Reading...":"Scan NFC Card"}),t&&S.jsx("button",{onClick:f,className:`${rn.buttons} ${rn.buttons}`,children:"Clear & Scan New Card"})]})]})},ede="_login_container_1hscf_7",tde="_login_card_1hscf_20",nde="_login_title_1hscf_29",rde="_login_form_1hscf_38",ide="_form_group_1hscf_44",ode="_login_input_1hscf_49",ade="_login_button_1hscf_65",sde="_error_message_1hscf_88",ude="_divider_1hscf_97",lde="_google_button_1hscf_121",cde="_google_icon_1hscf_147",fde="_terminal_overlay_1hscf_153",dde="_status_1hscf_166",hde="_slideUp_1hscf_1",pde="_status_command_1hscf_182",mde="_status_detail_1hscf_187",gde="_error_1hscf_88",yde="_pulse_1hscf_1",On={login_container:ede,login_card:tde,login_title:nde,login_form:rde,form_group:ide,login_input:ode,login_button:ade,error_message:sde,divider:ude,google_button:lde,google_icon:cde,terminal_overlay:fde,status:dde,slideUp:hde,status_command:pde,status_detail:mde,error:gde,pulse:yde},vde=new Co,Us=Fi(),fl=$r(si),_de=()=>{const t=ts(),[e,n]=U.useState(""),[r,i]=U.useState(""),[o,a]=U.useState(""),[l,c]=U.useState(!1),[f,h]=U.useState(!1),[p,y]=U.useState(null),[_,w]=U.useState(!1),[E,v]=U.useState(!1),[I,A]=U.useState(""),[R,j]=U.useState([]),O=(F,L)=>(A(F),j(L),new Promise(V=>setTimeout(V,800))),D=async F=>{try{await O("check-role --user "+F,["Checking user permissions..."]),await O("verify-role --collection RegisteredAdmin",["Checking admin privileges..."]);const L=tn(ht(fl,"RegisteredAdmin"),Sn("email","==",F));if(!(await Ot(L)).empty)return await O("grant-role --type admin",["✓ Admin privileges confirmed"]),"admin";await O("verify-role --collection RegisteredTeacher",["Checking teacher privileges..."]);const C=tn(ht(fl,"RegisteredTeacher"),Sn("email","==",F));if(!(await Ot(C)).empty)return await O("grant-role --type teacher",["✓ Teacher privileges confirmed"]),"teacher";await O("verify-role --collection RegisteredStudent",["Checking student privileges..."]);const K=tn(ht(fl,"RegisteredStudent"),Sn("email","==",F));return(await Ot(K)).empty?(await O("verify-role --result none",["✗ No role assignments found"]),setTimeout(()=>{A(""),j([])},1e3),null):(await O("grant-role --type student",["✓ Student privileges confirmed"]),"student")}catch(L){return await O("verify-role --error",["✗ Error checking roles",L.message]),setTimeout(()=>{A(""),j([])},1e3),console.error("Error checking user role:",L),null}},P=async F=>{F.preventDefault(),c(!0),v(!0),a("");try{await O("authenticate --verify-credentials",["Checking credentials..."]);const L=await $p(Us,e,r),V=await D(L.user.email);V?(await O("grant-access --role "+V,[`✓ Access granted as ${V}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",V),w(!0),setTimeout(()=>t("/dashboard"),1e3)):(await O("verify-access --check-registration",["✗ Your account is not registered in the system"]),setTimeout(()=>{A(""),j([])},1e3),await td(Us),a("Access denied. Please contact your administrator."))}catch{await O("authenticate --verify-credentials",["✗ Authentication failed"]),setTimeout(()=>{A(""),j([])},1e3),a("Access Denied, Please check you email and password")}finally{c(!1)}},k=async()=>{c(!0),v(!0),a("");try{const F=await Yz(Us,vde),L=await D(F.user.email);L?(await O("grant-access --role "+L,[`✓ Access granted as ${L}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",L),w(!0),setTimeout(()=>t("/dashboard"),1e3)):(await O("verify-access --check-registration",["✗ Your account is not registered in the system"]),await td(Us),a("Access denied. Please contact your administrator."))}catch(F){await O("authenticate --verify-credentials",["✗ Authentication failed",authError.message]),setTimeout(()=>{A(""),j([])},1e3),a(F.message)}finally{}};U.useEffect(()=>{let F=null;return(async()=>{if(!_)if("NDEFReader"in window)try{const V=new window.NDEFReader;await V.scan(),h(!0),y(V),F=V,v(!0),await O("initialize-nfc --scan-mode",["✓ NFC reader initialized","Waiting for NFC card..."]),setTimeout(()=>{A(""),j([])},1e3),V.onreading=async({message:C})=>{try{const W=C.records.find(Z=>Z.recordType==="text");if(!W)throw await O("verify-nfc --check-data",["✗ Invalid NFC card: No user data found"]),new Error("Invalid NFC card: No user data found");const K=new TextDecoder().decode(W.data);await O("read-nfc --get-data",[`✓ NFC data retrieved: ${K}`]);try{await O("authenticate --verify-credentials",["Checking user credentials..."]);const Z=await M(K);Z?(await O("grant-access --role "+Z,[`✓ Access granted as ${Z}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",Z),w(!0),setTimeout(()=>t("/dashboard"),1e3)):(await O("verify-access --check-registration",["✗ NFC card is not registered in the system"]),setTimeout(()=>{A(""),j([])},1e3),a("NFC card is not registered in the system."))}catch(Z){await O("authenticate --verify-credentials",["✗ Authentication failed",Z.message]),setTimeout(()=>{A(""),j([])},1e3),console.error("Authentication error:",Z),a("Failed to authenticate with NFC card.")}}catch(W){console.error("Error processing NFC card:",W),a("Failed to process NFC card.")}},V.onerror=async C=>{await O("nfc-error --get-details",["✗ Error reading NFC card",C.message]),setTimeout(()=>{A(""),j([])},1e3),console.error("NFC read error:",C),a("Error reading NFC card.")}}catch(V){await O("initialize-nfc --check-support",["✗ NFC initialization failed",V.message]),setTimeout(()=>{A(""),j([])},1e3),console.error("Error setting up NFC:",V),h(!1)}else await O("initialize-nfc --check-support",["✗ NFC initialization failed"]),setTimeout(()=>{A(""),j([])},2e3)})(),async()=>{var V;if(F)try{F.abort(),(V=F.removeAllListeners)==null||V.call(F),y(null),h(!1),await O("cleanup-nfc --remove-listeners",["✓ NFC reader cleaned up successfully"])}catch(C){console.error("Error cleaning up NFC reader:",C)}}},[_]);const M=async F=>{try{await O("verify-role --collection RegisteredAdmin",["Checking admin privileges..."]);const L=tn(ht(fl,"RegisteredAdmin"),Sn("currentnfcId","==",F)),V=await Ot(L);if(!V.empty){const re=V.docs[0].data();return await $p(Us,re.email,re.upass),await O("grant-role --type admin",["✓ Admin privileges confirmed"]),"admin"}await O("verify-role --collection RegisteredTeacher",["Checking teacher privileges..."]);const C=tn(ht(fl,"RegisteredTeacher"),Sn("currentnfcId","==",F)),W=await Ot(C);if(!W.empty){const re=W.docs[0].data();return await $p(Us,re.email,re.upass),await O("grant-role --type teacher",["✓ Teacher privileges confirmed"]),"teacher"}await O("verify-role --collection RegisteredStudent",["Checking student privileges..."]);const K=tn(ht(fl,"RegisteredStudent"),Sn("currentnfcId","==",F)),Z=await Ot(K);if(!Z.empty){const re=Z.docs[0].data();return await $p(Us,re.email,re.upass),await O("grant-role --type student",["✓ Student privileges confirmed"]),"student"}return null}catch(L){throw console.error("Error checking user role by NFC:",L),L}};return S.jsxs("div",{className:On.login_container,children:[(I||l)&&S.jsxs("div",{className:`${On.status} ${E?On.reading:""}`,children:[S.jsx("div",{className:On.status_command,children:I}),R.map((F,L)=>S.jsx("div",{className:`${On.status_detail} ${F.includes("failed")?"error":""}`,children:F},L))]}),S.jsxs("div",{className:On.login_card,children:[S.jsx("h1",{className:On.login_title,children:"Login"}),S.jsxs("form",{onSubmit:P,className:On.login_form,children:[S.jsx("div",{className:On.form_group,children:S.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:F=>n(F.target.value),required:!0,className:On.login_input})}),S.jsx("div",{className:On.form_group,children:S.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:F=>i(F.target.value),required:!0,className:On.login_input})}),o&&S.jsx("div",{className:On.error_message,children:o}),S.jsx("button",{type:"submit",className:On.login_button,disabled:l,children:l?"Please wait..":"Login"})]}),S.jsx("div",{className:On.divider,children:S.jsx("span",{children:"Or continue with"})}),S.jsxs("button",{type:"button",onClick:k,disabled:l,className:On.google_button,children:[S.jsx("svg",{className:On.google_icon,viewBox:"0 0 24 24",children:S.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})]})},wde="_event_list_container_5jrch_1",bde="_events_grid_5jrch_13",Ede="_event_card_5jrch_19",Sde="_card_content_5jrch_33",xde="_card_image_container_5jrch_40",Tde="_card_image_5jrch_40",Ade="_card_image_placeholder_5jrch_53",Ide="_card_basic_info_5jrch_70",Pde="_modal_overlay_5jrch_88",Cde="_modal_content_5jrch_101",Ode="_modal_image_container_5jrch_112",kde="_modal_image_5jrch_112",Rde="_modal_image_placeholder_5jrch_130",Nde="_close_button_5jrch_154",Mde="_event_info_5jrch_159",Dde="_table_container_5jrch_171",jde="_action_buttons_5jrch_193",Lde="_edit_btn_5jrch_198",$de="_delete_btn_5jrch_198",Fde="_modal_actions_5jrch_227",Vde="_continue_btn_5jrch_234",Ude="_complete_btn_5jrch_234",qt={event_list_container:wde,events_grid:bde,event_card:Ede,card_content:Sde,card_image_container:xde,card_image:Tde,card_image_placeholder:Ade,card_basic_info:Ide,modal_overlay:Pde,modal_content:Cde,modal_image_container:Ode,modal_image:kde,modal_image_placeholder:Rde,close_button:Nde,event_info:Mde,table_container:Dde,action_buttons:jde,edit_btn:Lde,delete_btn:$de,modal_actions:Fde,continue_btn:Vde,complete_btn:Ude},Bde=()=>{var _;const[t,e]=U.useState([]),[n,r]=U.useState(null),i=ts(),o=$r(),a=Fi();U.useEffect(()=>{l()},[]);const l=async()=>{try{const w=a.currentUser;if(!w)return;const E=ht(o,"PendingEvent"),v=tn(E,Sn("createdBy","==",w.email)),A=(await Ot(v)).docs.map(R=>({id:R.id,...R.data()}));e(A)}catch(w){console.error("Error fetching events:",w)}},c=w=>w?w.toDate?w.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(w).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",f=w=>{i(`/dashboard/edit-event/${w}`)},h=async w=>{if(window.confirm("Are you sure you want to delete this event?"))try{await W7(Fo(o,"PendingEvent",w)),l(),r(null)}catch(E){console.error("Error deleting event:",E)}},p=async w=>{try{await Za(Fo(o,"PendingEvent",w.id),{status:"in-progress"}),l(),r(null)}catch(E){console.error("Error updating event status:",E)}},y=async w=>{try{await Za(Fo(o,"PendingEvent",w.id),{status:"completed"}),l(),r(null)}catch(E){console.error("Error completing event:",E)}};return S.jsxs("div",{className:qt.event_list_container,children:[S.jsx("h2",{children:"Event List"}),S.jsx("div",{className:qt.events_grid,children:t.map(w=>S.jsx("div",{className:qt.event_card,onClick:()=>r(w),children:S.jsxs("div",{className:qt.card_content,children:[S.jsx("div",{className:qt.card_image_container,children:w.imageUrl?S.jsx("img",{src:w.imageUrl,alt:w.eventName,className:qt.card_image}):S.jsxs("div",{className:qt.card_image_placeholder,children:[S.jsx(LP,{size:32}),S.jsx("span",{children:"No Image"})]})}),S.jsxs("div",{className:qt.card_basic_info,children:[S.jsx("h3",{children:w.eventName}),S.jsxs("p",{children:["ID: ",w.id]}),S.jsxs("p",{children:["Created By: ",w.name]}),S.jsxs("p",{children:["Created: ",c(w.createdAt)]})]})]})},w.id))}),n&&S.jsx("div",{className:qt.modal_overlay,onClick:()=>r(null),children:S.jsxs("div",{className:qt.modal_content,onClick:w=>w.stopPropagation(),children:[S.jsx("button",{className:qt.close_button,onClick:()=>r(null),children:S.jsx(Xd,{size:24})}),S.jsx("div",{className:qt.modal_image_container,children:n.imageUrl?S.jsx("img",{src:n.imageUrl,alt:n.eventName,className:qt.modal_image}):S.jsxs("div",{className:qt.modal_image_placeholder,children:[S.jsx(LP,{size:48}),S.jsx("span",{children:"No Image Available"})]})}),S.jsx("h3",{children:n.eventName}),S.jsxs("div",{className:qt.event_info,children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Location:"})," ",n.locations]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Description:"})," ",n.description]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Start Time:"})," ",n.startTime]}),S.jsxs("p",{children:[S.jsx("strong",{children:"End Time:"})," ",n.endTime]})]}),S.jsxs("div",{className:qt.modal_actions,children:[S.jsx("button",{className:qt.continue_btn,onClick:()=>p(n),children:"Continue"}),S.jsx("button",{className:qt.complete_btn,onClick:()=>y(n),children:"Complete"}),S.jsx("button",{className:qt.complete_btn,onClick:()=>h(n.id),children:"Delete event"})]}),S.jsx("br",{}),S.jsx("div",{className:qt.table_container,children:S.jsxs("table",{children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"STUDENT ID"}),S.jsx("th",{children:"STUDENT NAME"}),S.jsx("th",{children:"COURSE"}),S.jsx("th",{children:"CAMPUS"}),S.jsx("th",{children:"DATE"}),S.jsx("th",{children:"ACTIONS"})]})}),S.jsx("tbody",{children:(_=n.attendees)==null?void 0:_.map((w,E)=>S.jsxs("tr",{children:[S.jsx("td",{children:w.studentId}),S.jsx("td",{children:w.name}),S.jsx("td",{children:w.course}),S.jsx("td",{children:w.campus}),S.jsx("td",{children:c(w.dateAttended)}),S.jsx("td",{children:S.jsx("div",{className:qt.action_buttons,children:S.jsx("button",{className:qt.edit_btn,onClick:()=>f(n.id),children:S.jsx(K6,{size:16})})})})]},E))})]})})]})})]})},qde="_fileManager_15li4_3",zde="_header_15li4_9",Wde="_actions_15li4_23",Hde="_navigation_15li4_28",Kde="_backButton_15li4_39",Gde="_currentPath_15li4_55",Yde="_content_15li4_61",Xde="_item_15li4_71",Qde="_itemContent_15li4_86",Jde="_actionButton_15li4_98",Zde="_dropdownMenu_15li4_115",ehe="_deleteButton_15li4_142",the="_modal_15li4_151",nhe="_modalContent_15li4_164",rhe="_modalHeader_15li4_176",ihe="_closeButton_15li4_190",ohe="_modalNavigation_15li4_203",ahe="_folderList_15li4_212",she="_folderItem_15li4_222",uhe="_folderContent_15li4_237",lhe="_modalActions_15li4_243",che="_cancelButton_15li4_252",fhe="_authContainer_15li4_261",dhe="_authMethods_15li4_270",hhe="_passwordAuth_15li4_277",phe="_passwordInput_15li4_282",mhe="_nfcAuth_15li4_290",ghe="_error_15li4_298",st={fileManager:qde,header:zde,actions:Wde,navigation:Hde,backButton:Kde,currentPath:Gde,content:Yde,item:Xde,itemContent:Qde,actionButton:Jde,dropdownMenu:Zde,deleteButton:ehe,modal:the,modalContent:nhe,modalHeader:rhe,closeButton:ihe,modalNavigation:ohe,folderList:ahe,folderItem:she,folderContent:uhe,modalActions:lhe,cancelButton:che,authContainer:fhe,authMethods:dhe,passwordAuth:hhe,passwordInput:phe,nfcAuth:mhe,error:ghe},IU=6048e5,yhe=864e5,XD=Symbol.for("constructDateFrom");function es(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&XD in t?t[XD](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ui(t,e){return es(e||t,t)}let vhe={};function Hy(){return vhe}function Wd(t,e){var l,c,f,h;const n=Hy(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,i=Ui(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function kg(t,e){return Wd(t,{...e,weekStartsOn:1})}function PU(t,e){const n=Ui(t,e==null?void 0:e.in),r=n.getFullYear(),i=es(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=kg(i),a=es(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=kg(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function QD(t){const e=Ui(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _he(t,...e){const n=es.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function JD(t,e){const n=Ui(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function whe(t,e,n){const[r,i]=_he(n==null?void 0:n.in,t,e),o=JD(r),a=JD(i),l=+o-QD(o),c=+a-QD(a);return Math.round((l-c)/yhe)}function bhe(t,e){const n=PU(t,e),r=es(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),kg(r)}function Ehe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function She(t){return!(!Ehe(t)&&typeof t!="number"||isNaN(+Ui(t)))}function xhe(t,e){const n=Ui(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const The={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ahe=(t,e,n)=>{let r;const i=The[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function U1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Ihe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Phe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Che={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ohe={date:U1({formats:Ihe,defaultWidth:"full"}),time:U1({formats:Phe,defaultWidth:"full"}),dateTime:U1({formats:Che,defaultWidth:"full"})},khe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rhe=(t,e,n,r)=>khe[t];function Pf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const Nhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$he={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fhe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Vhe={ordinalNumber:Fhe,era:Pf({values:Nhe,defaultWidth:"wide"}),quarter:Pf({values:Mhe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pf({values:Dhe,defaultWidth:"wide"}),day:Pf({values:jhe,defaultWidth:"wide"}),dayPeriod:Pf({values:Lhe,defaultWidth:"wide",formattingValues:$he,defaultFormattingWidth:"wide"})};function Cf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Bhe(l,p=>p.test(a)):Uhe(l,p=>p.test(a));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(a.length);return{value:f,rest:h}}}function Uhe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Bhe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function qhe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const zhe=/^(\d+)(th|st|nd|rd)?/i,Whe=/\d+/i,Hhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Khe={any:[/^b/i,/^(a|c)/i]},Ghe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yhe={any:[/1/i,/2/i,/3/i,/4/i]},Xhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},epe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},npe={ordinalNumber:qhe({matchPattern:zhe,parsePattern:Whe,valueCallback:t=>parseInt(t,10)}),era:Cf({matchPatterns:Hhe,defaultMatchWidth:"wide",parsePatterns:Khe,defaultParseWidth:"any"}),quarter:Cf({matchPatterns:Ghe,defaultMatchWidth:"wide",parsePatterns:Yhe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cf({matchPatterns:Xhe,defaultMatchWidth:"wide",parsePatterns:Qhe,defaultParseWidth:"any"}),day:Cf({matchPatterns:Jhe,defaultMatchWidth:"wide",parsePatterns:Zhe,defaultParseWidth:"any"}),dayPeriod:Cf({matchPatterns:epe,defaultMatchWidth:"any",parsePatterns:tpe,defaultParseWidth:"any"})},rpe={code:"en-US",formatDistance:Ahe,formatLong:Ohe,formatRelative:Rhe,localize:Vhe,match:npe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ipe(t,e){const n=Ui(t,e==null?void 0:e.in);return whe(n,xhe(n))+1}function ope(t,e){const n=Ui(t,e==null?void 0:e.in),r=+kg(n)-+bhe(n);return Math.round(r/IU)+1}function CU(t,e){var h,p,y,_;const n=Ui(t,e==null?void 0:e.in),r=n.getFullYear(),i=Hy(),o=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(y=i.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,a=es((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=Wd(a,e),c=es((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const f=Wd(c,e);return+n>=+l?r+1:+n>=+f?r:r-1}function ape(t,e){var l,c,f,h;const n=Hy(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=CU(t,e),o=es((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Wd(o,e)}function spe(t,e){const n=Ui(t,e==null?void 0:e.in),r=+Wd(n,e)-+ape(n,e);return Math.round(r/IU)+1}function vt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ka={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return vt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):vt(n+1,2)},d(t,e){return vt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return vt(t.getHours()%12||12,e.length)},H(t,e){return vt(t.getHours(),e.length)},m(t,e){return vt(t.getMinutes(),e.length)},s(t,e){return vt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return vt(i,e.length)}},dl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ka.y(t,e)},Y:function(t,e,n,r){const i=CU(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return vt(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):vt(o,e.length)},R:function(t,e){const n=PU(t);return vt(n,e.length)},u:function(t,e){const n=t.getFullYear();return vt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return vt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return vt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ka.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return vt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=spe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):vt(i,e.length)},I:function(t,e,n){const r=ope(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):vt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ka.d(t,e)},D:function(t,e,n){const r=ipe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):vt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return vt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return vt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return vt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=dl.noon:r===0?i=dl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=dl.evening:r>=12?i=dl.afternoon:r>=4?i=dl.morning:i=dl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ka.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ka.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):vt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):vt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ka.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ka.s(t,e)},S:function(t,e){return ka.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return tj(r);case"XXXX":case"XX":return Ws(r);case"XXXXX":case"XXX":default:return Ws(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return tj(r);case"xxxx":case"xx":return Ws(r);case"xxxxx":case"xxx":default:return Ws(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ej(r,":");case"OOOO":default:return"GMT"+Ws(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ej(r,":");case"zzzz":default:return"GMT"+Ws(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return vt(r,e.length)},T:function(t,e,n){return vt(+t,e.length)}};function ej(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+vt(o,2)}function tj(t,e){return t%60===0?(t>0?"-":"+")+vt(Math.abs(t)/60,2):Ws(t,e)}function Ws(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=vt(Math.trunc(r/60),2),o=vt(r%60,2);return n+i+e+o}const nj=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},OU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},upe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return nj(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",nj(r,e)).replace("{{time}}",OU(i,e))},lpe={p:OU,P:upe},cpe=/^D+$/,fpe=/^Y+$/,dpe=["D","DD","YY","YYYY"];function hpe(t){return cpe.test(t)}function ppe(t){return fpe.test(t)}function mpe(t,e,n){const r=gpe(t,e,n);if(console.warn(r),dpe.includes(t))throw new RangeError(r)}function gpe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ype=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_pe=/^'([^]*?)'?$/,wpe=/''/g,bpe=/[a-zA-Z]/;function rj(t,e,n){var h,p,y,_;const r=Hy(),i=r.locale??rpe,o=r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=r.weekStartsOn??((_=(y=r.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,l=Ui(t,n==null?void 0:n.in);if(!She(l))throw new RangeError("Invalid time value");let c=e.match(vpe).map(w=>{const E=w[0];if(E==="p"||E==="P"){const v=lpe[E];return v(w,i.formatLong)}return w}).join("").match(ype).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const E=w[0];if(E==="'")return{isToken:!1,value:Epe(w)};if(ZD[E])return{isToken:!0,value:w};if(E.match(bpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const f={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const E=w.value;(ppe(E)||hpe(E))&&mpe(E,e,String(t));const v=ZD[E[0]];return v(l,E,i.localize,f)}).join("")}function Epe(t){const e=t.match(_pe);return e?e[1].replace(wpe,"'"):t}const kU=({children:t,currentPath:e,userData:n})=>{const r=Fi(),i=fs(),[o,a]=U.useState([]),l=p=>p.replace(/[@.]/g,"_"),c=async()=>{if(!r.currentUser||o.length===0)return;const p=l(r.currentUser.email),y=rj(new Date,"yyyy-MM-dd"),_=`users/${p}/process_log/${y}_activity.txt`,w=wn(i,_);try{let E="";try{const A=await to(w);E=await(await fetch(A)).text()}catch{console.log("Creating new log file for today")}const v=o.join(`
`),I=E?`${E}
${v}`:v;await Rce(w,I,"raw",{contentType:"text/plain"}),console.log("Logs saved successfully"),a([])}catch(E){console.error("Error saving logs:",E)}},f=p=>{if(!r.currentUser)return;const y=`[${rj(new Date,"yyyy-MM-dd HH:mm:ss")}] ${p}`;a(_=>[..._,y])},h=p=>{if(p.type==="file"){const w=p.files;return w&&w.length>0?Array.from(w).map(E=>`${E.name} (${(E.size/1024).toFixed(2)} KB)`).join(", "):"File upload input"}const y=p.querySelector("span");if(y)return y.textContent.trim();const _=p.querySelector("span");if(_)return _.textContent.trim();if(p.tagName.toLowerCase()==="a")return p.getAttribute("to")||p.getAttribute("href")||"Link";if(p.tagName.toLowerCase()==="input"){const w=p.getAttribute("placeholder");if(w)return`Input: ${w}`;const E=p.getAttribute("name");if(E)return`Input: ${E}`;const v=document.querySelector(`label[for="${p.id}"]`);if(v)return`Input: ${v.textContent.trim()}`}if(p.tagName.toLowerCase()==="select"){const w=p.getAttribute("name");if(w)return`Select: ${w}`}return p.className||p.tagName.toLowerCase()};return U.useEffect(()=>{const p=setInterval(c,6e4);return()=>{clearInterval(p),c()}},[o]),U.useEffect(()=>{const p=w=>{var I;const E=w.target,v=E.closest(".styles_navItem__");if(v){const A=h(v);let R="Sidebar Navigation";A.includes("Dashboard")?R="Dashboard Navigation":A.includes("Create Event")?R="Event Creation":A.includes("Event List")?R="Event Listing":A.includes("Registered Students")?R="Student Management":A.includes("Registered Teacher")?R="Teacher Management":A.includes("Teacher Registration")?R="Teacher Registration":A.includes("Student Registration")?R="Student Registration":A.includes("NFC Reader")?R="NFC Management":A.includes("File Manager")?R="File Management":A.includes("Logout")&&(R="Authentication");const j=`${R}: Clicked "${A}"`;f(j)}if(["button","div","li","a"].includes(E.tagName.toLowerCase())){(I=E.textContent)==null||I.trim().toLowerCase();const A=h(E),R=`Clicked on ${E.tagName.toLowerCase()}: ${A}`;f(R)}},y=w=>{const E=w.target;if(["input","textarea","select"].includes(E.tagName.toLowerCase())){const I=`Input value in ${h(E)} - Final Value: ${E.value}`;f(I)}},_=w=>{const E=w.target,v=E.getAttribute("name"),I=E.getAttribute("id"),A=`Form submitted${v?` - Form Name: "${v}"`:I?` - Form ID: "${I}"`:""}`;f(A),c()};return document.addEventListener("click",p),document.addEventListener("blur",y,!0),document.addEventListener("submit",_),()=>{document.removeEventListener("click",p),document.removeEventListener("blur",y,!0),document.removeEventListener("submit",_)}},[r.currentUser]),U.useEffect(()=>{const p=I=>{const A=I.target.files[0];if(!A)return;const R=`${e}/${A.name}`,j=`File Upload: "${A.name}" (${(A.size/1024).toFixed(2)} KB) to "${R}"`;f(j)},y=I=>{const A=`${e}/${I}`,R=`Created Folder: "${I}" at "${A}"`;f(R)},_=(I,A)=>{const R=`${e}/${I.name}`,j=`Moved ${I.type}: "${I.name}" from "${R}" to "${A}"`;f(j)},w=(I,A)=>{const R=`${e}/${I.name}`,j=`Copied ${I.type}: "${I.name}" from "${R}" to "${A}"`;f(j)},E=I=>{const A=`${e}/${I.name}`,R=`Deleted ${I.type}: "${I.name}" from "${A}"`;f(R)},v=(I,A)=>{`${e}${I.name}`;const R=`Renamed ${I.type}: from "${I.name}" to "${A}" at path "${e}"`;f(R)};return window.userActionLogger={onFileUpload:p,onCreateFolder:y,onMove:_,onCopy:w,onDelete:E,onRename:v},()=>{delete window.userActionLogger}},[e,n]),S.jsx(S.Fragment,{children:t})},Spe=({isOpen:t,onClose:e,onMove:n,onCopy:r,onDelete:i,onRename:o})=>{const a=U.useRef(null);return U.useEffect(()=>{const l=c=>{a.current&&!a.current.contains(c.target)&&e()};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[e]),t?S.jsxs("div",{className:st.dropdownMenu,ref:a,children:[S.jsx("button",{onClick:n,children:"Move"}),S.jsx("button",{onClick:r,children:"Copy"}),S.jsx("button",{onClick:o,children:"Rename"}),S.jsx("button",{onClick:i,className:st.deleteButton,children:"Delete"})]}):null},xpe=({isOpen:t,onClose:e,currentPath:n,userData:r,selectedItem:i,operation:o,onSelect:a})=>{const[l,c]=U.useState([]),[f,h]=U.useState(""),p=fs(),[y,_]=U.useState(null);U.useEffect(()=>{if(t){const I=`users/${r.email.replace("@","_").replace(".","_")}`;h(I),w(I)}},[t,r]);const w=async I=>{try{const A=wn(p,I),j=(await Pl(A)).prefixes.map(O=>({name:O.name,fullPath:`${I}/${O.name}`}));c(j)}catch(A){console.error("Error listing folders:",A)}},E=I=>{y&&_(y),h(I),w(I)},v=()=>{const I=`users/${r.email.replace("@","_").replace(".","_")}`,A=f.split("/").slice(0,-1).join("/");A.startsWith(I)&&(h(A),w(A))};return t?S.jsx("div",{className:st.modal,children:S.jsxs("div",{className:st.modalContent,children:[S.jsxs("div",{className:st.modalHeader,children:[S.jsx("h3",{children:"Select Destination Folder"}),S.jsx("button",{onClick:e,className:st.closeButton,children:S.jsx(Xd,{size:20})})]}),S.jsxs("div",{className:st.modalNavigation,children:[S.jsxs("button",{onClick:v,className:st.backButton,children:[S.jsx(Nj,{size:20}),"Back"]}),S.jsx("span",{className:st.currentPath,children:f})]}),S.jsx("div",{className:st.folderList,children:l.map(I=>S.jsx("div",{className:st.folderItem,children:S.jsxs("div",{className:st.folderContent,onClick:()=>E(I.fullPath),children:[S.jsx(Dj,{size:24}),S.jsx("span",{children:I.name})]})},I.fullPath))}),S.jsxs("div",{className:st.modalActions,children:[S.jsx("button",{onClick:()=>{a(f)},className:rn.buttons,children:"Select This Folder"}),S.jsx("button",{onClick:e,className:`${rn.buttons} ${st.cancelButton}`,children:"Cancel"})]})]})}):null},Tpe=()=>{var De;const[t,e]=U.useState(!1),[n,r]=U.useState(""),[i,o]=U.useState(""),[a,l]=U.useState(""),[c,f]=U.useState([]),[h,p]=U.useState([]),[y,_]=U.useState(!1),w=$i();ts();const E=fs(),[v,I]=U.useState(null),[A,R]=U.useState({x:0,y:0}),j=(De=w.state)==null?void 0:De.userData,[O,D]=U.useState(!1),[P,k]=U.useState(null),[M,F]=U.useState(null);U.useEffect(()=>{"NDEFReader"in window&&_(!0)},[]),U.useEffect(()=>{if(t&&j){const ce=`users/${j.email.replace("@","_").replace(".","_")}`;l(ce),C(ce)}},[t,j]);const L=()=>{n===(j==null?void 0:j.upass)?(e(!0),o("")):o("Invalid password")},V=async()=>{try{const ce=new NDEFReader;await ce.scan(),ce.addEventListener("reading",({serialNumber:oe})=>{oe===(j==null?void 0:j.nfcSerialNumber)?(e(!0),o("")):o("Invalid NFC card")})}catch(ce){o("Error reading NFC: "+ce.message)}},C=async ce=>{try{const oe=wn(E,ce),ye=await Pl(oe),Ie=ye.items.map(async je=>{const mt=await to(je);return{name:je.name,url:mt,type:"file"}}),he=ye.prefixes.filter(je=>je.name!=="process_log"&&je.name!=="event_images"&&je.name!=="profile").map(je=>({name:je.name,type:"folder"})),We=await Promise.all(Ie);f(We),p(he)}catch(oe){console.error("Error listing files:",oe)}},W=async ce=>{const oe=ce.target.files[0];if(oe)try{const ye=wn(E,`${a}/${oe.name}`);await $a(ye,oe),window.userActionLogger&&window.userActionLogger.onFileUpload(ce),await C(a)}catch(ye){console.error("Error uploading file:",ye)}},K=async()=>{const ce=prompt("Enter folder name:");if(!ce)return;const oe=wn(E,`${a}/${ce}/.placeholder`),ye=new Blob([""],{type:"text/plain"});await $a(oe,ye),window.userActionLogger&&window.userActionLogger.onCreateFolder(ce),await C(a)},Z=ce=>{const oe=`${a}/${ce}`;l(oe),C(oe)},re=()=>{const ce=a.split("/").slice(0,-1).join("/");ce.startsWith(`users/${j.email.replace("@","_").replace(".","_")}`)&&(l(ce),C(ce))};if(!t)return S.jsxs("div",{className:st.authContainer,children:[S.jsx("h2",{children:"Authentication Required"}),S.jsxs("div",{className:st.authMethods,children:[S.jsxs("div",{className:st.passwordAuth,children:[S.jsx("input",{type:"password",value:n,onChange:ce=>r(ce.target.value),placeholder:"Enter password",className:st.passwordInput}),S.jsx("button",{onClick:L,className:rn.buttons,children:"Submit"})]}),y&&S.jsx("div",{className:st.nfcAuth,children:S.jsx("button",{onClick:V,className:rn.buttons,children:"Authenticate with NFC"})})]}),i&&S.jsx("p",{className:st.error,children:i})]});const Q=(ce,oe)=>{ce.preventDefault(),ce.stopPropagation();const ye=ce.currentTarget.getBoundingClientRect();R({x:ye.left,y:ye.bottom}),I(oe),F(oe)},X=async()=>{if(!M){alert("Please select an item to move"),console.log(M);return}k("move"),D(!0)},J=async()=>{if(!M){alert("Please select an item to copy"),console.log(M);return}k("copy"),D(!0)},z=async()=>{if(v)try{const ce=`${a}/${v.name}`,oe=wn(E,ce);v.type==="file"?await If(oe):await Y(ce),window.userActionLogger&&window.userActionLogger.onDelete(v),await C(a)}catch(ce){console.error("Error deleting item:",ce),alert(`Failed to delete ${v.name}. ${ce.message}`)}},Y=async ce=>{try{const oe=wn(E,ce),ye=await Pl(oe);for(const Ie of ye.items)await If(Ie);for(const Ie of ye.prefixes)await Y(`${ce}/${Ie.name}`)}catch(oe){throw console.error("Error deleting folder:",oe),oe}},le=async()=>{if(!v)return;const ce=prompt("Enter new name:",v.name);if(!(!ce||ce===v.name))try{const oe=wn(E,`${a}/${v.name}`),ye=wn(E,`${a}/${ce}`);if(v.type==="file"){const Ie=await to(oe),We=await(await fetch(Ie)).blob();await $a(ye,We),await If(oe)}window.userActionLogger&&window.userActionLogger.onRename(v,ce),await C(a)}catch(oe){console.error("Error renaming item:",oe)}},be=async ce=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:M,currentPath:a,destinationPath:ce,operation:P}),!M){console.error("No item selected"),alert("Please select an item to move or copy"),D(!1);return}try{const oe=wn(E,`${a}/${M.name}`),ye=wn(E,`${ce}/${M.name}`);if(M.type==="file"){const Ie=await to(oe),We=await(await fetch(Ie)).blob();await $a(ye,We),P==="move"&&await If(oe)}else await xe(`${a}/${M.name}`,`${ce}/${M.name}`,P==="move");window.userActionLogger&&(P==="move"?window.userActionLogger.onMove(M,ce):P==="copy"&&window.userActionLogger.onCopy(M,ce)),D(!1),k(null),await C(a)}catch(oe){console.error(`Error ${P}ing item:`,oe),alert(`Failed to ${P} item: ${oe.message}`),D(!1),k(null)}},xe=async(ce,oe,ye=!1)=>{try{const Ie=wn(E,ce),he=await Pl(Ie);for(const We of he.items){const je=await to(We),wt=await(await fetch(je)).blob(),Ut=wn(E,`${oe}/${We.name}`);await $a(Ut,wt),ye&&await If(We)}for(const We of he.prefixes)await xe(`${ce}/${We.name}`,`${oe}/${We.name}`,ye)}catch(Ie){throw console.error("Error copying folder:",Ie),Ie}},Ne=(ce,oe)=>S.jsxs("div",{className:st.item,onClick:ye=>{ye.target.closest(`.${st.actionButton}`)||ye.target.closest(`.${st.dropdownMenu}`)||(oe==="folder"?Z(ce.name):window.open(ce.url,"_blank"))},children:[S.jsxs("div",{className:st.itemContent,children:[oe==="folder"?S.jsx(Dj,{size:24}):S.jsx(F6,{size:24}),S.jsx("span",{children:ce.name})]}),S.jsx("button",{className:st.actionButton,onClick:ye=>{ye.stopPropagation();const Ie={...ce,type:oe};Q(ye,Ie)},children:S.jsx(L6,{size:16})}),(v==null?void 0:v.name)===ce.name&&S.jsx(Spe,{isOpen:!0,onClose:()=>{I(null)},onMove:X,onCopy:J,onDelete:z,onRename:le})]},`${oe}-${ce.name}`);return S.jsx(kU,{currentPath:a,userData:j,children:S.jsxs("div",{className:st.fileManager,children:[S.jsxs("div",{className:st.header,children:[S.jsx("h2",{children:"File Manager"}),S.jsxs("div",{className:st.actions,children:[a===`users/${j.email.replace("@","_").replace(".","_")}`&&S.jsxs("button",{onClick:K,className:rn.buttons,children:[S.jsx(V6,{size:20}),"New Folder"]}),S.jsxs("label",{className:rn.buttons,children:[S.jsx(X6,{size:20}),"Upload File",S.jsx("input",{type:"file",onChange:W,style:{display:"none"}})]})]})]}),S.jsxs("div",{className:st.navigation,children:[S.jsxs("button",{onClick:re,className:st.backButton,children:[S.jsx(Nj,{size:20}),"Back"]}),S.jsx("span",{className:st.currentPath,children:a})]}),S.jsxs("div",{className:st.content,children:[h.map(ce=>Ne(ce,"folder")),c.map(ce=>Ne(ce,"file"))]}),S.jsx(xpe,{isOpen:O,onClose:()=>{D(!1),k(null)},currentPath:a,userData:j,selectedItem:M,operation:P,onSelect:be})]})})},Ape="_container_89eko_2",Ipe="_form_89eko_9",Ppe="_nfcButton_89eko_24",Cpe="_scanButton_89eko_24",Ope="_scannerContainer_89eko_33",kpe="_scanner_89eko_33",Rpe="_modalOverlay_89eko_48",Npe="_modalContent_89eko_62",Mpe="_status_89eko_74",Dpe="_statusWarning_89eko_83",jpe="_statusInfo_89eko_90",Lpe="_statusSuccess_89eko_97",$pe="_statusError_89eko_104",Fpe="_pulse_89eko_1",Vpe="_reader_89eko_147",Upe="_uploadOptionContainer_89eko_152",Bpe="_clearImageButton_89eko_159",pr={container:Ape,form:Ipe,nfcButton:Ppe,scanButton:Cpe,scannerContainer:Ope,scanner:kpe,modalOverlay:Rpe,modalContent:Npe,status:Mpe,statusWarning:Dpe,statusInfo:jpe,statusSuccess:Lpe,statusError:$pe,"animate-pulse":"_animate-pulse_89eko_123",pulse:Fpe,reader:Vpe,uploadOptionContainer:Upe,clearImageButton:Bpe},ij=$r(si),qpe=fs(si),zpe=Fi(si),Wpe=({message:t,type:e,isProcessing:n})=>{const[r,i]=U.useState(!0);if(U.useEffect(()=>{if(t){i(!0);const a=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(a)}},[t]),!t||!r)return null;const o=()=>{switch(e){case"warning":return pr.statusWarning;case"error":return pr.statusError;case"success":return pr.statusSuccess;default:return pr.statusInfo}};return S.jsx("div",{className:`${pr.modalOverlay} ${r?pr.fadeIn:pr.fadeOut}`,children:S.jsx("div",{className:pr.modalContent,children:S.jsx("div",{className:`${pr.status} ${o()} ${n?pr["animate-pulse"]:""}`,children:t})})})},Hpe=()=>{const[t,e]=U.useState({name:"",email:"",campus:"",teacherId:"",upass:""}),[n,r]=U.useState(null),[i,o]=U.useState("capture"),[a,l]=U.useState(!1),[c,f]=U.useState(""),[h,p]=U.useState(null),[y,_]=U.useState("info"),[w,E]=U.useState(null),v=U.useRef(null),I=U.useRef(null),A=(C,W="info")=>{f(C),_(W)};U.useEffect(()=>()=>{h&&h.abort()},[h]);const R=C=>{const W=C.target.files[0];r(W)},j=C=>{o(C),r(null),v.current&&(v.current.value=""),I.current&&(I.current.value="")},O=async()=>{try{const C=await bL(zpe,t.email,t.upass);return await EL(C.user),C.user}catch(C){switch(C.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw C}}},D=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{f("Waiting for NFC tag...");const C=new NDEFReader;p(C),await C.scan();const W=await new Promise((K,Z)=>{const re=async Q=>{try{const X=Q.serialNumber;if(!await F(X)){Z(new Error("Unauthorized NFC tag"));return}C.removeEventListener("reading",re),K(X)}catch(X){Z(X)}};C.addEventListener("reading",re),setTimeout(()=>{C.removeEventListener("reading",re),Z(new Error("NFC tag read timeout"))},3e4)});return E(W),A("NFC tag detected successfully","success"),W}catch(C){throw A(C.message,"error"),C}finally{h&&(h.abort(),p(null))}},P=async()=>{const C=Fi(),W=ts();try{await td(C),console.log("User signed out successfully"),setTimeout(()=>{W("/login")},2e3)}catch(K){console.error("Error signing out:",K)}},k=async()=>{if(!n)return null;try{A("Uploading selfie...","info");const C=t.email.replace(/[@.]/g,"_"),W=wn(qpe,`users/${C}/profile/${n.name}`),K=await $a(W,n),Z=await to(K.ref);return A("Selfie uploaded successfully!","success"),Z}catch(C){throw A("Failed to upload selfie: "+C.message,"error"),C}},M=async()=>{try{l(!0);const C=await k();A("Saving your registration details...","info");const K={...t,nfcSerialNumber:w,selfieUrl:C,position:"Teacher",createdAt:Xx()},Z=await cy(ht(ij,"RegisteredTeacher"),K);await Za(Z,{currentnfcId:Z.id}),A("Registration details saved successfully!","success"),A("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(Z.id)}]}),A("NFC tag written successfully!","success"),A("Creating your account...","info");const Q=await O();return await Za(Z,{firebaseUserId:Q.uid}),A("Registration completed! Please check your email for verification.","success"),await P(),setTimeout(()=>{A(""),L()},5e3),Z.id}catch(C){console.error("Registration Error:",C);let W="Registration failed: ";throw C.code==="auth/email-already-in-use"?W="This email is already registered. Please use a different email.":C.code==="not-found"?W="NFC tag not found. Please try again.":C.code==="network-error"?W="Network connection issue. Please check your internet connection.":W+=C.message,A(W,"error"),C}finally{l(!1)}},F=async C=>{try{const W=Fo(ij,"Toregistered",C);return(await ly(W)).exists()}catch(W){return console.error("NFC Authorization Check Error:",W),!1}},L=()=>{e({name:"",email:"",campus:"",teacherId:"",upass:""}),r(null),f(""),E(null),v.current&&(v.current.value="")},V=async C=>{if(C.preventDefault(),!("NDEFReader"in window)){A("NFC is not supported on this device","warning");return}try{if(A("Waiting for NFC tag... Please place your card","info"),await D(),A("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){E(null),A("");return}await M()}catch(W){console.error("Registration Error:",W),A("Registration process failed: "+W.message,"error")}};return S.jsxs("div",{className:pr.container,children:[S.jsx("h1",{children:"Teacher Registration"}),(!("NDEFReader"in window)||c)&&S.jsx(Wpe,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?y:"warning",isProcessing:a}),S.jsxs("form",{onSubmit:V,className:pr.form,children:[S.jsx("input",{type:"text",placeholder:"Teacher Name",value:t.name,onChange:C=>e({...t,name:C.target.value}),required:!0,disabled:a}),S.jsx("input",{type:"email",placeholder:"Email",value:t.email,onChange:C=>e({...t,email:C.target.value}),required:!0,disabled:a}),S.jsx("input",{type:"text",placeholder:"Teacher ID",value:t.teacherId,onChange:C=>e({...t,teacherId:C.target.value}),required:!0,disabled:a}),S.jsx("input",{type:"text",placeholder:"Password",value:t.upass,onChange:C=>e({...t,upass:C.target.value}),required:!0,disabled:a}),S.jsxs("select",{value:t.campus,onChange:C=>e({...t,campus:C.target.value}),required:!0,disabled:a,children:[S.jsx("option",{value:"",children:"Select Campus"}),S.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),S.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),S.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),S.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),S.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),S.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),S.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),S.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),S.jsxs("div",{className:pr.uploadOptionContainer,children:[S.jsxs("label",{children:[S.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:i==="capture",onChange:()=>j("capture"),disabled:a}),"Capture Selfie"]}),S.jsxs("label",{children:[S.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:i==="upload",onChange:()=>j("upload"),disabled:a}),"Upload Existing Image"]})]}),i==="capture"?S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"file",ref:v,onChange:R,accept:"image/*",capture:"user",style:{display:"none"},disabled:a}),S.jsx("button",{type:"button",onClick:()=>v.current.click(),className:rn.buttons,disabled:a,children:"Take Profile Picture"})]}):S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"file",ref:I,onChange:R,accept:"image/*",style:{display:"none"},disabled:a}),S.jsx("button",{type:"button",onClick:()=>I.current.click(),className:rn.buttons,disabled:a,children:"Upload Existing Image"})]}),n&&S.jsxs("p",{children:["Selected Image: ",n.name,S.jsx("button",{type:"button",onClick:()=>r(null),className:pr.clearImageButton,disabled:a,children:"Clear"})]}),S.jsx("button",{type:"submit",className:`${rn.buttons} ${a?"animate-pulse":""}`,disabled:!t.teacherId||!n||a||!("NDEFReader"in window),children:w?"Complete Registration":"Scan NFC Tag"})]})]})},Kpe="_registeredUsersContainer_1o4bm_1",Gpe="_header_1o4bm_5",Ype="_tableContainer_1o4bm_18",Xpe="_usersTable_1o4bm_22",Qpe="_actionButtons_1o4bm_45",Jpe="_viewLogsButton_1o4bm_60",Zpe="_editButton_1o4bm_68",eme="_deleteButton_1o4bm_76",tme="_loadingContainer_1o4bm_84",nme="_errorContainer_1o4bm_85",rme="_noUsersContainer_1o4bm_86",ime="_modalOverlay_1o4bm_92",ome="_modalContent_1o4bm_105",ame="_logViewerContainer_1o4bm_115",sme="_logViewerHeader_1o4bm_121",ume="_closeButton_1o4bm_134",lme="_logsList_1o4bm_146",cme="_logEntry_1o4bm_152",fme="_logContent_1o4bm_166",dme="_logLoading_1o4bm_177",hme="_logError_1o4bm_178",pme="_noLogsMessage_1o4bm_179",mme="_status_1o4bm_185",gme="_slideUp_1o4bm_1",yme="_status_command_1o4bm_201",vme="_status_detail_1o4bm_206",_me="_fadeIn_1o4bm_227",wme="_fadeOut_1o4bm_232",$t={registeredUsersContainer:Kpe,header:Gpe,tableContainer:Ype,usersTable:Xpe,actionButtons:Qpe,viewLogsButton:Jpe,editButton:Zpe,deleteButton:eme,loadingContainer:tme,errorContainer:nme,noUsersContainer:rme,modalOverlay:ime,modalContent:ome,logViewerContainer:ame,logViewerHeader:sme,closeButton:ume,logsList:lme,logEntry:cme,logContent:fme,logLoading:dme,logError:hme,noLogsMessage:pme,status:mme,slideUp:gme,status_command:yme,status_detail:vme,fadeIn:_me,fadeOut:wme},bme=({email:t,onClose:e})=>{const[n,r]=U.useState([]),[i,o]=U.useState(!0),[a,l]=U.useState(null);Fi();const c=fs(),f=h=>h.replace(/[@.]/g,"_");return U.useEffect(()=>{(async()=>{try{o(!0);const p=f(t),y=wn(c,`users/${p}/process_log`),w=(await Pl(y)).items.map(async I=>{const A=await to(I),j=await(await fetch(A)).text(),O=I.name.split("/").pop();return{timestamp:O.replace(".txt",""),content:j,filename:O}}),v=(await Promise.all(w)).sort((I,A)=>A.timestamp.localeCompare(I.timestamp));r(v),l(null)}catch(p){console.error("Error fetching logs:",p),l("Failed to fetch logs. Please try again later.")}finally{o(!1)}})()},[t]),i?S.jsx("div",{className:$t.logLoading,children:"Loading logs..."}):a?S.jsx("div",{className:$t.logError,children:a}):S.jsxs("div",{className:$t.logViewerContainer,children:[S.jsxs("div",{className:$t.logViewerHeader,children:[S.jsxs("h2",{children:["User Activity Logs for ",t]}),S.jsx("button",{onClick:e,className:$t.closeButton,children:S.jsx(Xd,{size:24})})]}),n.length===0?S.jsx("p",{className:$t.noLogsMessage,children:"No logs found"}):S.jsx("div",{className:$t.logsList,children:n.map((h,p)=>S.jsxs("div",{className:$t.logEntry,children:[S.jsxs("h3",{children:["Log from ",h.timestamp]}),S.jsx("pre",{className:$t.logContent,children:h.content})]},p))})]})},Eme=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[i,o]=U.useState(null),[a,l]=U.useState(null),[c,f]=U.useState(!1);U.useEffect(()=>{(async()=>{try{const E=$r(),I=(await Ot(ht(E,"RegisteredTeacher"))).docs.map(A=>({id:A.id,...A.data()}));e(I),r(!1)}catch(E){console.error("Error fetching registered teachers:",E),o("Failed to load teachers"),r(!1)}})()},[]);const h=w=>{l(w),f(!0)},p=w=>{console.log("Edit teacher:",w)},y=w=>{console.log("Delete teacher:",w)},_=()=>{f(!1),l(null)};return n?S.jsx("div",{className:$t.loadingContainer,children:"Loading teachers..."}):i?S.jsx("div",{className:$t.errorContainer,children:i}):S.jsxs("div",{className:$t.registeredUsersContainer,children:[S.jsxs("div",{className:$t.header,children:[S.jsx(Na,{size:24}),S.jsx("h2",{children:"Registered Teachers"})]}),S.jsx("div",{className:$t.tableContainer,children:S.jsxs("table",{className:$t.usersTable,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Teacher ID"}),S.jsx("th",{children:"Name"}),S.jsx("th",{children:"Email"}),S.jsx("th",{children:"NFC CARD"}),S.jsx("th",{children:"Campus"}),S.jsx("th",{children:"Date Added"}),S.jsx("th",{children:"Actions"})]})}),S.jsx("tbody",{children:t.map(w=>S.jsxs("tr",{className:$t.teacherRow,children:[S.jsx("td",{"data-label":"Teacher ID",children:w.teacherId}),S.jsx("td",{"data-label":"Name",children:w.name}),S.jsx("td",{"data-label":"Email",children:w.email}),S.jsx("td",{"data-label":"NFC CARD",children:w.currentnfcId}),S.jsx("td",{"data-label":"Campus",children:w.campus}),S.jsx("td",{"data-label":"Date Added",children:new Date(w.createdAt*1e3).toLocaleString()}),S.jsx("td",{"data-label":"Actions",children:S.jsxs("div",{className:$t.actionButtons,children:[S.jsx("button",{onClick:()=>h(w),className:$t.viewLogsButton,title:"View Logs",children:S.jsx(Mj,{size:18})}),S.jsx("button",{onClick:()=>p(w),className:$t.editButton,title:"Edit",children:S.jsx(Lj,{size:18})}),S.jsx("button",{onClick:()=>y(w),className:$t.deleteButton,title:"Delete",children:S.jsx($j,{size:18})})]})})]},w.id))})]})}),t.length===0&&S.jsx("div",{className:$t.noUsersContainer,children:"No registered teachers found."}),c&&a&&S.jsx("div",{className:$t.modalOverlay,children:S.jsx("div",{className:$t.modalContent,children:S.jsx(bme,{email:a.email,onClose:_})})})]})},Sme="_registeredUsersContainer_omo5a_1",xme="_header_omo5a_5",Tme="_tableContainer_omo5a_18",Ame="_usersTable_omo5a_22",Ime="_actionButtons_omo5a_45",Pme="_viewLogsButton_omo5a_60",Cme="_editButton_omo5a_68",Ome="_deleteButton_omo5a_76",kme="_loadingContainer_omo5a_84",Rme="_errorContainer_omo5a_85",Nme="_noUsersContainer_omo5a_86",Mme="_modalOverlay_omo5a_92",Dme="_modalContent_omo5a_105",jme="_logViewerContainer_omo5a_115",Lme="_logViewerHeader_omo5a_121",$me="_closeButton_omo5a_134",Fme="_logsList_omo5a_146",Vme="_logEntry_omo5a_152",Ume="_logContent_omo5a_166",Bme="_logLoading_omo5a_177",qme="_logError_omo5a_178",zme="_noLogsMessage_omo5a_179",Wme="_status_omo5a_185",Hme="_slideUp_omo5a_1",Kme="_status_command_omo5a_201",Gme="_status_detail_omo5a_206",Ft={registeredUsersContainer:Sme,header:xme,tableContainer:Tme,usersTable:Ame,actionButtons:Ime,viewLogsButton:Pme,editButton:Cme,deleteButton:Ome,loadingContainer:kme,errorContainer:Rme,noUsersContainer:Nme,modalOverlay:Mme,modalContent:Dme,logViewerContainer:jme,logViewerHeader:Lme,closeButton:$me,logsList:Fme,logEntry:Vme,logContent:Ume,logLoading:Bme,logError:qme,noLogsMessage:zme,status:Wme,slideUp:Hme,status_command:Kme,status_detail:Gme},Yme=({email:t,onClose:e})=>{const[n,r]=U.useState([]),[i,o]=U.useState(!0),[a,l]=U.useState(null);Fi();const c=fs(),f=h=>h.replace(/[@.]/g,"_");return U.useEffect(()=>{(async()=>{try{o(!0);const p=f(t),y=wn(c,`users/${p}/process_log`),w=(await Pl(y)).items.map(async I=>{const A=await to(I),j=await(await fetch(A)).text(),O=I.name.split("/").pop();return{timestamp:O.replace(".txt",""),content:j,filename:O}}),v=(await Promise.all(w)).sort((I,A)=>A.timestamp.localeCompare(I.timestamp));r(v),l(null)}catch(p){console.error("Error fetching logs:",p),l("Failed to fetch logs. Please try again later.")}finally{o(!1)}})()},[t]),i?S.jsx("div",{className:Ft.loadingContainer,children:"Loading teachers..."}):a?S.jsx("div",{className:Ft.errorContainer,children:a}):S.jsxs("div",{className:Ft.logViewerContainer,children:[S.jsxs("div",{className:Ft.logViewerHeader,children:[S.jsxs("h2",{children:["User Activity Logs for ",t]}),S.jsx("button",{onClick:e,className:Ft.closeButton,children:S.jsx(Xd,{size:24})})]}),n.length===0?S.jsx("p",{className:Ft.noLogsMessage,children:"No logs found"}):S.jsx("div",{className:Ft.logsList,children:n.map((h,p)=>S.jsxs("div",{className:Ft.logEntry,children:[S.jsxs("h3",{children:["Log from ",h.timestamp]}),S.jsx("pre",{className:Ft.logContent,children:h.content})]},p))})]})},Xme=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[i,o]=U.useState(null),[a,l]=U.useState(null),[c,f]=U.useState(!1);U.useEffect(()=>{(async()=>{try{const E=$r(),I=(await Ot(ht(E,"RegisteredStudent"))).docs.map(A=>({id:A.id,...A.data()}));setTimeout(()=>e(I),1e3),r(!1)}catch(E){console.error("Error fetching registered teachers:",E),o("Failed to load teachers"),r(!1)}})()},[]);const h=w=>{l(w),f(!0)},p=w=>{console.log("Edit student:",w)},y=w=>{console.log("Delete teacher:",w)},_=()=>{f(!1),l(null)};return n?S.jsx("div",{className:Ft.loadingContainer,children:"Loading teachers..."}):i?S.jsx("div",{className:Ft.errorContainer,children:i}):S.jsxs("div",{className:Ft.registeredUsersContainer,children:[S.jsxs("div",{className:Ft.header,children:[S.jsx(Na,{size:24}),S.jsx("h2",{children:"Registered Student"})]}),S.jsx("div",{className:Ft.tableContainer,children:S.jsxs("table",{className:Ft.usersTable,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Student ID"}),S.jsx("th",{children:"Name"}),S.jsx("th",{children:"Email"}),S.jsx("th",{children:"NFC CARD"}),S.jsx("th",{children:"Campus"}),S.jsx("th",{children:"Date Added"}),S.jsx("th",{children:"Actions"})]})}),S.jsx("tbody",{children:t.map(w=>S.jsxs("tr",{className:Ft.studentRow,children:[S.jsx("td",{"data-label":"Student ID",children:w.studentId}),S.jsx("td",{"data-label":"Name",children:w.name}),S.jsx("td",{"data-label":"Email",children:w.email}),S.jsx("td",{"data-label":"NFC CARD",children:w.currentnfcId}),S.jsx("td",{"data-label":"Campus",children:w.campus}),S.jsx("td",{"data-label":"Date Added",children:new Date(w.createdAt*1e3).toLocaleString()}),S.jsx("td",{"data-label":"Actions",children:S.jsxs("div",{className:Ft.actionButtons,children:[S.jsx("button",{onClick:()=>h(w),className:Ft.viewLogsButton,title:"View Logs",children:S.jsx(Mj,{size:18})}),S.jsx("button",{onClick:()=>p(w),className:Ft.editButton,title:"Edit",children:S.jsx(Lj,{size:18})}),S.jsx("button",{onClick:()=>y(w),className:Ft.deleteButton,title:"Delete",children:S.jsx($j,{size:18})})]})})]},w.id))})]})}),t.length===0&&S.jsx("div",{className:Ft.noUsersContainer,children:"No registered students found."}),c&&a&&S.jsx("div",{className:Ft.modalOverlay,children:S.jsx("div",{className:Ft.modalContent,children:S.jsx(Yme,{email:a.email,onClose:_})})})]})},Qme="_formOverlay_hwm5n_2",Jme="_visible_hwm5n_2",Zme="_composeWrapper_hwm5n_6",ege="_minimized_hwm5n_20",tge="_composeHeader_hwm5n_24",nge="_headerTitle_hwm5n_33",rge="_closeButton_hwm5n_39",ige="_closeIcon_hwm5n_51",oge="_mainContent_hwm5n_57",age="_sidebar_hwm5n_63",sge="_sidebarMenu_hwm5n_70",uge="_menuItem_hwm5n_77",lge="_active_hwm5n_97",cge="_contentArea_hwm5n_102",fge="_messageList_hwm5n_108",dge="_messageItem_hwm5n_112",hge="_unread_hwm5n_122",pge="_messagePreview_hwm5n_126",mge="_sender_hwm5n_132",gge="_subject_hwm5n_137",yge="_timestamp_hwm5n_141",vge="_messageSnippet_hwm5n_146",_ge="_messageView_hwm5n_151",wge="_messageHeader_hwm5n_155",bge="_messageDate_hwm5n_165",Ege="_messageMeta_hwm5n_170",Sge="_messageBody_hwm5n_178",xge="_composeForm_hwm5n_183",Tge="_formGroup_hwm5n_187",Age="_formInput_hwm5n_191",Ige="_messageInput_hwm5n_204",Pge="_formFooter_hwm5n_219",Cge="_footerActions_hwm5n_226",Oge="_sendButton_hwm5n_232",kge="_attachButton_hwm5n_248",Rge="_fileInput_hwm5n_260",Nge="_attachmentName_hwm5n_264",Mge="_noMessages_hwm5n_269",Dge="_hamburgerMenu_hwm5n_275",jge="_headerActions_hwm5n_279",Lge="_notificationButton_hwm5n_285",$ge="_sidebarMobile_hwm5n_323",Fge="_composeBtn_hwm5n_425",Ve={formOverlay:Qme,visible:Jme,composeWrapper:Zme,minimized:ege,composeHeader:tge,headerTitle:nge,closeButton:rge,closeIcon:ige,mainContent:oge,sidebar:age,sidebarMenu:sge,menuItem:uge,active:lge,contentArea:cge,messageList:fge,messageItem:dge,unread:hge,messagePreview:pge,sender:mge,subject:gge,timestamp:yge,messageSnippet:vge,messageView:_ge,messageHeader:wge,messageDate:bge,messageMeta:Ege,messageBody:Sge,composeForm:xge,formGroup:Tge,formInput:Age,messageInput:Ige,formFooter:Pge,footerActions:Cge,sendButton:Oge,attachButton:kge,fileInput:Rge,attachmentName:Nge,noMessages:Mge,hamburgerMenu:Dge,headerActions:jge,notificationButton:Lge,sidebarMobile:$ge,composeBtn:Fge};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vge="type.googleapis.com/google.protobuf.Int64Value",Uge="type.googleapis.com/google.protobuf.UInt64Value";function RU(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function US(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>US(e));if(typeof t=="function"||typeof t=="object")return RU(t,e=>US(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Rg(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Vge:case Uge:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Rg(e)):typeof t=="function"||typeof t=="object"?RU(t,e=>Rg(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ha extends ui{constructor(e,n,r){super(`${rA}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Ha.prototype)}}function Bge(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qge(t,e){let n=Bge(t),r=n,i;try{const o=e&&e.error;if(o){const a=o.status;if(typeof a=="string"){if(!oj[a])return new Ha("internal","internal");n=oj[a],r=a}const l=o.message;typeof l=="string"&&(r=l),i=o.details,i!==void 0&&(i=Rg(i))}}catch{}return n==="ok"?null:new Ha(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zge{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="us-central1";function Wge(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Ha("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Hge{constructor(e,n,r,i,o=BS){this.app=e,this.emulatorOrigin=null,this.contextProvider=new zge(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=BS}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Kge(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function Gge(t,e,n){return r=>Xge(t,e,r,{})}async function Yge(t,e,n){n["Content-Type"]="application/json";let r;try{r=await fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await r.json()}catch{}return{status:r.status,json:i}}function Xge(t,e,n,r){const i=t._url(e);return Qge(t,i,n,r)}async function Qge(t,e,n,r){n=US(n);const i={data:n},o={},a=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(o.Authorization="Bearer "+a.authToken),a.messagingToken&&(o["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=a.appCheckToken);const l=r.timeout||7e4,c=Wge(l),f=await Promise.race([Yge(e,i,o),c.promise,t.cancelAllRequests]);if(c.cancel(),!f)throw new Ha("cancelled","Firebase Functions instance was deleted.");const h=qge(f.status,f.json);if(h)throw h;if(!f.json)throw new Ha("internal","Response is not valid JSON object.");let p=f.json.data;if(typeof p>"u"&&(p=f.json.result),typeof p>"u")throw new Ha("internal","Response is missing data field.");return{data:Rg(p)}}const aj="@firebase/functions",sj="0.11.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jge="auth-internal",Zge="app-check-internal",eye="messaging-internal";function tye(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(Jge),a=n.getProvider(eye),l=n.getProvider(Zge);return new Hge(i,o,a,l,r)};ii(new jr(rA,e,"PUBLIC").setMultipleInstances(!0)),Wn(aj,sj,t),Wn(aj,sj,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nye(t=Jd(),e=BS){const r=ns(lt(t),rA).getImmediate({identifier:e}),i=ZS("functions");return i&&rye(r,...i),r}function rye(t,e,n){Kge(lt(t),e,n)}function iye(t,e,n){return Gge(lt(t),e)}tye();const NU="@firebase/installations",iA="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=1e4,DU=`w:${iA}`,jU="FIS_v2",oye="https://firebaseinstallations.googleapis.com/v1",aye=60*60*1e3,sye="installations",uye="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lye={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fu=new pu(sye,uye,lye);function LU(t){return t instanceof ui&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U({projectId:t}){return`${oye}/projects/${t}/installations`}function FU(t){return{token:t.token,requestStatus:2,expiresIn:fye(t.expiresIn),creationTime:Date.now()}}async function VU(t,e){const r=(await e.json()).error;return fu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function UU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cye(t,{refreshToken:e}){const n=UU(t);return n.append("Authorization",dye(e)),n}async function BU(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fye(t){return Number(t.replace("s","000"))}function dye(t){return`${jU} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hye({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$U(t),i=UU(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={fid:n,authVersion:jU,appId:t.appId,sdkVersion:DU},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await BU(()=>fetch(r,l));if(c.ok){const f=await c.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:FU(f.authToken)}}else throw await VU("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pye(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mye=/^[cdef][\w-]{21}$/,qS="";function gye(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=yye(t);return mye.test(n)?n:qS}catch{return qS}}function yye(t){return pye(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new Map;function WU(t,e){const n=Ky(t);HU(n,e),vye(n,e)}function HU(t,e){const n=zU.get(t);if(n)for(const r of n)r(e)}function vye(t,e){const n=_ye();n&&n.postMessage({key:t,fid:e}),wye()}let Js=null;function _ye(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=t=>{HU(t.data.key,t.data.fid)}),Js}function wye(){zU.size===0&&Js&&(Js.close(),Js=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bye="firebase-installations-database",Eye=1,du="firebase-installations-store";let B1=null;function oA(){return B1||(B1=Lg(bye,Eye,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(du)}}})),B1}async function Ng(t,e){const n=Ky(t),i=(await oA()).transaction(du,"readwrite"),o=i.objectStore(du),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&WU(t,e.fid),e}async function KU(t){const e=Ky(t),r=(await oA()).transaction(du,"readwrite");await r.objectStore(du).delete(e),await r.done}async function Gy(t,e){const n=Ky(t),i=(await oA()).transaction(du,"readwrite"),o=i.objectStore(du),a=await o.get(n),l=e(a);return l===void 0?await o.delete(n):await o.put(l,n),await i.done,l&&(!a||a.fid!==l.fid)&&WU(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t){let e;const n=await Gy(t.appConfig,r=>{const i=Sye(r),o=xye(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===qS?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Sye(t){const e=t||{fid:gye(),registrationStatus:0};return GU(e)}function xye(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(fu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Tye(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Aye(t)}:{installationEntry:e}}async function Tye(t,e){try{const n=await hye(t,e);return Ng(t.appConfig,n)}catch(n){throw LU(n)&&n.customData.serverCode===409?await KU(t.appConfig):await Ng(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Aye(t){let e=await uj(t.appConfig);for(;e.registrationStatus===1;)await qU(100),e=await uj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await aA(t);return r||n}return e}function uj(t){return Gy(t,e=>{if(!e)throw fu.create("installation-not-found");return GU(e)})}function GU(t){return Iye(t)?{fid:t.fid,registrationStatus:0}:t}function Iye(t){return t.registrationStatus===1&&t.registrationTime+MU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pye({appConfig:t,heartbeatServiceProvider:e},n){const r=Cye(t,n),i=cye(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={installation:{sdkVersion:DU,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await BU(()=>fetch(r,l));if(c.ok){const f=await c.json();return FU(f)}else throw await VU("Generate Auth Token",c)}function Cye(t,{fid:e}){return`${$U(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(t,e=!1){let n;const r=await Gy(t.appConfig,o=>{if(!YU(o))throw fu.create("not-registered");const a=o.authToken;if(!e&&Rye(a))return o;if(a.requestStatus===1)return n=Oye(t,e),o;{if(!navigator.onLine)throw fu.create("app-offline");const l=Mye(o);return n=kye(t,l),l}});return n?await n:r.authToken}async function Oye(t,e){let n=await lj(t.appConfig);for(;n.authToken.requestStatus===1;)await qU(100),n=await lj(t.appConfig);const r=n.authToken;return r.requestStatus===0?sA(t,e):r}function lj(t){return Gy(t,e=>{if(!YU(e))throw fu.create("not-registered");const n=e.authToken;return Dye(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kye(t,e){try{const n=await Pye(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ng(t.appConfig,r),n}catch(n){if(LU(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await KU(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ng(t.appConfig,r)}throw n}}function YU(t){return t!==void 0&&t.registrationStatus===2}function Rye(t){return t.requestStatus===2&&!Nye(t)}function Nye(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+aye}function Mye(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Dye(t){return t.requestStatus===1&&t.requestTime+MU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jye(t){const e=t,{installationEntry:n,registrationPromise:r}=await aA(e);return r?r.catch(console.error):sA(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lye(t,e=!1){const n=t;return await $ye(n),(await sA(n,e)).token}async function $ye(t){const{registrationPromise:e}=await aA(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fye(t){if(!t||!t.options)throw q1("App Configuration");if(!t.name)throw q1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw q1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function q1(t){return fu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="installations",Vye="installations-internal",Uye=t=>{const e=t.getProvider("app").getImmediate(),n=Fye(e),r=ns(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Bye=t=>{const e=t.getProvider("app").getImmediate(),n=ns(e,XU).getImmediate();return{getId:()=>jye(n),getToken:i=>Lye(n,i)}};function qye(){ii(new jr(XU,Uye,"PUBLIC")),ii(new jr(Vye,Bye,"PRIVATE"))}qye();Wn(NU,iA);Wn(NU,iA,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zye="/firebase-messaging-sw.js",Wye="/firebase-cloud-messaging-push-scope",QU="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hye="https://fcmregistrations.googleapis.com/v1",JU="google.c.a.c_id",Kye="google.c.a.c_l",Gye="google.c.a.ts",Yye="google.c.a.e";var cj;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(cj||(cj={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Hd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Hd||(Hd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xye(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="fcm_token_details_db",Qye=5,fj="fcm_token_object_Store";async function Jye(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(z1))return null;let e=null;return(await Lg(z1,Qye,{upgrade:async(r,i,o,a)=>{var l;if(i<2||!r.objectStoreNames.contains(fj))return;const c=a.objectStore(fj),f=await c.index("fcmSenderId").get(t);if(await c.clear(),!!f){if(i===2){const h=f;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:(l=h.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:Po(h.vapidKey)}}}else if(i===3){const h=f;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Po(h.auth),p256dh:Po(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Po(h.vapidKey)}}}else if(i===4){const h=f;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Po(h.auth),p256dh:Po(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Po(h.vapidKey)}}}}}})).close(),await k_(z1),await k_("fcm_vapid_details_db"),await k_("undefined"),Zye(e)?e:null}function Zye(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eve="firebase-messaging-database",tve=1,Kd="firebase-messaging-store";let W1=null;function ZU(){return W1||(W1=Lg(eve,tve,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Kd)}}})),W1}async function nve(t){const e=eB(t),r=await(await ZU()).transaction(Kd).objectStore(Kd).get(e);if(r)return r;{const i=await Jye(t.appConfig.senderId);if(i)return await uA(t,i),i}}async function uA(t,e){const n=eB(t),i=(await ZU()).transaction(Kd,"readwrite");return await i.objectStore(Kd).put(e,n),await i.done,e}function eB({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rve={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kn=new pu("messaging","Messaging",rve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ive(t,e){const n=await cA(t),r=tB(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(lA(t.appConfig),i)).json()}catch(a){throw Kn.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(o.error){const a=o.error.message;throw Kn.create("token-subscribe-failed",{errorInfo:a})}if(!o.token)throw Kn.create("token-subscribe-no-token");return o.token}async function ove(t,e){const n=await cA(t),r=tB(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${lA(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw Kn.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(o.error){const a=o.error.message;throw Kn.create("token-update-failed",{errorInfo:a})}if(!o.token)throw Kn.create("token-update-no-token");return o.token}async function ave(t,e){const r={method:"DELETE",headers:await cA(t)};try{const o=await(await fetch(`${lA(t.appConfig)}/${e}`,r)).json();if(o.error){const a=o.error.message;throw Kn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw Kn.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function lA({projectId:t}){return`${Hye}/projects/${t}/registrations`}async function cA({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function tB({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==QU&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sve=7*24*60*60*1e3;async function uve(t){const e=await cve(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Po(e.getKey("auth")),p256dh:Po(e.getKey("p256dh"))},r=await nve(t.firebaseDependencies);if(r){if(fve(r.subscriptionOptions,n))return Date.now()>=r.createTime+sve?lve(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await ave(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return dj(t.firebaseDependencies,n)}else return dj(t.firebaseDependencies,n)}async function lve(t,e){try{const n=await ove(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await uA(t.firebaseDependencies,r),n}catch(n){throw n}}async function dj(t,e){const r={token:await ive(t,e),createTime:Date.now(),subscriptionOptions:e};return await uA(t,r),r.token}async function cve(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xye(e)})}function fve(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return dve(e,t),hve(e,t),pve(e,t),e}function dve(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function hve(t,e){e.data&&(t.data=e.data)}function pve(t,e){var n,r,i,o,a;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const l=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;l&&(t.fcmOptions.link=l);const c=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mve(t){return typeof t=="object"&&!!t&&JU in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gve(t){if(!t||!t.options)throw H1("App Configuration Object");if(!t.name)throw H1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw H1(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function H1(t){return Kn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yve{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=gve(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vve(t){try{t.swRegistration=await navigator.serviceWorker.register(zye,{scope:Wye}),t.swRegistration.update().catch(()=>{})}catch(e){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ve(t,e){if(!e&&!t.swRegistration&&await vve(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wve(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=QU)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(t,e){if(!navigator)throw Kn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Kn.create("permission-blocked");return await wve(t,e==null?void 0:e.vapidKey),await _ve(t,e==null?void 0:e.serviceWorkerRegistration),uve(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bve(t,e,n){const r=Eve(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[JU],message_name:n[Kye],message_time:n[Gye],message_device_time:Math.floor(Date.now()/1e3)})}function Eve(t){switch(t){case Hd.NOTIFICATION_CLICKED:return"notification_open";case Hd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sve(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Hd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(hj(n)):t.onMessageHandler.next(hj(n)));const r=n.data;mve(r)&&r[Yye]==="1"&&await bve(t,n.messageType,r)}const pj="@firebase/messaging",mj="0.12.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xve=t=>{const e=new yve(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Sve(e,n)),e},Tve=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>nB(e,r)}};function Ave(){ii(new jr("messaging",xve,"PUBLIC")),ii(new jr("messaging-internal",Tve,"PRIVATE")),Wn(pj,mj),Wn(pj,mj,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ive(){try{await Kj()}catch{return!1}return typeof window<"u"&&Hj()&&m5()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pve(t,e){if(!navigator)throw Kn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cve(t=Jd()){return Ive().then(e=>{if(!e)throw Kn.create("unsupported-browser")},e=>{throw Kn.create("indexed-db-unsupported")}),ns(lt(t),"messaging").getImmediate()}async function Ove(t,e){return t=lt(t),nB(t,e)}function kve(t,e){return t=lt(t),Pve(t,e)}Ave();const rB=Cve(si),Rve=$r(si),Nve="BKXr4iC6ePoro8waXRhqdMAQBjeS6SEySfJIR7oueqzE2dnB9sU-kXTBfGs2ko_1skNVMvBaWKxYcayq-NIGlRU";async function iB(t){try{if(!("serviceWorker"in navigator))throw new Error("Service Worker is not supported");const e=await navigator.serviceWorker.ready;if(Notification.permission==="granted")return await gj(t,e);if(await Notification.requestPermission()==="granted")return await gj(t,e);throw new Error("Notification permission denied")}catch(e){throw console.error("Error requesting notification permission:",e),e}}async function gj(t,e){try{const n=await Ove(rB,{vapidKey:Nve,serviceWorkerRegistration:e});if(n){const r=Fo(Rve,"users",t);return(await ly(r)).exists()?await Za(r,{fcmTokens:{[n]:!0,lastUpdated:new Date().toISOString()}}):await z7(r,{fcmTokens:{[n]:!0,lastUpdated:new Date().toISOString()}}),n}else throw new Error("No registration token available")}catch(n){throw console.error("Error setting up FCM:",n),n}}function Mve(){return new Promise(t=>{kve(rB,e=>{t(e)})})}const Dve=({onClose:t})=>{const[e,n]=U.useState(!1),[r,i]=U.useState(!1),[o,a]=U.useState([]),[l,c]=U.useState([]),[f,h]=U.useState([]),[p,y]=U.useState(null),[_,w]=U.useState("inbox"),[E,v]=U.useState(!1),[I,A]=U.useState(!1),[R,j]=U.useState({to:"",subject:"",message:"",attachment:null}),O=$r(),D=Fi(),P=nye(),k=U.useRef(null);U.useEffect(()=>{F()},[_]),U.useEffect(()=>{const X=J=>{k.current&&!k.current.contains(J.target)&&!J.target.closest(`.${Ve.hamburgerMenu}`)&&v(!1)};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[]);const M=async()=>{try{const X=D.currentUser;if(!X){alert("Please sign in to enable notifications");return}await iB(X.uid)&&A(!0)}catch(X){console.error("Error enabling notifications:",X)}},F=async()=>{try{const X=D.currentUser;if(!X)return;const J=ht(O,"Messages"),z=tn(J,Sn("sendTo","==",X.email)),Y=await Ot(z),le=[];Y.forEach(De=>{le.push({id:De.id,...De.data()})});const be=tn(J,Sn("sender","==",X.email)),xe=await Ot(be),Ne=[];xe.forEach(De=>{Ne.push({id:De.id,...De.data()})}),le.sort((De,ce)=>{var oe,ye;return((oe=ce.timestamp)==null?void 0:oe.toMillis())-((ye=De.timestamp)==null?void 0:ye.toMillis())}),Ne.sort((De,ce)=>{var oe,ye;return((oe=ce.timestamp)==null?void 0:oe.toMillis())-((ye=De.timestamp)==null?void 0:ye.toMillis())}),c(le),h(Ne),a(_==="inbox"?le:Ne)}catch(X){console.error("Error fetching messages:",X)}},L=X=>{w(X),i(!1),y(null),a(X==="inbox"?l:f)},V=async X=>{try{const J=Fo(O,"Messages",X);await Za(J,{read:!0}),console.log("Message marked as read")}catch(J){console.error("Error updating message:",J)}},C=async X=>{X.preventDefault();try{const J=D.currentUser;if(!J)return;const z=await cy(ht(O,"Messages"),{sendTo:R.to,subject:R.subject,message:R.message,sender:J.email,timestamp:Xx(),read:!1}),Y=tn(ht(O,"users"),Sn("email","==",R.to)),le=await Ot(Y);if(!le.empty){const be=le.docs[0],xe=be.id;be.data().fcmTokens&&await iye(P,"sendNotification")({userId:xe,title:`New message from ${J.email}`,body:R.subject,data:{messageId:z.id,type:"new_message",url:`/messages/${z.id}`}})}j({to:"",subject:"",message:"",attachment:null}),i(!1),F()}catch(J){console.error("Error sending message:",J)}},W=X=>{const{name:J,value:z}=X.target;j(Y=>({...Y,[J]:z}))},K=X=>{j(J=>({...J,attachment:X.target.files[0]}))},Z=X=>{if(!X)return"";const J=X.toDate();return J.toLocaleDateString()+" "+J.toLocaleTimeString()},re=()=>{v(!E)},Q=()=>S.jsxs("div",{className:Ve.composeHeader,children:[S.jsx("button",{className:rn.buttons,onClick:()=>L("inbox"),children:"BACK"}),S.jsx("h2",{className:Ve.headerTitle,children:"Messages"}),S.jsxs("div",{className:Ve.headerActions,children:[!I&&S.jsx("button",{onClick:M,className:`${Ve.notificationButton} ${rn.buttons}`,title:"Enable notifications",children:S.jsx(R6,{})}),S.jsx("button",{className:Ve.hamburgerMenu,onClick:re,children:S.jsx(jj,{})})]})]});return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:`${Ve.formOverlay} ${e?"":Ve.visible}`,onClick:t}),S.jsxs("div",{className:`${Ve.composeWrapper} ${e?Ve.minimized:""}`,children:[Q(),S.jsxs("div",{className:Ve.mainContent,children:[S.jsxs("div",{ref:k,className:`${Ve.sidebar} ${E?Ve.sidebarMobile:""}`,children:[S.jsxs("button",{className:rn.buttons,onClick:()=>{i(!0),y(null),v(!1)},children:[S.jsx(JS,{})," Compose"]}),S.jsxs("div",{className:Ve.sidebarMenu,children:[S.jsxs("button",{className:`${Ve.menuItem} ${_==="inbox"&&!r?Ve.active:""}`,onClick:()=>L("inbox"),children:[S.jsx(B6,{})," Inbox (",l.length,")"]}),S.jsxs("button",{className:`${Ve.menuItem} ${_==="sent"&&!r?Ve.active:""}`,onClick:()=>L("sent"),children:[S.jsx($6,{})," Sent (",f.length,")"]})]})]}),S.jsx("div",{className:Ve.contentArea,children:r?S.jsxs("form",{onSubmit:C,className:Ve.composeForm,children:[S.jsx("div",{className:Ve.formGroup,children:S.jsx("input",{type:"email",name:"to",value:R.to,onChange:W,placeholder:"To",className:Ve.formInput,required:!0})}),S.jsx("div",{className:Ve.formGroup,children:S.jsx("input",{type:"text",name:"subject",value:R.subject,onChange:W,placeholder:"Subject",className:Ve.formInput,required:!0})}),S.jsx("div",{className:Ve.formGroup,children:S.jsx("textarea",{name:"message",value:R.message,onChange:W,placeholder:"Write your request here...",className:Ve.messageInput,required:!0})}),S.jsxs("div",{className:Ve.formFooter,children:[S.jsxs("div",{className:Ve.footerActions,children:[S.jsxs("button",{type:"submit",className:Ve.sendButton,children:[S.jsx(G6,{className:Ve.sendIcon}),"Send"]}),S.jsxs("label",{className:Ve.attachButton,children:[S.jsx("input",{type:"file",onChange:K,className:Ve.fileInput}),S.jsx(H6,{className:Ve.attachIcon})]})]}),R.attachment&&S.jsx("span",{className:Ve.attachmentName,children:R.attachment.name})]})]}):p?S.jsxs("div",{className:Ve.messageView,children:[S.jsxs("div",{className:Ve.messageHeader,children:[S.jsx("h3",{children:p.subject}),S.jsx("span",{className:Ve.messageDate,children:Z(p.timestamp)})]}),S.jsxs("div",{className:Ve.messageMeta,children:[S.jsxs("span",{children:["From: ",p.sender]}),S.jsxs("span",{children:["To: ",p.sendTo]})]}),S.jsx("div",{className:Ve.messageBody,children:p.message})]}):S.jsxs("div",{className:Ve.messageList,children:[o.map(X=>S.jsxs("div",{className:`${Ve.messageItem} ${!X.read&&_==="inbox"?Ve.unread:""}`,onClick:()=>{y(X),_==="inbox"&&V(X.id)},children:[S.jsxs("div",{className:Ve.messagePreview,children:[S.jsx("span",{className:Ve.sender,children:_==="inbox"?X.sender:X.sendTo}),S.jsx("span",{className:Ve.subject,children:X.subject}),S.jsx("span",{className:Ve.timestamp,children:Z(X.timestamp)})]}),S.jsxs("div",{className:Ve.messageSnippet,children:[X.message.substring(0,100),"..."]})]},X.id)),o.length===0&&S.jsxs("div",{className:Ve.noMessages,children:["No messages in your ",_]})]})})]})]})]})},jve="_nfc_container_1riqr_2",Lve="_network_header_1riqr_8",$ve="_network_stats_1riqr_16",Fve="_stat_card_1riqr_22",Vve="_stat_value_1riqr_29",Uve="_active_1riqr_36",Bve="_has_event_1riqr_40",qve="_server_section_1riqr_44",zve="_server_icon_1riqr_49",Wve="_server_status_1riqr_56",Hve="_scanners_grid_1riqr_62",Kve="_scanner_card_1riqr_69",Gve="_inactive_1riqr_81",Yve="_scanner_icon_1riqr_86",Xve="_status_icon_1riqr_92",Qve="_scanner_info_1riqr_104",Jve="_scanner_id_1riqr_109",Zve="_scanner_status_1riqr_115",yt={nfc_container:jve,network_header:Lve,network_stats:$ve,stat_card:Fve,stat_value:Vve,active:Uve,has_event:Bve,server_section:qve,server_icon:zve,server_status:Wve,scanners_grid:Hve,scanner_card:Kve,inactive:Gve,scanner_icon:Yve,status_icon:Xve,scanner_info:Qve,scanner_id:Jve,scanner_status:Zve},e_e={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};$g(e_e);const yj=$r(),t_e=()=>{const[t,e]=U.useState([]),[n,r]=U.useState([]),[i,o]=U.useState([]);return U.useEffect(()=>{const a=tn(ht(yj,"ScannerDevices")),l=tn(ht(yj,"PendingEvent")),c=wE(a,h=>{const p=h.docs.map(y=>({id:y.id,uniqueId:y.data().Unique_id,name:y.data().name||`Scanner-${y.data().Unique_id}`,isActivated:y.data().isActivated||!1,lastPing:new Date}));e(p)}),f=wE(l,h=>{const p=h.docs.map(y=>({id:y.id,selectedEsp32:y.data().selectedEsp32}));r(p)});return()=>{c(),f()}},[]),U.useEffect(()=>{const a=t.map(l=>({...l,hasEvent:n.some(c=>c.selectedEsp32===l.uniqueId)}));o(a)},[t,n]),S.jsxs("div",{className:yt.nfc_container,children:[S.jsxs("div",{className:yt.network_header,children:[S.jsx("h1",{children:"NFC Scanner Network Status"}),S.jsxs("div",{className:yt.network_stats,children:[S.jsxs("div",{className:yt.stat_card,children:[S.jsx("h3",{children:"Active Scanners"}),S.jsx("span",{className:`${yt.stat_value} ${yt.active}`,children:i.filter(a=>a.isActivated).length})]}),S.jsxs("div",{className:yt.stat_card,children:[S.jsx("h3",{children:"Total Scanners"}),S.jsx("span",{className:yt.stat_value,children:i.length})]}),S.jsxs("div",{className:yt.stat_card,children:[S.jsx("h3",{children:"With Events"}),S.jsx("span",{className:`${yt.stat_value} ${yt.has_event}`,children:i.filter(a=>a.hasEvent).length})]})]})]}),S.jsx("div",{className:yt.server_section,children:S.jsxs("div",{className:yt.server_icon,children:[S.jsx(Y6,{size:48}),S.jsx("span",{children:"Web Server"}),S.jsx("span",{className:yt.server_status,children:"Online"})]})}),S.jsx("div",{className:yt.scanners_grid,children:i.map(a=>S.jsxs("div",{className:`${yt.scanner_card} ${a.hasEvent?yt.has_event:""} ${a.isActivated?"":yt.inactive}`,children:[S.jsxs("div",{className:yt.scanner_icon,children:[S.jsx(j6,{size:32}),a.isActivated?S.jsx(Z6,{className:`${yt.status_icon} ${yt.active}`,size:16}):S.jsx(J6,{className:`${yt.status_icon} ${yt.inactive}`,size:16})]}),S.jsxs("div",{className:yt.scanner_info,children:[S.jsx("h3",{children:a.name}),S.jsx("p",{className:yt.scanner_id,children:a.uniqueId}),S.jsx("p",{className:`${yt.scanner_status} ${a.hasEvent?yt.has_event:a.isActivated?yt.active:yt.inactive}`,children:a.hasEvent?"Has Pending Event":a.isActivated?"Active":"Inactive"})]})]},a.id))})]})},n_e="modulepreload",r_e=function(t){return"/NFC-CAPSTONE-PROJECT/"+t},vj={},i_e=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=r_e(c),c in vj)return;vj[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":n_e,f||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((y,_)=>{p.addEventListener("load",y),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};function o_e(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=t;let l,c;const f=async(p=!0)=>{await c};async function h(){if("serviceWorker"in navigator){if(l=await i_e(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/NFC-CAPSTONE-PROJECT/service worker.js",{scope:"/NFC-CAPSTONE-PROJECT/",type:"classic"})).catch(p=>{a==null||a(p)}),!l)return;l.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),l.addEventListener("installed",p=>{p.isUpdate||r==null||r()}),l.register({immediate:e}).then(p=>{o?o("/NFC-CAPSTONE-PROJECT/service worker.js",p):i==null||i(p)}).catch(p=>{a==null||a(p)})}}return c=h(),f}function a_e(){const[t,e]=U.useState("pending"),[n,r]=U.useState(!1),[i,o]=U.useState(!1);return U.useEffect(()=>{let a=null,l;const c=async()=>{if(a){o(!0);try{await a.update(),console.log("Checked for updates")}catch(h){console.error("Error checking for updates:",h)}finally{o(!1)}}};return(async()=>{try{const h=o_e({immediate:!0,onNeedRefresh(){r(!0),window.updateSW()},onOfflineReady(){console.log("App ready to work offline"),e("offline-ready")},onRegistered(p){console.log("Service Worker registered:",p),a=p,e("registered"),c(),l=setInterval(c,9e5)},onRegisterError(p){console.error("Service Worker registration failed:",p),e("error")}});window.updateSW=()=>{h(!0),r(!1)}}catch(h){console.error("Service Worker registration failed:",h),e("error")}})(),()=>{l&&clearInterval(l)}},[]),n&&(console.log("New version available!"),console.log('Click the "Update now" button to update.'),i&&console.log("Checking for updates...")),null}const s_e=U.createContext({});function u_e(){return U.useContext(s_e)}function l_e(){const[t,e]=U.useState("pending"),[n,r]=U.useState(null),{currentUser:i}=u_e();U.useEffect(()=>{o(),a()},[i]);const o=async()=>{try{if(!("Notification"in window)){e("unsupported");return}if(e(Notification.permission),Notification.permission==="granted"&&i){const l=await iB(i.uid);r(l)}}catch(l){console.error("Error checking notification status:",l),e("error")}},a=()=>{Mve().then(l=>{const{title:c,body:f}=l.notification;new Notification(c,{body:f,icon:"/icons/icon.svg"})}).catch(l=>console.error("Error setting up message listener:",l))};t==="unsupported"&&console.log("Push notifications are not supported in this browser."),console.log(`Status: ${t}`),t!=="granted"&&console.log("Enable Notifications"),n&&console.log("Notifications enabled for this device"),t==="unsupported"&&console.log("Push notifications are not supported in this browser."),console.log(`Status: ${t}`),t!=="granted"&&console.log("Enable Notifications"),n&&console.log("Notifications enabled for this device")}function c_e(){return S.jsxs(S.Fragment,{children:[S.jsx(l_e,{}),S.jsx(a_e,{}),S.jsx(kU,{children:S.jsx(N3,{children:S.jsxs(l3,{children:[S.jsx(tr,{path:"/",element:S.jsx(kP,{to:"/login",replace:!0})}),S.jsx(tr,{path:"/login",element:S.jsx(_de,{})}),S.jsxs(tr,{path:"/dashboard/*",element:S.jsx(vle,{}),children:[S.jsx(tr,{path:"create-event",element:S.jsx(gfe,{})}),S.jsx(tr,{path:"registered-teachers",element:S.jsx(Eme,{})}),S.jsx(tr,{path:"registered-students",element:S.jsx(Xme,{})}),S.jsx(tr,{path:"teacher-registration",element:S.jsx(Hpe,{})}),S.jsx(tr,{path:"student-registration",element:S.jsx($fe,{})}),S.jsx(tr,{path:"nfc-reader",element:S.jsx(Zfe,{})}),S.jsx(tr,{path:"event-list",element:S.jsx(Bde,{})}),S.jsx(tr,{path:"request-message",element:S.jsx(Dve,{})}),S.jsx(tr,{path:"nfc-scanner",element:S.jsx(t_e,{})}),S.jsx(tr,{path:"file-manager",element:S.jsx(Tpe,{})})]}),S.jsx(tr,{path:"*",element:S.jsx(kP,{to:"/login",replace:!0})})]})})})]})}const f_e=document.getElementById("root"),d_e=gq.createRoot(f_e);d_e.render(S.jsx(c_e,{}));
